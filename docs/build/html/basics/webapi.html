

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>MusicDB Websocket API &mdash; MusicDB 2.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="MusicDB 2.0.0 documentation" href="../index.html"/>
        <link rel="next" title="Workflow for development" href="workflow.html"/>
        <link rel="prev" title="MusicDB Test VMs" href="testvm.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> MusicDB
          

          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Concepts</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="comparison.html">Comparison to Other Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="comparison.html#introducing-other-tools">Introducing other tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="comparison.html#metrics">Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="comparison.html#comparison">Comparison</a></li>
<li class="toctree-l2"><a class="reference internal" href="comparison.html#conclusion">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="concept.html">Basic Rules for MusicDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">MusicDB Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="config.html#server">server</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#websocket">websocket</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#tls">TLS</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#database">database</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#music">music</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#artwork">artwork</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#extern">extern</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#tracker">tracker</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#lycra">lycra</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#mpd">MPD</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#musicai">MusicAI</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#randy">Randy</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#log">log</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#debug">debug</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Handling log-files</a></li>
<li class="toctree-l1"><a class="reference internal" href="mods.html">MusicDB Commandline Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mods.html#loading-of-modules">Loading of Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="mods.html#creation-of-new-modules">Creation of new Modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="testvm.html">MusicDB Test VMs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="testvm.html#qemu-installation">qemu Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="testvm.html#basic-setup">Basic Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="testvm.html#disk-images">Disk Images</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="testvm.html#system-setup">System Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="testvm.html#installing-updating-musicdb-test-environment">Installing/Updating MusicDB Test Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="testvm.html#create-dummy-files">Create Dummy Files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="testvm.html#test-systems">Test Systems</a><ul>
<li class="toctree-l3"><a class="reference internal" href="testvm.html#debian">Debian</a></li>
<li class="toctree-l3"><a class="reference internal" href="testvm.html#raspian">Raspian</a></li>
<li class="toctree-l3"><a class="reference internal" href="testvm.html#arch-linux">Arch Linux</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">MusicDB Websocket API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#communication">Communication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#packet-format">Packet format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#client-side-interface">Client side interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#callback-functions">Callback functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#send-data-to-the-server">Send data to the server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-lib.ws.mdbwsi">Server side API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#artists">Artists</a></li>
<li class="toctree-l3"><a class="reference internal" href="#albums">Albums</a></li>
<li class="toctree-l3"><a class="reference internal" href="#songs">Songs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#queue">Queue</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tag-related">Tag related</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lyrics">Lyrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other">Other</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Workflow for development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="workflow.html#working-on-code">Working on code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#rebuilding-the-documentation">Rebuilding the Documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="workflow.html#using-git">Using git</a><ul>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#micro-commits">Micro Commits</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#createing-a-hotfix">Createing a Hotfix</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#merging-develop-to-master">Merging Develop to Master</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="workflow.html#releasing-a-new-version">Releasing a New Version</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usage/install.html">Installation &amp; Update</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../usage/install.html#installation-automatic">Installation (Automatic)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#install-dependencies">Install Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#executing-the-install-sh-script">Executing the install.sh Script</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#install-all-dependencies">Install all Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#configureing-musicdb">Configureing MusicDB</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/install.html#installation-manually">Installation (Manually)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#system-preparation">System Preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#id1">Install dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#basic-packages">Basic packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#mpd-music-player-daemon">MPD - Music Player Daemon</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#apache-http-server">Apache HTTP-Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#download-musicdb">Download MusicDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#libprinthex">libprinthex</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#id3edit">id3edit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#musicdb">musicdb</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/install.html#configureing-musicdb-webui">Configureing MusicDB WebUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/install.html#cuda-for-musicai">CUDA for MusicAI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/install.html#first-run">First Run</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/install.html#update">Update</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usage/music.html">Music</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../usage/music.html#naming">Naming</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/music.html#artist-directory-name">Artist Directory Name</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/music.html#album-directory-name">Album Directory Name</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/music.html#song-file-name">Song File Name</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/music.html#importing-albums-to-musicdb">Importing Albums to MusicDB</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/music.html#using-the-database-module">Using the database module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/music.html#using-the-repair-module">Using the repair module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/music.html#using-the-add-module">Using the add module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/music.html#updating-songs">Updating Songs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usage/scripts.html">Scripts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../usage/scripts.html#musicdb-boot">musicdb-boot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/scripts.html#musicdb-shutdown">musicdb-shutdown</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/scripts.html#musicdb-start">musicdb-start</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/scripts.html#musicdb-stop">musicdb-stop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/scripts.html#quickupdate">quickupdate</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">CLI Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mod/add.html">add - Add New Album to MusicDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mod/artwork.html">artwork - Artwork Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/artwork.html#class">class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mod/database.html">database - Music DB Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mod/extern.html">extern - Music File Uploader</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/extern.html#class">class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mod/extern.html#automatization">Automatization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mod/genres.html">genres - Genre Manager with CLUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mod/metadata.html">metadata - Metadata Reader</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mod/mise.html">mise - Micro Search Engine</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/mise.html#class">class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mod/moods.html">moods - Mood Tag Manager with CLUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mod/musicai.html">musicai - MusicAI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/musicai.html#module-mod.musicai">Module Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mod/musicai.html#class-description">Class Description</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mod/repair.html">repair - Repair Database Entries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mod/server.html">server - MusicDB Websocket Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mod/stats.html">stats - MusicDB Song Statistic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mod/tags.html">tags - MusicDB Tag Manager</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/tags.html#main-commands">Main commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mod/tags.html#style-guide">Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mod/tags.html#example-calls">Example calls</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mod/tracker.html">tracker - Song Tracker</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/tracker.html#module-mod.tracker">Module Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mod/tracker.html#class-description">Class Description</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">API Classes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/artwork.html">Artwork Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#database">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#path-structure">Path structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../mdbapi/artwork.html#webbrowsers">Webbrowsers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#scaling">Scaling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#manifest">Manifest</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#algorithm">Algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#musicdbartwork-class">MusicDBArtwork Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#module-lib.cache">ArtworkCache Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/database.html">MusicDBDatabase</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/database.html#musicdbdatabase-class">MusicDBDatabase Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/extern.html">MusicDBExtern</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/extern.html#initializing-a-storage">Initializing a Storage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../mdbapi/extern.html#storage-configuration">Storage Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mdbapi/extern.html#the-state-file">The State-File</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/extern.html#updating-a-storage">Updating a Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/extern.html#handling-toxic-environments">Handling Toxic Environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/extern.html#musicdbextern-class">MusicDBExtern Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/lycra.html">LyCra - Lyrics Crawler</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/lycra.html#module-mdbapi.lycra">Lycra API Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/lycra.html#crawler-base-class">Crawler Base Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/lycra.html#module-lib.db.lycradb">Lycra Database</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/mise.html">Micro Search Engine</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/mise.html#musicdbmicrosearchengine-class">MusicDBMicroSearchEngine Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/mpd.html">mpd / Music Playing Daemon Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/mpd.html#interface">Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/mpd.html#observer-thread">Observer Thread</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/mpd.html#callbacks">Callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/mpd.html#managing-mpd">Managing MPD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/mpd.html#queue-management">Queue management</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/musicai.html">MusicAI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/musicai.html#external-dependencies">External Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/musicai.html#training-time">Training Time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/musicai.html#removing-an-old-model">Removing an old model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/musicai.html#data-handling">Data Handling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../mdbapi/musicai.html#featureset">Featureset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mdbapi/musicai.html#trainingset">Trainingset</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/musicai.html#module-mdbapi.musicai">MusicAI Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/musicai.html#musicai-class">MusicAI Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/randy.html">Randomizer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/randy.html#module-mdbapi.randy">Randy Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/randy.html#randyinterface-class">RandyInterface Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/server.html">MusicDB Websocket Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/tags.html">MusicDBTags</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/tags.html#musicdbtags-class">MusicDBTags Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/tracker.html">Song Tracker</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/tracker.html#trackerinterface-class">TrackerInterface Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/tracker.html#module-lib.db.trackerdb">Tracker Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/tracker.html#trackerdatabase-class">TrackerDatabase Class</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Libraries</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../lib/clui.html">Command Line User Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/clui.html#module-lib.clui.text">Text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/clui.html#module-lib.clui.frame">Frame</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/clui.html#module-lib.clui.pane">Pane</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/clui.html#module-lib.clui.buttonview">ButtonView</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/clui.html#module-lib.clui.listview">ListView</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/clui.html#module-lib.clui.dialog">Dialog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/clui.html#module-lib.clui.textinput">TextInput</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/clui.html#module-lib.clui.boolinput">BoolInput</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/clui.html#module-lib.clui.tabgroup">TabGroup</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib/config.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/config.html#module-lib.cfg.config">Base Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/config.html#musicdb-configuration">MusicDB Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/config.html#module-lib.cfg.extern">External Storage Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/config.html#module-lib.cfg.mdbstate">MusicDB State</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib/database.html">Database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/database.html#database-class">Database Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib/filesystem.html">Filesystem Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/filesystem.html#filesystem-class">Filesystem Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib/hdf5storage.html">HDF5Storage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/hdf5storage.html#hdf5storage-class">HDF5Storage Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib/metatags.html">Meta Tags</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/metatags.html#metatags-class">MetaTags Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib/musicdb.html">MusicDatabase</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/musicdb.html#adding-a-column">Adding a Column</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/musicdb.html#songs">Songs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/musicdb.html#albums">Albums</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib/musicdb.html#album-related-methods">Album Related Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib/musicdb.html#artworks">Artworks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib/musicdb.html#origin">Origin</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib/musicdb.html#artists">Artists</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/musicdb.html#lyrics">Lyrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/musicdb.html#tags">Tags</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib/musicdb.html#tag-definition-table">Tag Definition Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib/musicdb.html#tag-mapping-table">Tag Mapping Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib/musicdb.html#database-api">Database API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib/musicdb.html#musicdatabase-class">MusicDatabase Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib/namedpipe.html">NamedPipe</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/namedpipe.html#namedpipe-class">NamedPipe Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib/pidfile.html">PID File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lib/websockets.html">MusicDB Websocket Protocol</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/websockets.html#module-lib.ws.server">Websocket Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/websockets.html#module-lib.ws.websocket">Websocket Protocol</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">JaveScript Classes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../webui/taginput.html">Tag Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../webui/taginput.html#taginput-js">taginput.js</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../webui/taginput.html#files">Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../webui/taginput.html#musicdb-interface">MusicDB Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../webui/taginput.html#functions">Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../webui/taginput.html#tagmanager-js">tagmanager.js</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../webui/taginput.html#id1">Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../webui/taginput.html#id2">MusicDB Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../webui/taginput.html#id3">Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../webui/websockets.html">Websocket Connection</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../webui/websockets.html#connection-process">Connection Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../webui/websockets.html#watchdog">Watchdog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../webui/websockets.html#communication-with-the-server">Communication with the server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../webui/websockets.html#sending-data">Sending Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../webui/websockets.html#receiving-data">Receiving Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../webui/websockets.html#minimal-usage">Minimal usage</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../other/impressum.html">Impressum</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#angaben-gemasz-5-tmg">Angaben gemäß § 5 TMG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#kontakt">Kontakt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#verantwortlich-fur-den-inhalt-nach-55-abs-2-rstv">Verantwortlich für den Inhalt nach § 55 Abs. 2 RStV</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#haftung-fur-inhalte">Haftung für Inhalte</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#haftung-fur-links">Haftung für Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#urheberrecht">Urheberrecht</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../other/impressum.html#datenschutzerklarung">Datenschutzerklärung</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#datenschutz">Datenschutz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#cookies">Cookies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#server-log-files">Server-Log-Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#facebook-plugins-like-button">Facebook-Plugins (Like-Button)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#twitter">Twitter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#google">Google+</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#youtube">YouTube</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#ssl-verschlusselung">SSL-Verschlüsselung</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#widerspruch-werbe-mails">Widerspruch Werbe-Mails</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MusicDB</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>MusicDB Websocket API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/basics/webapi.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="musicdb-websocket-api">
<h1>MusicDB Websocket API<a class="headerlink" href="#musicdb-websocket-api" title="Permalink to this headline">¶</a></h1>
<p>The following documentation is part of the Python code documentation for developers.
So, there may appear some pythonic codes.
Most code presented on this page is <em>JavaScript</em>.</p>
<p>The names for the methods and arguments are identical.
The returned values of each method are the same as sent back by the server to the client.
So when the server method has an argument <em>albumid</em> (like <code class="docutils literal"><span class="pre">def</span> <span class="pre">GetAlbum(self,</span> <span class="pre">albumid):</span></code>),
than the JavaScript argument is also <em>albumid</em>.
To give the argument <code class="docutils literal"><span class="pre">1000</span></code> to the <em>GetAlbum</em> function, the arguments-object must look like <code class="docutils literal"><span class="pre">{albumid:</span> <span class="pre">1000}</span></code>.</p>
<div class="section" id="communication">
<h2>Communication<a class="headerlink" href="#communication" title="Permalink to this headline">¶</a></h2>
<div class="section" id="packet-format">
<h3>Packet format<a class="headerlink" href="#packet-format" title="Permalink to this headline">¶</a></h3>
<p>A packet is a JSON string with the following entries:</p>
<dl class="docutils">
<dt>method:</dt>
<dd>Different methods to communicate with the server</dd>
<dt>fncname:</dt>
<dd>The name of the function that shall be called on the server</dd>
<dt>fncsig:</dt>
<dd>A function signature. If there is a response, this signature can be used to tell the client what function to call next.
This entry is not used by the server and can be <code class="docutils literal"><span class="pre">null</span></code>.</dd>
<dt>arguments:</dt>
<dd>These are the arguments to the called function.
It is an object or list of objects with each element addressing one argument of the called method on the server.
On received packets, this are the returned values.</dd>
<dt>pass:</dt>
<dd>A place for pass-through arguments.
The server will not touch this entry and returns it as it is.
This may be useful to give the receiving client some context.</dd>
</dl>
<p>The following code show an abstract of the implementation:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="c1">// method and fncname are mandatory, the other entries are optional</span>
<span class="nx">fncsig</span> <span class="o">=</span> <span class="nx">fncsig</span> <span class="o">||</span> <span class="kc">null</span><span class="p">;</span>
<span class="nx">pass</span>   <span class="o">=</span> <span class="nx">pass</span>   <span class="o">||</span> <span class="kc">null</span><span class="p">;</span>
<span class="nx">args</span>   <span class="o">=</span> <span class="nx">args</span>   <span class="o">||</span> <span class="kc">null</span><span class="p">;</span>

<span class="c1">// Create Packet</span>
<span class="kd">var</span> <span class="nx">packet</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">method</span><span class="o">:</span>     <span class="nx">method</span><span class="p">,</span>
    <span class="nx">fncname</span><span class="o">:</span>    <span class="nx">fncname</span><span class="p">,</span>
    <span class="nx">fncsig</span><span class="o">:</span>     <span class="nx">fncsig</span><span class="p">,</span>
    <span class="nx">arguments</span><span class="o">:</span>  <span class="nx">args</span><span class="p">,</span>
    <span class="nx">pass</span><span class="o">:</span>       <span class="nx">pass</span>
<span class="p">}</span>

<span class="c1">// Make JSON string out of the packet</span>
<span class="kd">var</span> <span class="nx">buffer</span><span class="p">;</span>
<span class="nx">buffer</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">packet</span><span class="p">);</span>

<span class="c1">// Send string to the server</span>
<span class="k">try</span>
<span class="p">{</span>
   <span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">buffer</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
<span class="p">{</span>
   <span class="nb">window</span><span class="p">.</span><span class="nx">console</span> <span class="o">&amp;&amp;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;[MDB] Error: Sending message to server failed!&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="methods">
<h3>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>call:</dt>
<dd>A call of a function on the server.
There will be no response from the server.</dd>
<dt>request:</dt>
<dd>A request of data from the server.
The returned value are stored in the arguments entry.
The method entry gets set to <em>response</em> by the server.</dd>
<dt>reponse:</dt>
<dd>This marks a direct response from the server to the client who requested data.
<em>This method should only be used by the server!</em></dd>
<dt>broadcast:</dt>
<dd>A broadcast is a packet from the server that got send to all connected clients.
If the client uses the <em>broadcast</em> method, the response gets send to all clients as broadcast as well.</dd>
<dt>notification:</dt>
<dd>An notification is similar to a broadcast with the main difference that there was no client side action before.
Notifications can result of internal state changes of the server.
<em>This method should only be used by the server!</em></dd>
</dl>
<p>There is a special <em>broadcast</em> triggered whenever the server gets triggered to update its caches by system signal <em>USR1</em>.
This broadcast should be used to update the caches on client side.
It has the following signature: <code class="docutils literal"><span class="pre">{method:&quot;broadcast&quot;,</span> <span class="pre">fncname:&quot;SIGUSR1&quot;,</span> <span class="pre">fncsig:&quot;UpdateCaches&quot;,</span> <span class="pre">arguments:null,</span> <span class="pre">pass:null}</span></code></p>
</div>
</div>
<div class="section" id="client-side-interface">
<h2>Client side interface<a class="headerlink" href="#client-side-interface" title="Permalink to this headline">¶</a></h2>
<p>The MusicDB interface on client side is implemented in the file <em>musicdb.js</em>.
This file is documented under <a class="reference internal" href="../webui/websockets.html"><span class="doc">Websocket Connection</span></a>.
The connection can be started by calling <a class="reference internal" href="../webui/websockets.html#ConnectToMusicDB" title="ConnectToMusicDB"><code class="xref js js-func docutils literal"><span class="pre">ConnectToMusicDB()</span></code></a>.
Then there can be used several functions and callback routines to communicate with the MusicDB Websocket Server.</p>
<p>To establish a connection on startup, just wait for the <code class="docutils literal"><span class="pre">onload</span></code> event from the browser:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span>
<span class="p">{</span>
   <span class="nx">ConnectToMusicDB</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The configuration must be done inside the file musicdb.js.
Read the <a class="reference internal" href="../webui/websockets.html"><span class="doc">Websocket Connection</span></a> documentation for setting up the watchdog and the address of the websocket server!
See the sections for the watchdog and the communication to the server.</p>
</div>
<div class="section" id="callback-functions">
<h3>Callback functions<a class="headerlink" href="#callback-functions" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>onMusicDBConnectionOpen()</li>
<li>onMusicDBConnectionError()</li>
<li>onMusicDBWatchdogBarks()</li>
<li>onMusicDBConnectionClosed()</li>
<li>onMusicDBNotification(fnc, sig, rawdata)</li>
<li>onMusicDBMessage(fnc, sig, args, pass)</li>
</ul>
</div></blockquote>
<p>A minimal implementation may look like this:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">onMusicDBConnectionOpen</span><span class="p">()</span>
<span class="p">{</span>
   <span class="nb">window</span><span class="p">.</span><span class="nx">console</span> <span class="o">&amp;&amp;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;[MDB] Open&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">onMusicDBConnectionError</span><span class="p">()</span>
<span class="p">{</span>
   <span class="nb">window</span><span class="p">.</span><span class="nx">console</span> <span class="o">&amp;&amp;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;[MDB] Error&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">onMusicDBWatchdogBarks</span><span class="p">()</span>
<span class="p">{</span>
   <span class="nb">window</span><span class="p">.</span><span class="nx">console</span> <span class="o">&amp;&amp;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;[MDB] WD Barks&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">onMusicDBConnectionClosed</span><span class="p">()</span>
<span class="p">{</span>
   <span class="nb">window</span><span class="p">.</span><span class="nx">console</span> <span class="o">&amp;&amp;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;[MDB] Closed&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">onMusicDBNotification</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">rawdata</span><span class="p">)</span>
<span class="p">{</span>
   <span class="nb">window</span><span class="p">.</span><span class="nx">console</span> <span class="o">&amp;&amp;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;[MDB] Notification&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
   <span class="nb">window</span><span class="p">.</span><span class="nx">console</span> <span class="o">&amp;&amp;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;[MDB] Message&quot;</span><span class="p">);</span>

   <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetAlbum&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowAlbum&quot;</span><span class="p">)</span>
      <span class="nx">ShowAlbum</span><span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">artist</span><span class="p">,</span> <span class="nx">args</span><span class="p">.</span><span class="nx">album</span><span class="p">,</span> <span class="nx">args</span><span class="p">.</span><span class="nx">cds</span><span class="p">,</span> <span class="nx">args</span><span class="p">.</span><span class="nx">tags</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="send-data-to-the-server">
<h3>Send data to the server<a class="headerlink" href="#send-data-to-the-server" title="Permalink to this headline">¶</a></h3>
<p>The following functions are available to communicate with the server.
The arguments <em>args</em> and <em>pass</em> are optional arguments.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">MusicDB_Call</span><span class="p">(</span><span class="nx">fncname</span><span class="p">,</span> <span class="nx">args</span><span class="p">)</span>
<span class="kd">function</span> <span class="nx">MusicDB_Request</span><span class="p">(</span><span class="nx">fncname</span><span class="p">,</span> <span class="nx">fncsig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="kd">function</span> <span class="nx">MusicDB_Broadcast</span><span class="p">(</span><span class="nx">fncname</span><span class="p">,</span> <span class="nx">fncsig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
</pre></div>
</div>
<p>The documentation of these function are linked in the following list:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="../webui/websockets.html#MusicDB_Call" title="MusicDB_Call"><code class="xref js js-func docutils literal"><span class="pre">MusicDB_Call()</span></code></a></li>
<li><a class="reference internal" href="../webui/websockets.html#MusicDB_Request" title="MusicDB_Request"><code class="xref js js-func docutils literal"><span class="pre">MusicDB_Request()</span></code></a></li>
<li><a class="reference internal" href="../webui/websockets.html#MusicDB_Broadcast" title="MusicDB_Broadcast"><code class="xref js js-func docutils literal"><span class="pre">MusicDB_Broadcast()</span></code></a></li>
</ul>
</div></blockquote>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="c1">// Request an album with ID 1000 and signal the client that the response shall be used to show it.</span>
<span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetAlbum&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowAlbum&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">albumid</span><span class="o">:</span> <span class="mi">1000</span><span class="p">});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="module-lib.ws.mdbwsi">
<span id="server-side-api"></span><h2>Server side API<a class="headerlink" href="#module-lib.ws.mdbwsi" title="Permalink to this headline">¶</a></h2>
<p>Overview of all WebAPI Methods sorted by category (some methods appear multiple times).</p>
<div class="section" id="artists">
<h3>Artists<a class="headerlink" href="#artists" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtists" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtists"><code class="xref py py-meth docutils literal"><span class="pre">GetArtists()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtistsWithAlbums" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtistsWithAlbums"><code class="xref py py-meth docutils literal"><span class="pre">GetArtistsWithAlbums()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.Find" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.Find"><code class="xref py py-meth docutils literal"><span class="pre">Find()</span></code></a></li>
</ul>
</div>
<div class="section" id="albums">
<h3>Albums<a class="headerlink" href="#albums" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbums" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbums"><code class="xref py py-meth docutils literal"><span class="pre">GetAlbums()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSortedAlbumCDs" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSortedAlbumCDs"><code class="xref py py-meth docutils literal"><span class="pre">GetSortedAlbumCDs()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbum" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbum"><code class="xref py py-meth docutils literal"><span class="pre">GetAlbum()</span></code></a></li>
<li><code class="xref py py-meth docutils literal"><span class="pre">SetAlbumColor()</span></code></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddAlbumToQueue" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddAlbumToQueue"><code class="xref py py-meth docutils literal"><span class="pre">AddAlbumToQueue()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.Find" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.Find"><code class="xref py py-meth docutils literal"><span class="pre">Find()</span></code></a></li>
</ul>
</div>
<div class="section" id="songs">
<h3>Songs<a class="headerlink" href="#songs" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSong" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSong"><code class="xref py py-meth docutils literal"><span class="pre">GetSong()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.PlayNextSong" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.PlayNextSong"><code class="xref py py-meth docutils literal"><span class="pre">PlayNextSong()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSongToQueue" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSongToQueue"><code class="xref py py-meth docutils literal"><span class="pre">AddSongToQueue()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddRandomSongToQueue" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddRandomSongToQueue"><code class="xref py py-meth docutils literal"><span class="pre">AddRandomSongToQueue()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveSongFromQueue" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveSongFromQueue"><code class="xref py py-meth docutils literal"><span class="pre">RemoveSongFromQueue()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.MoveSongInQueue" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.MoveSongInQueue"><code class="xref py py-meth docutils literal"><span class="pre">MoveSongInQueue()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongRelationship" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongRelationship"><code class="xref py py-meth docutils literal"><span class="pre">GetSongRelationship()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.UpdateSongStatistic" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.UpdateSongStatistic"><code class="xref py py-meth docutils literal"><span class="pre">UpdateSongStatistic()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.CutSongRelationship" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.CutSongRelationship"><code class="xref py py-meth docutils literal"><span class="pre">CutSongRelationship()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.Find" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.Find"><code class="xref py py-meth docutils literal"><span class="pre">Find()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.PlayNextSong" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.PlayNextSong"><code class="xref py py-meth docutils literal"><span class="pre">PlayNextSong()</span></code></a></li>
</ul>
</div>
<div class="section" id="queue">
<h3>Queue<a class="headerlink" href="#queue" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetQueue" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetQueue"><code class="xref py py-meth docutils literal"><span class="pre">GetQueue()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSongToQueue" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSongToQueue"><code class="xref py py-meth docutils literal"><span class="pre">AddSongToQueue()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddRandomSongToQueue" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddRandomSongToQueue"><code class="xref py py-meth docutils literal"><span class="pre">AddRandomSongToQueue()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddAlbumToQueue" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddAlbumToQueue"><code class="xref py py-meth docutils literal"><span class="pre">AddAlbumToQueue()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveSongFromQueue" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveSongFromQueue"><code class="xref py py-meth docutils literal"><span class="pre">RemoveSongFromQueue()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.MoveSongInQueue" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.MoveSongInQueue"><code class="xref py py-meth docutils literal"><span class="pre">MoveSongInQueue()</span></code></a></li>
</ul>
</div>
<div class="section" id="tag-related">
<h3>Tag related<a class="headerlink" href="#tag-related" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTags"><code class="xref py py-meth docutils literal"><span class="pre">GetTags()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags"><code class="xref py py-meth docutils literal"><span class="pre">GetSongTags()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags"><code class="xref py py-meth docutils literal"><span class="pre">GetAlbumTags()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetAlbumTag" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetAlbumTag"><code class="xref py py-meth docutils literal"><span class="pre">SetAlbumTag()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveAlbumTag" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveAlbumTag"><code class="xref py py-meth docutils literal"><span class="pre">RemoveAlbumTag()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetSongTag" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetSongTag"><code class="xref py py-meth docutils literal"><span class="pre">SetSongTag()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveSongTag" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveSongTag"><code class="xref py py-meth docutils literal"><span class="pre">RemoveSongTag()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSubgenre" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSubgenre"><code class="xref py py-meth docutils literal"><span class="pre">AddSubgenre()</span></code></a></li>
</ul>
</div>
<div class="section" id="lyrics">
<h3>Lyrics<a class="headerlink" href="#lyrics" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="xref py py-meth docutils literal"><span class="pre">GetSongLyrics()</span></code></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetLyricsCrawlerCache" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetLyricsCrawlerCache"><code class="xref py py-meth docutils literal"><span class="pre">GetLyricsCrawlerCache()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.RunLyricsCrawler" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.RunLyricsCrawler"><code class="xref py py-meth docutils literal"><span class="pre">RunLyricsCrawler()</span></code></a></li>
<li><code class="xref py py-meth docutils literal"><span class="pre">SetSongLyrics()</span></code></li>
</ul>
</div>
<div class="section" id="other">
<h3>Other<a class="headerlink" href="#other" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetMPDState" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetMPDState"><code class="xref py py-meth docutils literal"><span class="pre">GetMPDState()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetMPDState" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetMPDState"><code class="xref py py-meth docutils literal"><span class="pre">SetMPDState()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.PlayNextSong" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.PlayNextSong"><code class="xref py py-meth docutils literal"><span class="pre">PlayNextSong()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetMDBState" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetMDBState"><code class="xref py py-meth docutils literal"><span class="pre">SetMDBState()</span></code></a></li>
<li><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetMDBState" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetMDBState"><code class="xref py py-meth docutils literal"><span class="pre">GetMDBState()</span></code></a></li>
</ul>
</div>
<dl class="class">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface">
<em class="property">class </em><code class="descclassname">lib.ws.mdbwsi.</code><code class="descname">MusicDBWebSocketInterface</code><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddAlbumToQueue">
<code class="descname">AddAlbumToQueue</code><span class="sig-paren">(</span><em>albumid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.AddAlbumToQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddAlbumToQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>This method adds all songs of an album (from all CDs) at the end of the MPD queue.</p>
<p>The <em>adds</em>-statistic gets <strong>not</strong> incremented when a whole album gets add to the queue.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>albumid</strong> (<em>int</em>) – ID of the album that shall be added</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><code class="docutils literal"><span class="pre">None</span></code></td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;AddAlbumToQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">albumid</span><span class="o">:</span><span class="mi">23</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddRandomSongToQueue">
<code class="descname">AddRandomSongToQueue</code><span class="sig-paren">(</span><em>position</em>, <em>albumid=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.AddRandomSongToQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddRandomSongToQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSongToQueue" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSongToQueue"><code class="xref py py-meth docutils literal"><span class="pre">AddSongToQueue()</span></code></a>.
Instead of a specific song, a random song gets chosen by the random-song manager <em>Randy</em>.
This is done using <code class="xref py py-meth docutils literal"><span class="pre">mdbapi.randy.Randy.AddSong()</span></code>.</p>
<p>If an album ID is given, the new song will be added from that album
using <code class="xref py py-meth docutils literal"><span class="pre">mdbapi.randy.Randy.AddSongFromAlbum()</span></code>.</p>
<p>The random-song manager also increments the <em>rndadds</em> statistics for the song that gets added to the queue.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>position</strong> (<em>str</em>) – <code class="docutils literal"><span class="pre">&quot;next&quot;</span></code> or <code class="docutils literal"><span class="pre">&quot;last&quot;</span></code> - Determines where the song gets added</li>
<li><strong>albumid</strong> (<em>int</em>) – Optional album ID from that the song shall be</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">None</span></code></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;AddRandomSongToQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">position</span><span class="o">:</span><span class="s2">&quot;last&quot;</span><span class="p">});</span>
<span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;AddRandomSongToQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">albumid</span><span class="o">:</span><span class="s2">&quot;42&quot;</span><span class="p">,</span> <span class="nx">position</span><span class="o">:</span><span class="s2">&quot;next&quot;</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSongToQueue">
<code class="descname">AddSongToQueue</code><span class="sig-paren">(</span><em>songid</em>, <em>position</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.AddSongToQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSongToQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>This method adds a new song to the queue of songs MPD (Music Playing Daemon) will play.</p>
<p>The song gets address by its ID.
The position can be <code class="docutils literal"><span class="pre">&quot;next&quot;</span></code> if the song shall be places behind the current playing song.
So, the new added song will be played next.
Alternative <code class="docutils literal"><span class="pre">&quot;last&quot;</span></code> can be used to place the song at the end of the queue.</p>
<p>If a song got add, the <em>adds</em>-statistic value gets incremented.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>songid</strong> (<em>int</em>) – ID of the song that shall be added</li>
<li><strong>position</strong> (<em>str</em>) – <code class="docutils literal"><span class="pre">&quot;next&quot;</span></code> or <code class="docutils literal"><span class="pre">&quot;last&quot;</span></code> - Determines where the song gets added</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">None</span></code></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;AddSongToQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">songid</span><span class="o">:</span><span class="mi">1000</span><span class="p">,</span> <span class="nx">position</span><span class="o">:</span><span class="s2">&quot;next&quot;</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSubgenre">
<code class="descname">AddSubgenre</code><span class="sig-paren">(</span><em>name</em>, <em>parentname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.AddSubgenre"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSubgenre" title="Permalink to this definition">¶</a></dt>
<dd><p>This method creates a new subgenre.</p>
<p>If tagging is disabled nothing will be done.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>str</em>) – Name of the new subgenre</li>
<li><strong>parentname</strong> (<em>str</em>) – Name of the main genre</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.CutSongRelationship">
<code class="descname">CutSongRelationship</code><span class="sig-paren">(</span><em>songid</em>, <em>relatedsongid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.CutSongRelationship"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.CutSongRelationship" title="Permalink to this definition">¶</a></dt>
<dd><p>This method removes the relation between two songs.</p>
<p>After executing this method, the MusicDB server broadcasts the result of <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongRelationship" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongRelationship"><code class="xref py py-meth docutils literal"><span class="pre">GetSongRelationship()</span></code></a>. (<code class="docutils literal"><span class="pre">method</span> <span class="pre">=</span> <span class="pre">&quot;broadcast&quot;,</span> <span class="pre">fncname</span> <span class="pre">=</span> <span class="pre">&quot;GetSongRelationship&quot;</span></code>)
So each client gets informed about the changes made.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>songid</strong> (<em>int</em>) – ID of one song</li>
<li><strong>relatedsongid</strong> (<em>int</em>) – ID of the related song</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.Find">
<code class="descname">Find</code><span class="sig-paren">(</span><em>searchstring</em>, <em>limit</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.Find"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.Find" title="Permalink to this definition">¶</a></dt>
<dd><p>This method starts a search for <em>searchstring</em> on songnames, albumnames and artistnames.
The returned value is a dictionary with the following entries:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="first docutils">
<dt><strong>songs:</strong> A list of songs, each entry is a dictionary with the following information:</dt>
<dd><ul class="first last">
<li><strong>song:</strong> The song entry from the database</li>
<li><strong>album:</strong> The related album entry from the database</li>
<li><strong>artist:</strong> The related artist entry from the database</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>albums:</strong> A list of albums, each entry is a dictionary with the following information:</dt>
<dd><ul class="first last">
<li><strong>album:</strong> The related album entry from the database</li>
<li><strong>artist:</strong> The related artist entry from the database</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>artists:</strong> A list of artists, each entry is a dictionary with the following information:</dt>
<dd><ul class="first last">
<li><strong>artist:</strong> The related artist entry from the database</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>The search does not look for exact matching.
It looks for most likeliness.
So, typos or all lowercase input are no problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>searchstring</strong> (<em>str</em>) – The string to search for</li>
<li><strong>limit</strong> (<em>int</em>) – max number entries that will be returned for each category</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A dictionary with the search-results</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;Find&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowResults&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">searchstring</span><span class="o">:</span><span class="s2">&quot;cake&quot;</span><span class="p">,</span> <span class="nx">limit</span><span class="o">:</span><span class="mi">5</span><span class="p">});</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;Find&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowResults&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">entry</span> <span class="k">of</span> <span class="nx">args</span><span class="p">.</span><span class="nx">songs</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">entry</span> <span class="k">of</span> <span class="nx">args</span><span class="p">.</span><span class="nx">albums</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">entry</span> <span class="k">of</span> <span class="nx">args</span><span class="p">.</span><span class="nx">artists</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbum">
<code class="descname">GetAlbum</code><span class="sig-paren">(</span><em>albumid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetAlbum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbum" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns an album and its songs, separated by CDs.</p>
<p>GetAlbum returns a dictionary with the following keys:</p>
<blockquote>
<div><ul class="simple">
<li><strong>artist:</strong> database entry of the artist of the album</li>
<li><strong>album:</strong> the database entry of the album itself</li>
<li><strong>tags:</strong> a list of tags as returned by <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags"><code class="xref py py-meth docutils literal"><span class="pre">GetAlbumTags()</span></code></a></li>
<li><strong>cds:</strong> a list of CDs that contains a list of songs for each CD. See <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSortedAlbumCDs" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSortedAlbumCDs"><code class="xref py py-meth docutils literal"><span class="pre">GetSortedAlbumCDs()</span></code></a> for details.</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>albumid</strong> (<em>int</em>) – The ID of that album that shall be returned</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with information of the requested album, its tags and songs</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetAlbum&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowAlbum&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">albumid</span><span class="o">:</span><span class="nx">albumid</span><span class="p">});</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetAlbum&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowAlbum&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Artist: &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">artist</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Album:  &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">album</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">cd</span> <span class="k">of</span> <span class="nx">args</span><span class="p">.</span><span class="nx">cds</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">track</span> <span class="k">of</span> <span class="nx">cd</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="kd">let</span> <span class="nx">song</span><span class="p">,</span> <span class="nx">songtags</span>
                <span class="nx">song</span>     <span class="o">=</span> <span class="nx">track</span><span class="p">.</span><span class="nx">song</span><span class="p">;</span>
                <span class="nx">songtags</span> <span class="o">=</span> <span class="nx">track</span><span class="p">.</span><span class="nx">tags</span><span class="p">;</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot; -&gt; &quot;</span> <span class="o">+</span> <span class="nx">song</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags">
<code class="descname">GetAlbumTags</code><span class="sig-paren">(</span><em>albumid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetAlbumTags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags"><code class="xref py py-meth docutils literal"><span class="pre">GetSongTags()</span></code></a>.
This method returns the tags for an Album.</p>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbums">
<code class="descname">GetAlbums</code><span class="sig-paren">(</span><em>artistid</em>, <em>applyfilter=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetAlbums"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbums" title="Permalink to this definition">¶</a></dt>
<dd><p>GetAlbums returns a list of albums of an artist.
The list is sorted by release date of the album, starting with the earliest one.
Each entry in the list has the following two elements:</p>
<blockquote>
<div><ul class="simple">
<li><strong>album:</strong> An album entry from the database.</li>
<li><strong>tags:</strong> The returned tag entry by <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags"><code class="xref py py-meth docutils literal"><span class="pre">GetAlbumTags()</span></code></a></li>
</ul>
</div></blockquote>
<p>The filter gets applied to only the <em>genre</em> tags.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>artistid</strong> (<em>int</em>) – ID of the artist whose albums shall be returned</li>
<li><strong>applyfilter</strong> (<em>bool</em>) – Default value is <code class="docutils literal"><span class="pre">False</span></code></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list of albums and their tags</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetAlbums&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowAlbums&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">artistid</span><span class="o">:</span><span class="nx">artistid</span><span class="p">,</span> <span class="nx">applyfilter</span><span class="o">:</span><span class="kc">false</span><span class="p">});</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetAlbums&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowAlbums&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">listentry</span> <span class="k">of</span> <span class="nx">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">album</span><span class="p">,</span> <span class="nx">tags</span><span class="p">;</span>
            <span class="nx">album</span> <span class="o">=</span> <span class="nx">listentry</span><span class="p">.</span><span class="nx">album</span><span class="p">;</span>
            <span class="nx">tags</span>  <span class="o">=</span> <span class="nx">listentry</span><span class="p">.</span><span class="nx">tags</span><span class="p">;</span>

            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Tags of &quot;</span> <span class="o">+</span> <span class="nx">album</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span><span class="p">);</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tags</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtists">
<code class="descname">GetArtists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetArtists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtists" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of artists.
This list is sorted by the name of the artist.</p>
<p>A list entry contains the following values:</p>
<blockquote>
<div><ul class="simple">
<li><strong>id:</strong> Artist ID</li>
<li><strong>name:</strong> Artist name</li>
<li><strong>path:</strong> Relative path to the artist directory</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A list of artists</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtistsWithAlbums">
<code class="descname">GetArtistsWithAlbums</code><span class="sig-paren">(</span><em>applyfilter=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetArtistsWithAlbums"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtistsWithAlbums" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns a list of artists and their albums.
Each entry in this list contains the following two elements:</p>
<blockquote>
<div><ul class="simple">
<li><strong>artist:</strong> An entry like the list entries of <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtists" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtists"><code class="xref py py-meth docutils literal"><span class="pre">GetArtists()</span></code></a></li>
<li><strong>albums:</strong> A list of albums that was returned by <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbums" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbums"><code class="xref py py-meth docutils literal"><span class="pre">GetAlbums()</span></code></a> for the related artist.</li>
</ul>
</div></blockquote>
<p>Artists without albums or albums that got filters out will not appear in the list.</p>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p>The JavaScript API uses the following aliases:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">GetArtistsWithAlbums</span></code>: Without arguments, and so without applying the filter.</li>
<li><code class="docutils literal"><span class="pre">GetFilteredArtistsWithAlbums</span></code>: With applying the filter option.</li>
</ul>
<p class="last">So, from JavaScripts point of view this method does not have any parameters.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>applyfilter</strong> (<em>bool</em>) – Default value is <code class="docutils literal"><span class="pre">False</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list of artists and their albums</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetFilteredArtistsWithAlbums&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowArtists&quot;</span><span class="p">);</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetFilteredArtistsWithAlbums&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowArtists&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">artist</span> <span class="k">of</span> <span class="nx">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Artist: &quot;</span> <span class="o">+</span> <span class="nx">artist</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
            <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">album</span> <span class="k">of</span> <span class="nx">artist</span><span class="p">.</span><span class="nx">albums</span><span class="p">)</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot; -&gt; &quot;</span> <span class="o">+</span> <span class="nx">album</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetLyricsCrawlerCache">
<code class="descname">GetLyricsCrawlerCache</code><span class="sig-paren">(</span><em>songid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetLyricsCrawlerCache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetLyricsCrawlerCache" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns all cached lyrics for a song.</p>
<p>A dictionary with two entries gets returned, the <em>songid</em> is the same the argument is.
The second key is <em>lyricscache</em> that holds the values from the lyrics cache.
It is a list of dictionaries representing a lyric cache database entry. (See <a class="reference internal" href="../mdbapi/lycra.html"><span class="doc">LyCra - Lyrics Crawler</span></a> for details)
If there are no cached lyrics, the <em>lyricscache</em> entry is <code class="docutils literal"><span class="pre">None</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>songid</strong> (<em>int</em>) – ID of the song that lyrics cache shall be returned</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The songid and a list of cached lyrics.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetMDBState">
<code class="descname">GetMDBState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetMDBState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetMDBState" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns the current global state of the MusicDB WebUIs</p>
<p>This includes the <em>End of Queue Event</em> and the selected Genres.</p>
<p>The state is a dictionary with the following information:</p>
<blockquote>
<div><ul class="simple">
<li><strong>albumfilter:</strong> a list of tag-names of class Genre</li>
<li><strong>queue:</strong> a further dictionary related to the music-queue. Currently, only the <em>eoqevent</em> entry exists.</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Current global MusicDB WebUI state</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetMDBState&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowMDBState&quot;</span><span class="p">);</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetMDBState&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowMDBState&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">activetags</span><span class="p">;</span>
        <span class="nx">activetags</span> <span class="o">=</span> <span class="nx">args</span><span class="p">.</span><span class="nx">albumfilter</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">genrename</span> <span class="k">of</span> <span class="nx">activetags</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">genrename</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetMPDState">
<code class="descname">GetMPDState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetMPDState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetMPDState" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns the state of MPD (Music Playing Daemon).</p>
<p>The state is a dictionary that has always the following information:</p>
<blockquote>
<div><ul class="simple">
<li><strong>isconnected:</strong> <code class="docutils literal"><span class="pre">True</span></code> if MusicDB is connected to MPD, otherwise <code class="docutils literal"><span class="pre">False</span></code></li>
<li><strong>isplaying:</strong> <code class="docutils literal"><span class="pre">True</span></code> if MPD is in <em>playing</em>-mode, otherwise <code class="docutils literal"><span class="pre">False</span></code></li>
</ul>
</div></blockquote>
<p>If MusicDB is connected, there are further information about MPDs state:</p>
<blockquote>
<div><ul class="simple">
<li><strong>mpdstatus:</strong> as returned by <a class="reference internal" href="../mdbapi/mpd.html#mdbapi.mpd.GetStatus" title="mdbapi.mpd.GetStatus"><code class="xref py py-meth docutils literal"><span class="pre">mdbapi.mpd.GetStatus()</span></code></a></li>
<li><strong>hasqueue:</strong> <code class="docutils literal"><span class="pre">True</span></code> If there are songs in MPDs playing-Queue, otherwise <code class="docutils literal"><span class="pre">False</span></code></li>
</ul>
</div></blockquote>
<p>In case there is a at least one song in the queue, that song gets played by MPD if <code class="docutils literal"><span class="pre">isplaying</span></code> is <code class="docutils literal"><span class="pre">True</span></code>.
In this case, there are also information about the current song:</p>
<blockquote>
<div><ul class="simple">
<li><strong>song:</strong> The song entry from the database for the song that is currently playing</li>
<li><strong>album:</strong> The related album entry from the database</li>
<li><strong>artist:</strong> The related artist entry from the database</li>
<li><strong>songtags:</strong> a list of tags as returned by <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags"><code class="xref py py-meth docutils literal"><span class="pre">GetSongTags()</span></code></a></li>
<li><strong>albumtags:</strong> a list of tags as returned by <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags"><code class="xref py py-meth docutils literal"><span class="pre">GetAlbumTags()</span></code></a></li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The current state of MPD</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetMPDState&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowMPDState&quot;</span><span class="p">);</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetMPDState&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowMPDState&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">isconnected</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">hasqueue</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Current playing song: &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">song</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetQueue">
<code class="descname">GetQueue</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns a list of songs, albums and artists for each song in the MPD queue.
If there are not songs in the queue, an empty list gets returned.</p>
<p>Each entry of the list contains the following information:</p>
<blockquote>
<div><ul class="simple">
<li><strong>song:</strong> The song entry from the database</li>
<li><strong>album:</strong> The related album entry from the database</li>
<li><strong>artist:</strong> The related artist entry from the database</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A list of song, album and artist information for each song in the MPD queue</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetQueue&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowQueue&quot;</span><span class="p">);</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetQueue&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowQueue&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">entry</span> <span class="k">of</span> <span class="nx">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">song</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot; by &quot;</span> <span class="o">+</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">artist</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSong">
<code class="descname">GetSong</code><span class="sig-paren">(</span><em>songid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetSong"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSong" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns the information of a song, its album and artist, and its tags.</p>
<p>The returned dictionary has the following keys:</p>
<blockquote>
<div><ul class="simple">
<li><strong>song:</strong> the database entry of the song itself.</li>
<li><strong>artist:</strong> database entry of the artist of the song</li>
<li><strong>album:</strong> the database entry of the album in that the song is listed</li>
<li><strong>tags:</strong> a list of tags as returned by <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags"><code class="xref py py-meth docutils literal"><span class="pre">GetSongTags()</span></code></a></li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>songid</strong> (<em>int</em>) – ID of the song</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with information of the song</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetSong&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowSong&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">songid</span><span class="o">:</span><span class="nx">songid</span><span class="p">});</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetSong&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowSong&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Artist: &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">artist</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Album:  &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">album</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Song:   &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">song</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">mood</span> <span class="k">of</span> <span class="nx">args</span><span class="p">.</span><span class="nx">tags</span><span class="p">.</span><span class="nx">moods</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Mood: &quot;</span> <span class="o">+</span> <span class="nx">mood</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongRelationship">
<code class="descname">GetSongRelationship</code><span class="sig-paren">(</span><em>songid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetSongRelationship"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongRelationship" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns the relationship of a song.
It is a list of songs that were played before or after the song with song ID <em>songid</em>.</p>
<p>The returned dictionary contains the same song ID given as argument to this method, and list of related songs.
Each lists entry is a dictionary with the related <code class="docutils literal"><span class="pre">song</span></code>, <code class="docutils literal"><span class="pre">album</span></code> and <code class="docutils literal"><span class="pre">artist</span></code> album from the database.
Furthermore the <code class="docutils literal"><span class="pre">weight</span></code> is given.
The weight indicates how often the two songs were played together.</p>
<p>The <code class="docutils literal"><span class="pre">tags</span></code> of that song will also be returned separated into <code class="docutils literal"><span class="pre">genre</span></code>, <code class="docutils literal"><span class="pre">subgenre</span></code> and <code class="docutils literal"><span class="pre">mood</span></code>.
See <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags"><code class="xref py py-meth docutils literal"><span class="pre">GetSongTags()</span></code></a> for details how they are returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>songid</strong> (<em>int</em>) – ID so a song</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list of related songs</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetSongRelationship&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowRelations&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">songid</span><span class="o">:</span><span class="nx">songid</span><span class="p">});</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetSongRelationship&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowRelations&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Songs related to the one with ID &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">songid</span><span class="p">)</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">entry</span> <span class="k">of</span> <span class="nx">args</span><span class="p">.</span><span class="nx">songs</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Song &quot;</span> <span class="o">+</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">song</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot; with weight &quot;</span> <span class="o">+</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">weight</span><span class="p">);</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">tags</span><span class="p">.</span><span class="nx">genres</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags">
<code class="descname">GetSongTags</code><span class="sig-paren">(</span><em>songid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetSongTags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary with the following keys:</p>
<blockquote>
<div><ul class="simple">
<li><strong>songid:</strong> The same ID as given as argument</li>
<li><strong>genres:</strong> A list of tags of class <em>Genre</em></li>
<li><strong>subgenres:</strong> A list of tags of class <em>Subgenre</em></li>
<li><strong>moods:</strong> A list of tags of class <em>Mood</em></li>
</ul>
</div></blockquote>
<p>Each entry of the dict is a list with tags.
Each tag is a dictionary as returned by <a class="reference internal" href="../lib/musicdb.html#lib.db.musicdb.MusicDatabase.GetTargetTags" title="lib.db.musicdb.MusicDatabase.GetTargetTags"><code class="xref py py-meth docutils literal"><span class="pre">lib.db.musicdb.MusicDatabase.GetTargetTags()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>songid</strong> (<em>int</em>) – ID of the song for which the tags are requested</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dict of tags sorted by classes</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetSongTags&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowSongTags&quot;</span><span class="p">);</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetSongTags&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowSongTags&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">genres</span><span class="p">,</span> <span class="nx">subgenres</span><span class="p">,</span> <span class="nx">moods</span><span class="p">;</span>
        <span class="nx">genres</span>    <span class="o">=</span> <span class="nx">args</span><span class="p">.</span><span class="nx">genres</span><span class="p">;</span>
        <span class="nx">subgenres</span> <span class="o">=</span> <span class="nx">args</span><span class="p">.</span><span class="nx">subgenres</span><span class="p">;</span>
        <span class="nx">moods</span>     <span class="o">=</span> <span class="nx">args</span><span class="p">.</span><span class="nx">moods</span><span class="p">;</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Tags of the song with the ID &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">songid</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">tag</span> <span class="k">of</span> <span class="nx">genres</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tag</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">tag</span> <span class="k">of</span> <span class="nx">subgenres</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tag</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">tag</span> <span class="k">of</span> <span class="nx">moods</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tag</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSortedAlbumCDs">
<code class="descname">GetSortedAlbumCDs</code><span class="sig-paren">(</span><em>albumid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetSortedAlbumCDs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSortedAlbumCDs" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns a sorted list of CDs of an album.
Each CD entry is a further sorted list of songs.
Each song-entry is a dictionary with the following keys:</p>
<blockquote>
<div><ul class="simple">
<li><strong>song:</strong> The database entry of the song</li>
<li><strong>tags:</strong> a list of tags as returned by <code class="xref py py-meth docutils literal"><span class="pre">GetSongTags()</span></code></li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>albumid</strong> (<em>int</em>) – ID of the album that CD and songs shall be returned</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A sorted list of CDs, its songs and their tags</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTags">
<code class="descname">GetTags</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetTags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTags" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns all tags that are available, separated by the tag classes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary of all classes with lists of all available tags</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetTags&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowTags&quot;</span><span class="p">);</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetTags&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowTags&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">genres</span><span class="p">,</span> <span class="nx">subgenres</span><span class="p">,</span> <span class="nx">moods</span><span class="p">;</span>
        <span class="nx">genres</span>    <span class="o">=</span> <span class="nx">args</span><span class="p">.</span><span class="nx">genres</span><span class="p">;</span>
        <span class="nx">subgenres</span> <span class="o">=</span> <span class="nx">args</span><span class="p">.</span><span class="nx">subgenres</span><span class="p">;</span>
        <span class="nx">moods</span>     <span class="o">=</span> <span class="nx">args</span><span class="p">.</span><span class="nx">moods</span><span class="p">;</span>

        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">tag</span> <span class="k">of</span> <span class="nx">genres</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tag</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">tag</span> <span class="k">of</span> <span class="nx">subgenres</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tag</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">tag</span> <span class="k">of</span> <span class="nx">moods</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tag</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.MoveSongInQueue">
<code class="descname">MoveSongInQueue</code><span class="sig-paren">(</span><em>songid</em>, <em>srcpos</em>, <em>dstpos</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.MoveSongInQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.MoveSongInQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a direct interface to <a class="reference internal" href="../mdbapi/mpd.html#mdbapi.mpd.MoveSong" title="mdbapi.mpd.MoveSong"><code class="xref py py-meth docutils literal"><span class="pre">mdbapi.mpd.MoveSong()</span></code></a>.
It moves a song from one position in the queue to another one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>songid</strong> (<em>int</em>) – ID of the song that shall be removed.</li>
<li><strong>srcpos</strong> (<em>int</em>) – Position of the song</li>
<li><strong>dstpos</strong> (<em>int</em>) – The position the song shall be moved to</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">None</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.PlayNextSong">
<code class="descname">PlayNextSong</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.PlayNextSong"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.PlayNextSong" title="Permalink to this definition">¶</a></dt>
<dd><p>This method skips the current playing song.
If there is no song that can be skipped, nothing will be done.</p>
<p>When a song got skipped, its statistics for being skipped gets incremented.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><code class="docutils literal"><span class="pre">None</span></code></td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;PlayNextSong&quot;</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveAlbumTag">
<code class="descname">RemoveAlbumTag</code><span class="sig-paren">(</span><em>albumid</em>, <em>tagid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.RemoveAlbumTag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveAlbumTag" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a tag from an album</p>
<p>If tagging is disabled nothing will be done.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>albumid</strong> (<em>int</em>) – ID of the album</li>
<li><strong>tagid</strong> (<em>int</em>) – ID of the tag</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">None</span></code></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;RemoveAlbumTag&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">albumid</span><span class="o">:</span><span class="nx">albumid</span><span class="p">,</span> <span class="nx">tagid</span><span class="o">:</span><span class="nx">tagid</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveSongFromQueue">
<code class="descname">RemoveSongFromQueue</code><span class="sig-paren">(</span><em>songid</em>, <em>position</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.RemoveSongFromQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveSongFromQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>This method removes a song from MPDs queue.
The position is the index of the song in the queue and must be an integer.</p>
<p>The <em>removes</em>-statistic of this song gets incremented.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>songid</strong> (<em>int</em>) – The ID of the song that shall be removed</li>
<li><strong>position</strong> (<em>int</em>) – Position of the song in the MPD queue</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">None</span></code></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;RemoveSongFromQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">songid</span><span class="o">:</span><span class="mi">1337</span><span class="p">,</span> <span class="nx">position</span><span class="o">:</span><span class="mi">3</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveSongTag">
<code class="descname">RemoveSongTag</code><span class="sig-paren">(</span><em>songid</em>, <em>tagid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.RemoveSongTag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveSongTag" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a tag from a song</p>
<p>If tagging is disabled nothing will be done.</p>
<p>After executing this method, the MusicDB server broadcasts the result of <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSong" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSong"><code class="xref py py-meth docutils literal"><span class="pre">GetSong()</span></code></a>. (<code class="docutils literal"><span class="pre">method</span> <span class="pre">=</span> <span class="pre">&quot;broadcast&quot;,</span> <span class="pre">fncname</span> <span class="pre">=</span> <span class="pre">&quot;GetSong&quot;</span></code>)
So each client gets informed about the changes made.
This is important to update the HUD if the song is currently playing.</p>
<p>After setting the new tag for the song,
the album tags get updated using <a class="reference internal" href="../mdbapi/tags.html#mdbapi.tags.MusicDBTags.DeriveAlbumTags" title="mdbapi.tags.MusicDBTags.DeriveAlbumTags"><code class="xref py py-meth docutils literal"><span class="pre">mdbapi.tags.MusicDBTags.DeriveAlbumTags()</span></code></a>.
So when changing a genre or sub genre, then they get suggested as album genre or sub genre</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>songid</strong> (<em>int</em>) – ID of the song</li>
<li><strong>tagid</strong> (<em>int</em>) – ID of the tag</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">None</span></code></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;RemoveSongTag&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">songid</span><span class="o">:</span><span class="nx">songid</span><span class="p">,</span> <span class="nx">tagid</span><span class="o">:</span><span class="nx">tagid</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.RunLyricsCrawler">
<code class="descname">RunLyricsCrawler</code><span class="sig-paren">(</span><em>songid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.RunLyricsCrawler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.RunLyricsCrawler" title="Permalink to this definition">¶</a></dt>
<dd><p>This method starts the process of crawling for lyrics. (See <a class="reference internal" href="../mdbapi/lycra.html"><span class="doc">LyCra - Lyrics Crawler</span></a> for details)</p>
<p>After all available crawler run, the method returns the current lyrics cache.
This is identical to <code class="xref py py-meth docutils literal"><span class="pre">GetLyricsCrawlerCache()</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>songid</strong> (<em>int</em>) – ID of the song that lyrics cache shall be returned</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The songid and a list of cached lyrics.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetAlbumTag">
<code class="descname">SetAlbumTag</code><span class="sig-paren">(</span><em>albumid</em>, <em>tagid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.SetAlbumTag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetAlbumTag" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a tag for an album.
This method sets the approval-level to 1 (Set by User) and confidence to 1.0 for this tag.
So, this method can also be used to approve an AI set tag.</p>
<p>If tagging is disabled nothing will be done.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>albumid</strong> (<em>int</em>) – ID of the album</li>
<li><strong>tagid</strong> (<em>int</em>) – ID of the tag</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">None</span></code></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;SetAlbumTag&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">albumid</span><span class="o">:</span><span class="nx">albumid</span><span class="p">,</span> <span class="nx">tagid</span><span class="o">:</span><span class="nx">tagid</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetMDBState">
<code class="descname">SetMDBState</code><span class="sig-paren">(</span><em>category</em>, <em>name</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.SetMDBState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetMDBState" title="Permalink to this definition">¶</a></dt>
<dd><p>This method sets the global state of MDB clients</p>
<p>If the state is not available in the global state settings, it will be created.</p>
<p>Currently, <em>category</em> must always be <code class="docutils literal"><span class="pre">&quot;albumfilter&quot;</span></code>.
Then, <em>name</em> is a Genre-Name and <em>value</em> is <code class="docutils literal"><span class="pre">True</span></code> or <code class="docutils literal"><span class="pre">False</span></code>.
If a genre gets set to true, all albums for that genre are included in the list of returned albums by methods that use the filter.</p>
<p>After executing this method, the MusicDB server broadcasts the result of <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetMDBState" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetMDBState"><code class="xref py py-meth docutils literal"><span class="pre">GetMDBState()</span></code></a>. (<code class="docutils literal"><span class="pre">method</span> <span class="pre">=</span> <span class="pre">&quot;broadcast&quot;,</span> <span class="pre">fncname</span> <span class="pre">=</span> <span class="pre">&quot;GetMDBState&quot;</span></code>)
So each client gets informed about the new state.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>category</strong> (<em>str</em>) – Category of the state</li>
<li><strong>name</strong> (<em>str</em>) – Name of the sate</li>
<li><strong>value</strong> – Value of the state</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">None</span></code></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;SetMDBState&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">category</span><span class="o">:</span><span class="s2">&quot;albumfilter&quot;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s2">&quot;Metal&quot;</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span><span class="kc">true</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetMPDState">
<code class="descname">SetMPDState</code><span class="sig-paren">(</span><em>mpdstate</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.SetMPDState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetMPDState" title="Permalink to this definition">¶</a></dt>
<dd><p>This Method can be used to set the  <em>playing</em>-state of MPD (Music Playing Daemon)</p>
<p>The following arguments are possible:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">&quot;play&quot;</span></code>: Set state to <em>playing</em>. If there are songs in the queue, MPD start streaming.</li>
<li><code class="docutils literal"><span class="pre">&quot;pause&quot;</span></code>: Set state to <em>pause</em>.</li>
<li><code class="docutils literal"><span class="pre">&quot;playpause&quot;</span></code>: Toggle between <em>playing</em> and <em>pause</em></li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mpdstate</strong> (<em>str</em>) – New playing-state for MPD. <em>mpdstate</em> must be one of the following strings: playpause, play or pause.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><code class="docutils literal"><span class="pre">None</span></code></td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;SetMPDState&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">mpdstate</span><span class="o">:</span><span class="s2">&quot;playpause&quot;</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetSongTag">
<code class="descname">SetSongTag</code><span class="sig-paren">(</span><em>songid</em>, <em>tagid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.SetSongTag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetSongTag" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a tag for a song.
This method sets the approval-level to 1 (Set by User) and confidence to 1.0 for this tag.
So, this method can also be used to approve an AI set tag.</p>
<p>If tagging is disabled nothing will be done.</p>
<p>After executing this method, the MusicDB server broadcasts the result of <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSong" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSong"><code class="xref py py-meth docutils literal"><span class="pre">GetSong()</span></code></a>. (<code class="docutils literal"><span class="pre">method</span> <span class="pre">=</span> <span class="pre">&quot;broadcast&quot;,</span> <span class="pre">fncname</span> <span class="pre">=</span> <span class="pre">&quot;GetSong&quot;</span></code>)
So each client gets informed about the changes made.
This is important to update the HUD if the song is currently playing.</p>
<p>After setting the new tag for the song,
the album tags get updated using <a class="reference internal" href="../mdbapi/tags.html#mdbapi.tags.MusicDBTags.DeriveAlbumTags" title="mdbapi.tags.MusicDBTags.DeriveAlbumTags"><code class="xref py py-meth docutils literal"><span class="pre">mdbapi.tags.MusicDBTags.DeriveAlbumTags()</span></code></a>.
So when changing a genre or sub genre, then they get suggested as album genre or sub genre</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>songid</strong> (<em>int</em>) – ID of the song</li>
<li><strong>tagid</strong> (<em>int</em>) – ID of the tag</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">None</span></code></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;SetSongTag&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">songid</span><span class="o">:</span><span class="nx">songid</span><span class="p">,</span> <span class="nx">tagid</span><span class="o">:</span><span class="nx">tagid</span><span class="p">});</span>
</pre></div>
</div>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;SetSongTag&quot;</span><span class="p">,</span> <span class="s2">&quot;UpdateTagInput&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">songid</span><span class="o">:</span><span class="nx">songid</span><span class="p">,</span> <span class="nx">tagid</span><span class="o">:</span><span class="nx">tagid</span><span class="p">},</span> <span class="p">{</span><span class="nx">taginputid</span><span class="o">:</span><span class="nx">taginputid</span><span class="p">});</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetSong&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;UpdateTagInput&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Updating &quot;</span> <span class="o">+</span> <span class="nx">pass</span><span class="p">.</span><span class="nx">taginputid</span> <span class="o">+</span> <span class="s2">&quot; for song &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">song</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="nx">Taginput_Update</span><span class="p">(</span><span class="nx">pass</span><span class="p">.</span><span class="nx">taginputid</span><span class="p">,</span> <span class="nx">args</span><span class="p">.</span><span class="nx">tags</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.UpdateSongStatistic">
<code class="descname">UpdateSongStatistic</code><span class="sig-paren">(</span><em>songid</em>, <em>statistic</em>, <em>modifier</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.UpdateSongStatistic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.UpdateSongStatistic" title="Permalink to this definition">¶</a></dt>
<dd><p>When this method got called direct via the JavaScript API, the MusicDB server broadcasts the result of <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSong" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSong"><code class="xref py py-meth docutils literal"><span class="pre">GetSong()</span></code></a>. (<code class="docutils literal"><span class="pre">method</span> <span class="pre">=</span> <span class="pre">&quot;broadcast&quot;,</span> <span class="pre">fncname</span> <span class="pre">=</span> <span class="pre">&quot;GetSong&quot;</span></code>)
So each client gets informed about the changes made.
This is important to update the HUD if the song is currently playing.</p>
<p>This method is a direct interface to <a class="reference internal" href="../lib/musicdb.html#lib.db.musicdb.MusicDatabase.UpdateSongStatistic" title="lib.db.musicdb.MusicDatabase.UpdateSongStatistic"><code class="xref py py-meth docutils literal"><span class="pre">lib.db.musicdb.MusicDatabase.UpdateSongStatistic()</span></code></a>. See the related documentation for more details.</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Ralf Stemmer.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'2.0.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>