

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>MusicDB Websocket API &mdash; MusicDB 7.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="MusicDB 7.0.0 documentation" href="../index.html"/>
        <link rel="next" title="Workflow for development" href="workflow.html"/>
        <link rel="prev" title="MusicDB Test VMs" href="testvm.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> MusicDB
          

          
          </a>

          
            
            
              <div class="version">
                7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Concepts</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="comparison.html">Comparison to Other Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="comparison.html#introducing-other-tools">Introducing other tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="comparison.html#metrics">Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="comparison.html#comparison">Comparison</a></li>
<li class="toctree-l2"><a class="reference internal" href="comparison.html#conclusion">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="concept.html">Philosophy of MusicDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">MusicDB Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="config.html#meta">meta</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#server">server</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#websocket">websocket</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#tls">TLS</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#database">database</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#music">music</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#artwork">artwork</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#videoframes">videoframes</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#uploads">uploads</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#extern">extern</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#tracker">tracker</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#lycra">lycra</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#icecast">Icecast</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#randy">Randy</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#log">log</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#debug">debug</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="definitions.html">Definitions in Context of MusicDB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="definitions.html#music-songs-and-videos">Music, Songs and Videos</a></li>
<li class="toctree-l2"><a class="reference internal" href="definitions.html#artwork-thumbnail-frame-and-preview">Artwork, Thumbnail, Frame and Preview</a></li>
<li class="toctree-l2"><a class="reference internal" href="definitions.html#flags-vs-tags">Flags vs. Tags</a></li>
<li class="toctree-l2"><a class="reference internal" href="definitions.html#music-properties-statistics">Music Properties &amp; Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="definitions.html#mdbstate-vs-streamstate">MDBState vs. StreamState</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Handling log-files</a></li>
<li class="toctree-l1"><a class="reference internal" href="mods.html">MusicDB Commandline Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mods.html#loading-of-modules">Loading of Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="mods.html#creation-of-new-modules">Creation of new Modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview of MusicDB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="overview.html#music-information-purple">Music Information (Purple)</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#musicdb-data-blue">MusicDB Data (Blue)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="overview.html#music-database">Music Database</a></li>
<li class="toctree-l3"><a class="reference internal" href="overview.html#artwork-cache">Artwork Cache</a></li>
<li class="toctree-l3"><a class="reference internal" href="overview.html#musicdb-data-configuration">MusicDB Data &amp; Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#musicdb-components-green">MusicDB Components (Green)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="overview.html#command-line-modules">Command-Line Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="overview.html#musicdb-webui">MusicDB WebUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="overview.html#musicdb-server">MusicDB Server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#external-servers-black">External Servers (Black)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="overview.html#http-server">HTTP Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="overview.html#icecast-server">Icecast Server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#consuming-music-orange">Consuming Music (Orange)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="streaming.html">MusicDB Stream</a><ul>
<li class="toctree-l2"><a class="reference internal" href="streaming.html#general-data-flow">General Data Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="streaming.html#stream-implementation">Stream Implementation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="testvm.html">MusicDB Test VMs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="testvm.html#qemu-installation">qemu Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="testvm.html#basic-setup">Basic Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="testvm.html#disk-images">Disk Images</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="testvm.html#system-setup">System Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="testvm.html#installing-updating-musicdb-test-environment">Installing/Updating MusicDB Test Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="testvm.html#create-dummy-files">Create Dummy Files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="testvm.html#test-systems">Test Systems</a><ul>
<li class="toctree-l3"><a class="reference internal" href="testvm.html#debian">Debian</a></li>
<li class="toctree-l3"><a class="reference internal" href="testvm.html#raspian">Raspian</a></li>
<li class="toctree-l3"><a class="reference internal" href="testvm.html#arch-linux">Arch Linux</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">MusicDB Websocket API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#communication">Communication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#packet-format">Packet format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#client-side-interface">Client side interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#callback-functions">Callback functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#send-data-to-the-server">Send data to the server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#events">Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-lib.ws.mdbwsi">Server side API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#available-methods">Available Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#artists">Artists</a></li>
<li class="toctree-l3"><a class="reference internal" href="#albums">Albums</a></li>
<li class="toctree-l3"><a class="reference internal" href="#songs">Songs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#videos">Videos</a></li>
<li class="toctree-l3"><a class="reference internal" href="#queue">Queue</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tag-related">Tag related</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lyrics">Lyrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#uploading">Uploading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other">Other</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Workflow for development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="workflow.html#working-on-code">Working on code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#rebuilding-the-documentation">Rebuilding the Documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="workflow.html#using-git">Using git</a><ul>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#micro-commits">Micro Commits</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#createing-a-hotfix">Createing a Hotfix</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#merging-develop-to-master">Merging Develop to Master</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="workflow.html#releasing-a-new-version">Releasing a New Version</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usage/install.html">Installation &amp; Update</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../usage/install.html#installation-automatic">Installation (Automatic)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#install-dependencies">Install Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#additional-steps-for-ubuntu">Additional Steps for Ubuntu</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#executing-the-install-sh-script">Executing the install.sh Script</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#configuring-musicdb">Configuring MusicDB</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/install.html#configuring-musicdb-webui">Configuring MusicDB WebUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/install.html#id1">Configuring MusicDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/install.html#first-run">First Run</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/install.html#update">Update</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#update-to-a-new-version">Update to a New Version</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/install.html#installation-manually">Installation (Manually)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#system-preparation">System Preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#id2">Install dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#basic-packages">Basic packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#download-musicdb">Download MusicDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#libprinthex">libprinthex</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#id3">id3edit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#musicdb">musicdb</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usage/music.html">Music</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../usage/music.html#naming">Naming</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/music.html#artist-directory-name">Artist Directory Name</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/music.html#album-directory-name">Album Directory Name</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/music.html#song-file-name">Song File Name</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/music.html#music-video-file-name">Music Video File Name</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/music.html#importing-albums-to-musicdb">Importing Albums to MusicDB</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/music.html#using-the-database-module">Using the database module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/music.html#using-the-repair-module">Using the repair module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/music.html#using-the-add-module">Using the add module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/music.html#updating-songs">Updating Songs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/music.html#importing-videos-to-musicdb">Importing Videos to MusicDB</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usage/scripts.html">Scripts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../usage/scripts.html#musicdb-boot">musicdb-boot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/scripts.html#musicdb-shutdown">musicdb-shutdown</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/scripts.html#musicdb-start">musicdb-start</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/scripts.html#musicdb-stop">musicdb-stop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/scripts.html#update">update</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">CLI Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mod/add.html">add - Add New Album to MusicDB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/add.html#select-album">Select Album</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mod/add.html#repair-file-names">Repair File Names</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../mod/add.html#album-import-form">Album Import Form</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mod/add.html#new-songs-form">New Songs Form</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mod/add.html#online-check">Online Check</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../mod/add.html#import-process">Import Process</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mod/artwork.html">artwork - Artwork Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/artwork.html#class">class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mod/database.html">database - Music DB Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mod/extern.html">extern - Music File Uploader</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/extern.html#class">class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mod/extern.html#automatization">Automatization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mod/genres.html">genres - Genre Manager with CLUI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/genres.html#managing-genres">Managing Genres</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mod/genres.html#updating-caches">Updating Caches</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mod/metadata.html">metadata - Metadata Reader</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mod/mise.html">mise - Micro Search Engine</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/mise.html#class">class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mod/moods.html">moods - Mood Tag Manager with CLUI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/moods.html#mood-list">Mood List</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mod/moods.html#mood-grid">Mood Grid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mod/moods.html#style-guide">Style Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mod/repair.html">repair - Repair Database Entries</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/repair.html#lyrics-check">Lyrics Check</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mod/repair.html#checksum-update">Checksum update</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mod/server.html">server - MusicDB Websocket Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mod/stats.html">stats - MusicDB Song Statistic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mod/tags.html">tags - MusicDB Tag Manager</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/tags.html#main-commands">Main commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mod/tags.html#style-guide">Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mod/tags.html#example-calls">Example calls</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mod/videoframes.html">videoframes - Video Frames and Preview Manager</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/videoframes.html#class">class</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">API Classes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/artwork.html">Artwork Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#database">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#path-structure">Path structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../mdbapi/artwork.html#web-browsers">Web Browsers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#scaling">Scaling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#manifest">Manifest</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#algorithm">Algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#musicdbartwork-class">MusicDBArtwork Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#module-lib.cache">ArtworkCache Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/audiostream.html">Audio Streaming Server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/audiostream.html#interface">Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/audiostream.html#streaming-thread">Streaming Thread</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/audiostream.html#command-queue">Command Queue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/audiostream.html#event-management">Event Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/audiostream.html#stream-manager-class">Stream Manager Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/blacklist.html">Blacklist</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/blacklist.html#module-mdbapi.blacklist">Blacklist Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../mdbapi/blacklist.html#id1">Blacklist</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/blacklist.html#blacklist-interface-class">Blacklist Interface Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/database.html">MusicDBDatabase</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/database.html#musicdbdatabase-class">MusicDBDatabase Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/extern.html">MusicDBExtern</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/extern.html#initializing-a-storage">Initializing a Storage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../mdbapi/extern.html#storage-configuration">Storage Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mdbapi/extern.html#the-state-file">The State-File</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/extern.html#updating-a-storage">Updating a Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/extern.html#handling-toxic-environments">Handling Toxic Environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/extern.html#musicdbextern-class">MusicDBExtern Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/lycra.html">LyCra - Lyrics Crawler</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/lycra.html#module-mdbapi.lycra">Lycra API Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/lycra.html#crawler-base-class">Crawler Base Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/lycra.html#module-lib.db.lycradb">Lycra Database</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/mise.html">Micro Search Engine</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/mise.html#musicdbmicrosearchengine-class">MusicDBMicroSearchEngine Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/randy.html">Randomizer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/randy.html#module-mdbapi.randy">Randy Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../mdbapi/randy.html#song-selection-algorithm">Song Selection Algorithm</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../mdbapi/randy.html#database-stage">Database Stage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../mdbapi/randy.html#blacklist-stage">Blacklist Stage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../mdbapi/randy.html#video-selection-algorithm">Video Selection Algorithm</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/randy.html#randy-class">Randy Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/server.html">MusicDB Websocket Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/songqueue.html">MusicDB Song Queue</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/songqueue.html#queue-management">Queue Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/songqueue.html#event-management">Event Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/songqueue.html#song-queue-class">Song Queue Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/tags.html">MusicDBTags</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/tags.html#musicdbtags-class">MusicDBTags Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/tracker.html">Song Tracker</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/tracker.html#tracker-class">Tracker Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/tracker.html#module-lib.db.trackerdb">Tracker Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/tracker.html#trackerdatabase-class">TrackerDatabase Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/uploadmanager.html">Upload Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/uploadmanager.html#uploadmanager-class">UploadManager Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/videoframes.html">Video Frames and Preview Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoframes.html#definitions">Definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoframes.html#database">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoframes.html#path-structure">Path structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoframes.html#https-server">HTTPS Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoframes.html#scaling">Scaling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoframes.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoframes.html#algorithm">Algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoframes.html#videoframes-class">VideoFrames Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/videoqueue.html">MusicDB video Queue</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoqueue.html#queue-management">Queue Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoqueue.html#event-management">Event Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoqueue.html#video-queue-class">Video Queue Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/videostream.html">Video Streaming Server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videostream.html#interface">Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videostream.html#streaming-thread">Streaming Thread</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videostream.html#command-queue">Command Queue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videostream.html#event-management">Event Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videostream.html#stream-manager-class">Stream Manager Class</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Libraries</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../lib/clui.html">Command Line User Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/clui.html#module-lib.clui.text">Text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/clui.html#module-lib.clui.frame">Frame</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/clui.html#module-lib.clui.pane">Pane</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/clui.html#module-lib.clui.buttonview">ButtonView</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/clui.html#module-lib.clui.listview">ListView</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/clui.html#module-lib.clui.dialog">Dialog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/clui.html#module-lib.clui.textinput">TextInput</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/clui.html#module-lib.clui.boolinput">BoolInput</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/clui.html#module-lib.clui.tabgroup">TabGroup</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib/config.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/config.html#base-classes">Base Classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib/config.html#module-lib.cfg.config">Config</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib/config.html#module-lib.cfg.csv">CSVFile</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib/config.html#musicdb-configuration">MusicDB Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/config.html#module-lib.cfg.webui">WebUI Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/config.html#module-lib.cfg.extern">External Storage Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/config.html#module-lib.cfg.mdbstate">MusicDB State</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib/database.html">Database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/database.html#database-class">Database Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib/fileprocessing.html">Fileprocessing Methods</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/fileprocessing.html#fileprocessing-class">Fileprocessing Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib/filesystem.html">Filesystem Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/filesystem.html#filesystem-class">Filesystem Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib/gstreamer.html">GStreamer Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/gstreamer.html#gstreamer-pipeline">GStreamer Pipeline</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib/gstreamer.html#installation">Installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib/gstreamer.html#gstreamerinterface-class">GStreamerInterface Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib/icecast.html">Icecast Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/icecast.html#introduction-to-icecast">Introduction to Icecast</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib/icecast.html#icecast-configuration">Icecast Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib/icecast.html#icecast-class">Icecast Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib/metatags.html">Meta Tags</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/metatags.html#metatags-class">MetaTags Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib/mp3file.html">MP3 File Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/mp3file.html#mp3file-class">MP3File Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib/mp3stream.html">MP3 Stream Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/mp3stream.html#mp3stream-class">MP3Stream Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib/mp3transcoder.html">MP3 Transcoder</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/mp3transcoder.html#gstreamer-pipeline">GStreamer Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/mp3transcoder.html#unix-pipe">UNIX Pipe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/mp3transcoder.html#transcoding">Transcoding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/mp3transcoder.html#mp3transcoder-class">MP3Transcoder Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib/musicdb.html">MusicDatabase</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/musicdb.html#validity-of-columns">Validity of columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/musicdb.html#adding-a-column">Adding a Column</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/musicdb.html#songs">Songs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib/musicdb.html#song-relates-methods">Song Relates Methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib/musicdb.html#videos">Videos</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib/musicdb.html#video-relates-methods">Video Relates Methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib/musicdb.html#albums">Albums</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib/musicdb.html#album-related-methods">Album Related Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib/musicdb.html#artworks">Artworks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib/musicdb.html#origin">Origin</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib/musicdb.html#artists">Artists</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/musicdb.html#lyrics">Lyrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/musicdb.html#tags">Tags</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../lib/musicdb.html#tag-definition-table">Tag Definition Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib/musicdb.html#tag-mapping-table">Tag Mapping Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lib/musicdb.html#tag-related-methods">Tag Related Methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lib/musicdb.html#musicdatabase-class">MusicDatabase Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib/namedpipe.html">NamedPipe</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/namedpipe.html#namedpipe-class">NamedPipe Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lib/pidfile.html">PID File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lib/websockets.html">MusicDB Websocket Protocol</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lib/websockets.html#module-lib.ws.server">Websocket Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib/websockets.html#module-lib.ws.websocket">Websocket Protocol</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">JaveScript Classes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../webui/websockets.html">Websocket Connection</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../webui/websockets.html#connection-process">Connection Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../webui/websockets.html#watchdog">Watchdog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../webui/websockets.html#communication-with-the-server">Communication with the server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../webui/websockets.html#sending-data">Sending Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../webui/websockets.html#receiving-data">Receiving Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../webui/websockets.html#minimal-usage">Minimal usage</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../other/impressum.html">Impressum</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#angaben-gemasz-5-tmg">Angaben gemäß § 5 TMG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#kontakt">Kontakt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#verantwortlich-fur-den-inhalt-nach-55-abs-2-rstv">Verantwortlich für den Inhalt nach § 55 Abs. 2 RStV</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#haftung-fur-inhalte">Haftung für Inhalte</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#haftung-fur-links">Haftung für Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#urheberrecht">Urheberrecht</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../other/impressum.html#datenschutzerklarung-privacy-statement">Datenschutzerklärung / Privacy Statement</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#datenschutz">Datenschutz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#cookies">Cookies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#server-log-files">Server-Log-Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#facebook-plugins-like-button">Facebook-Plugins (Like-Button)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#twitter">Twitter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#google">Google+</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#youtube">YouTube</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#ssl-verschlusselung">SSL-Verschlüsselung</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#widerspruch-werbe-mails">Widerspruch Werbe-Mails</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MusicDB</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>MusicDB Websocket API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/basics/webapi.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="musicdb-websocket-api">
<h1>MusicDB Websocket API<a class="headerlink" href="#musicdb-websocket-api" title="Permalink to this headline">¶</a></h1>
<p>The following documentation is part of the Python code documentation for developers.
So, there may appear some pythonic codes.
Most code presented on this page is <em>JavaScript</em>.</p>
<p>The names for the methods and arguments are identical.
The returned values of each method are the same as sent back by the server to the client.
So when the server method has an argument <em>albumid</em> (like <code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">GetAlbum(self,</span> <span class="pre">albumid):</span></code>),
than the JavaScript argument is also <em>albumid</em>.
To give the argument <code class="docutils literal notranslate"><span class="pre">1000</span></code> to the <em>GetAlbum</em> function, the arguments-object must look like <code class="docutils literal notranslate"><span class="pre">{albumid:</span> <span class="pre">1000}</span></code>.</p>
<div class="section" id="communication">
<h2>Communication<a class="headerlink" href="#communication" title="Permalink to this headline">¶</a></h2>
<div class="section" id="packet-format">
<h3>Packet format<a class="headerlink" href="#packet-format" title="Permalink to this headline">¶</a></h3>
<p>A packet is a JSON string with the following entries:</p>
<dl class="simple">
<dt>method:</dt><dd><p>Different methods to communicate with the server</p>
</dd>
<dt>fncname:</dt><dd><p>The name of the function that shall be called on the server</p>
</dd>
<dt>fncsig:</dt><dd><p>A function signature. If there is a response, this signature can be used to tell the client what function to call next.
This entry is not used by the server and can be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd>
<dt>arguments:</dt><dd><p>These are the arguments to the called function.
It is an object or list of objects with each element addressing one argument of the called method on the server.
On received packets, this are the returned values.</p>
</dd>
<dt>pass:</dt><dd><p>A place for pass-through arguments.
The server will not touch this entry and returns it as it is.
This may be useful to give the receiving client some context.</p>
</dd>
<dt>key:</dt><dd><p>This entry holds the WebSocket API key.
If this key does not match with the key configured for the running server in the MusicDB Configuration (<code class="docutils literal notranslate"><span class="pre">[websocket]-&gt;apikey</span></code>), then the packet gets dropped.
Its value gets set by the JavaScript implementation right before the packet gets send to the server.</p>
</dd>
</dl>
<p>The following code show an abstract of the implementation:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// method and fncname are mandatory, the other entries are optional</span>
<span class="nx">fncsig</span> <span class="o">=</span> <span class="nx">fncsig</span> <span class="o">||</span> <span class="kc">null</span><span class="p">;</span>
<span class="nx">pass</span>   <span class="o">=</span> <span class="nx">pass</span>   <span class="o">||</span> <span class="kc">null</span><span class="p">;</span>
<span class="nx">args</span>   <span class="o">=</span> <span class="nx">args</span>   <span class="o">||</span> <span class="kc">null</span><span class="p">;</span>

<span class="c1">// Create Packet</span>
<span class="kd">var</span> <span class="nx">packet</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">method</span><span class="o">:</span>     <span class="nx">method</span><span class="p">,</span>
    <span class="nx">fncname</span><span class="o">:</span>    <span class="nx">fncname</span><span class="p">,</span>
    <span class="nx">fncsig</span><span class="o">:</span>     <span class="nx">fncsig</span><span class="p">,</span>
    <span class="nx">arguments</span><span class="o">:</span>  <span class="nx">args</span><span class="p">,</span>
    <span class="nx">pass</span><span class="o">:</span>       <span class="nx">pass</span>
<span class="p">}</span>

<span class="c1">// Make JSON string out of the packet</span>
<span class="kd">var</span> <span class="nx">buffer</span><span class="p">;</span>
<span class="nx">buffer</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">packet</span><span class="p">);</span>

<span class="c1">// Send string to the server</span>
<span class="k">try</span>
<span class="p">{</span>
   <span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">buffer</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
<span class="p">{</span>
   <span class="nb">window</span><span class="p">.</span><span class="nx">console</span> <span class="o">&amp;&amp;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;[MDB] Error: Sending message to server failed!&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="methods">
<h3>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>call:</dt><dd><p>A call of a function on the server.
There will be no response from the server.</p>
</dd>
<dt>request:</dt><dd><p>A request of data from the server.
The returned value are stored in the arguments entry.
The method entry gets set to <em>response</em> by the server.</p>
</dd>
<dt>reponse:</dt><dd><p>This marks a direct response from the server to the client who requested data.
<em>This method should only be used by the server!</em></p>
</dd>
<dt>broadcast:</dt><dd><p>A broadcast is a packet from the server that got send to all connected clients.
If the client uses the <em>broadcast</em> method, the response gets send to all clients as broadcast as well.</p>
</dd>
<dt>notification:</dt><dd><p>An notification is similar to a broadcast with the main difference that there was no client side action before.
Notifications can result of internal state changes of the server.
<em>This method should only be used by the server!</em></p>
</dd>
</dl>
<p>There is a special <em>broadcast</em> triggered whenever the server gets triggered to update its caches by system signal <em>USR1</em>.
This broadcast should be used to update the caches on client side.
It has the following signature: <code class="docutils literal notranslate"><span class="pre">{method:&quot;broadcast&quot;,</span> <span class="pre">fncname:&quot;SIGUSR1&quot;,</span> <span class="pre">fncsig:&quot;UpdateCaches&quot;,</span> <span class="pre">arguments:null,</span> <span class="pre">pass:null}</span></code></p>
</div>
</div>
<div class="section" id="client-side-interface">
<h2>Client side interface<a class="headerlink" href="#client-side-interface" title="Permalink to this headline">¶</a></h2>
<p>The MusicDB interface on client side is implemented in the file <em>musicdb.js</em>.
This file is documented under <a class="reference internal" href="../webui/websockets.html"><span class="doc">Websocket Connection</span></a>.
The connection can be started by calling <code class="xref js js-func docutils literal notranslate"><span class="pre">ConnectToMusicDB()</span></code>.
Then there can be used several functions and callback routines to communicate with the MusicDB Websocket Server.</p>
<p>To establish a connection on startup, just wait for the <code class="docutils literal notranslate"><span class="pre">onload</span></code> event from the browser:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span>
<span class="p">{</span>
   <span class="nx">ConnectToMusicDB</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The configuration must be done inside the file musicdb.js.
Read the <a class="reference internal" href="../webui/websockets.html"><span class="doc">Websocket Connection</span></a> documentation for setting up the watchdog and the address of the websocket server!
See the sections for the watchdog and the communication to the server.</p>
</div>
<div class="section" id="callback-functions">
<h3>Callback functions<a class="headerlink" href="#callback-functions" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p>onMusicDBConnectionOpen()</p></li>
<li><p>onMusicDBConnectionError()</p></li>
<li><p>onMusicDBWatchdogBarks()</p></li>
<li><p>onMusicDBConnectionClosed()</p></li>
<li><p>onMusicDBNotification(fnc, sig, rawdata)</p></li>
<li><p>onMusicDBMessage(fnc, sig, args, pass)</p></li>
</ul>
</div></blockquote>
<p>A minimal implementation may look like this:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">onMusicDBConnectionOpen</span><span class="p">()</span>
<span class="p">{</span>
   <span class="nb">window</span><span class="p">.</span><span class="nx">console</span> <span class="o">&amp;&amp;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;[MDB] Open&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">onMusicDBConnectionError</span><span class="p">()</span>
<span class="p">{</span>
   <span class="nb">window</span><span class="p">.</span><span class="nx">console</span> <span class="o">&amp;&amp;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;[MDB] Error&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">onMusicDBWatchdogBarks</span><span class="p">()</span>
<span class="p">{</span>
   <span class="nb">window</span><span class="p">.</span><span class="nx">console</span> <span class="o">&amp;&amp;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;[MDB] WD Barks&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">onMusicDBConnectionClosed</span><span class="p">()</span>
<span class="p">{</span>
   <span class="nb">window</span><span class="p">.</span><span class="nx">console</span> <span class="o">&amp;&amp;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;[MDB] Closed&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">onMusicDBNotification</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">rawdata</span><span class="p">)</span>
<span class="p">{</span>
   <span class="nb">window</span><span class="p">.</span><span class="nx">console</span> <span class="o">&amp;&amp;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;[MDB] Notification&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
   <span class="nb">window</span><span class="p">.</span><span class="nx">console</span> <span class="o">&amp;&amp;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;[MDB] Message&quot;</span><span class="p">);</span>

   <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetAlbum&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowAlbum&quot;</span><span class="p">)</span>
      <span class="nx">ShowAlbum</span><span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">artist</span><span class="p">,</span> <span class="nx">args</span><span class="p">.</span><span class="nx">album</span><span class="p">,</span> <span class="nx">args</span><span class="p">.</span><span class="nx">cds</span><span class="p">,</span> <span class="nx">args</span><span class="p">.</span><span class="nx">tags</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="send-data-to-the-server">
<h3>Send data to the server<a class="headerlink" href="#send-data-to-the-server" title="Permalink to this headline">¶</a></h3>
<p>The following functions are available to communicate with the server.
The arguments <em>args</em> and <em>pass</em> are optional arguments.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">MusicDB_Call</span><span class="p">(</span><span class="nx">fncname</span><span class="p">,</span> <span class="nx">args</span><span class="p">)</span>
<span class="kd">function</span> <span class="nx">MusicDB_Request</span><span class="p">(</span><span class="nx">fncname</span><span class="p">,</span> <span class="nx">fncsig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="kd">function</span> <span class="nx">MusicDB_Broadcast</span><span class="p">(</span><span class="nx">fncname</span><span class="p">,</span> <span class="nx">fncsig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
</pre></div>
</div>
<p>The documentation of these function are linked in the following list:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="xref js js-func docutils literal notranslate"><span class="pre">MusicDB_Call()</span></code></p></li>
<li><p><code class="xref js js-func docutils literal notranslate"><span class="pre">MusicDB_Request()</span></code></p></li>
<li><p><code class="xref js js-func docutils literal notranslate"><span class="pre">MusicDB_Broadcast()</span></code></p></li>
</ul>
</div></blockquote>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Request an album with ID 1000 and signal the client that the response shall be used to show it.</span>
<span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetAlbum&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowAlbum&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">albumid</span><span class="o">:</span> <span class="mf">1000</span><span class="p">});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="events">
<h2>Events<a class="headerlink" href="#events" title="Permalink to this headline">¶</a></h2>
<p>The Streaming Thread generates events that get broadcast to all clients via notifications.</p>
<p>The package has the following information:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>method:</strong> notification</p></li>
<li><p><strong>pass:</strong> <code class="docutils literal notranslate"><span class="pre">null</span></code></p></li>
<li><dl class="simple">
<dt>Event triggered by <a class="reference internal" href="../mdbapi/audiostream.html"><span class="doc">Audio Streaming Server</span></a></dt><dd><ul>
<li><p><strong>fncname:</strong> <code class="docutils literal notranslate"><span class="pre">&quot;MusicDB:AudioStream&quot;</span></code></p></li>
<li><p><strong>fncsig:</strong> <code class="docutils literal notranslate"><span class="pre">&quot;onStatusChanged&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;onTimeChanged&quot;</span></code></p></li>
<li><p><strong>argument:</strong> The playtime of the current song in seconds, when the <em>fncsig</em> is <code class="docutils literal notranslate"><span class="pre">&quot;onTimeChanged&quot;</span></code></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Event triggered by <a class="reference internal" href="../mdbapi/videostream.html"><span class="doc">Video Streaming Server</span></a></dt><dd><ul>
<li><p><strong>fncname:</strong> <code class="docutils literal notranslate"><span class="pre">&quot;MusicDB:VideoStream&quot;</span></code></p></li>
<li><p><strong>fncsig:</strong> See related documentation</p></li>
<li><p><strong>argument:</strong> See related documentation</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Event triggered by <a class="reference internal" href="../mdbapi/songqueue.html"><span class="doc">MusicDB Song Queue</span></a></dt><dd><ul>
<li><p><strong>fncname:</strong> <code class="docutils literal notranslate"><span class="pre">&quot;MusicDB:SongQueue&quot;</span></code></p></li>
<li><p><strong>fncsig:</strong> <code class="docutils literal notranslate"><span class="pre">&quot;onSongQueueChanged&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;onSongChanged&quot;</span></code></p></li>
<li><p><strong>argument:</strong> <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Event triggered by <a class="reference internal" href="../mdbapi/videoqueue.html"><span class="doc">MusicDB video Queue</span></a></dt><dd><ul>
<li><p><strong>fncname:</strong> <code class="docutils literal notranslate"><span class="pre">&quot;MusicDB:VideoQueue&quot;</span></code></p></li>
<li><p><strong>fncsig:</strong> <code class="docutils literal notranslate"><span class="pre">&quot;onVideoQueueChanged&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;onVideoChanged&quot;</span></code></p></li>
<li><p><strong>argument:</strong> <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Event triggered by <a class="reference internal" href="../mdbapi/uploadmanager.html"><span class="doc">Upload Management</span></a></dt><dd><ul>
<li><p><strong>fncname:</strong> <code class="docutils literal notranslate"><span class="pre">&quot;MusicDB:Upload&quot;</span></code></p></li>
<li><p><strong>fncsig:</strong> <code class="docutils literal notranslate"><span class="pre">&quot;ChunkRequest&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;StateUpdate&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;InternalError&quot;</span></code></p></li>
<li><p><strong>argument:</strong> See <a class="reference internal" href="../mdbapi/uploadmanager.html#mdbapi.uploadmanager.UploadManager.NotifyClient" title="mdbapi.uploadmanager.UploadManager.NotifyClient"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mdbapi.uploadmanager.UploadManager.NotifyClient()</span></code></a></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>See the related documentation of the event sources for more details</p>
</div>
<div class="section" id="module-lib.ws.mdbwsi">
<span id="server-side-api"></span><h2>Server side API<a class="headerlink" href="#module-lib.ws.mdbwsi" title="Permalink to this headline">¶</a></h2>
<p>Overview of all WebAPI Methods sorted by category (some methods appear multiple times).</p>
<div class="section" id="available-methods">
<h3>Available Methods<a class="headerlink" href="#available-methods" title="Permalink to this headline">¶</a></h3>
<p>Artists</p>
<ul class="simple">
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtists" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtists"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetArtists()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtistsWithAlbums" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtistsWithAlbums"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetArtistsWithAlbums()</span></code></a> (Alternative: GetFIlteredArtistsWithAlbums)</p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetFilteredArtistsWithVideos" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetFilteredArtistsWithVideos"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetFilteredArtistsWithVideos()</span></code></a></p></li>
</ul>
<p>Albums</p>
<ul class="simple">
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbums" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbums"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetAlbums()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetHiddenAlbums" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetHiddenAlbums"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetHiddenAlbums()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSortedAlbumCDs" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSortedAlbumCDs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSortedAlbumCDs()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbum" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbum"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetAlbum()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.HideAlbum" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.HideAlbum"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HideAlbum()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetAlbumColor" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetAlbumColor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetAlbumColor()</span></code></a></p></li>
<li><p><a class="reference internal" href="#id4" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddAlbumToQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddAlbumToQueue()</span></code></a></p></li>
</ul>
<p>Songs</p>
<ul class="simple">
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSong" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSong"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSong()</span></code></a></p></li>
<li><p><a class="reference internal" href="#id6" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSongToQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddSongToQueue()</span></code></a></p></li>
<li><p><a class="reference internal" href="#id5" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddRandomSongToQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddRandomSongToQueue()</span></code></a></p></li>
<li><p><a class="reference internal" href="#id10" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveSongFromQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RemoveSongFromQueue()</span></code></a></p></li>
<li><p><a class="reference internal" href="#id8" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.MoveSongInQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MoveSongInQueue()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongRelationship" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongRelationship"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSongRelationship()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.UpdateSongStatistic" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.UpdateSongStatistic"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateSongStatistic()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.CutSongRelationship" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.CutSongRelationship"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CutSongRelationship()</span></code></a></p></li>
<li><p><a class="reference internal" href="#id16" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.PlayNextSong"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PlayNextSong()</span></code></a></p></li>
</ul>
<p>Videos</p>
<ul class="simple">
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideos" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideos"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetVideos()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideo" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetVideo()</span></code></a></p></li>
<li><p><a class="reference internal" href="#id7" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddVideoToQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddVideoToQueue()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddRandomVideoToQueue" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddRandomVideoToQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddRandomVideoToQueue()</span></code></a></p></li>
<li><p><a class="reference internal" href="#id11" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveVideoFromQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RemoveVideoFromQueue()</span></code></a></p></li>
<li><p><a class="reference internal" href="#id9" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.MoveVideoInQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MoveVideoInQueue()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.UpdateVideoStatistic" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.UpdateVideoStatistic"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateVideoStatistic()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetVideoColor" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetVideoColor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetVideoColor()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetVideoTimeFrame" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetVideoTimeFrame"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetVideoTimeFrame()</span></code></a></p></li>
<li><p><a class="reference internal" href="#id17" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.PlayNextVideo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PlayNextVideo()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.VideoEnded" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.VideoEnded"><code class="xref py py-meth docutils literal notranslate"><span class="pre">VideoEnded()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetVideoThumbnail" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetVideoThumbnail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetVideoThumbnail()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoRelationship" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoRelationship"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetVideoRelationship()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.CutVideoRelationship" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.CutVideoRelationship"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CutVideoRelationship()</span></code></a></p></li>
</ul>
<p>Queue</p>
<ul class="simple">
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongQueue" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSongQueue()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoQueue" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetVideoQueue()</span></code></a></p></li>
<li><p><a class="reference internal" href="#id6" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSongToQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddSongToQueue()</span></code></a></p></li>
<li><p><a class="reference internal" href="#id5" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddRandomSongToQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddRandomSongToQueue()</span></code></a></p></li>
<li><p><a class="reference internal" href="#id7" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddVideoToQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddVideoToQueue()</span></code></a></p></li>
<li><p><a class="reference internal" href="#id4" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddAlbumToQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddAlbumToQueue()</span></code></a></p></li>
<li><p><a class="reference internal" href="#id10" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveSongFromQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RemoveSongFromQueue()</span></code></a></p></li>
<li><p><a class="reference internal" href="#id11" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveVideoFromQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RemoveVideoFromQueue()</span></code></a></p></li>
<li><p><a class="reference internal" href="#id8" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.MoveSongInQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MoveSongInQueue()</span></code></a></p></li>
<li><p><a class="reference internal" href="#id9" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.MoveVideoInQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MoveVideoInQueue()</span></code></a></p></li>
</ul>
<p>Tag related</p>
<ul class="simple">
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetTags()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTagsStatistics" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTagsStatistics"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetTagsStatistics()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSongTags()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetAlbumTags()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetVideoTags()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetAlbumTag" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetAlbumTag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetAlbumTag()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveAlbumTag" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveAlbumTag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RemoveAlbumTag()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetSongTag" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetSongTag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetSongTag()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveSongTag" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveSongTag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RemoveSongTag()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetVideoTag" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetVideoTag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetVideoTag()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveVideoTag" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveVideoTag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RemoveVideoTag()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddGenre" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddGenre"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddGenre()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSubgenre" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSubgenre"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddSubgenre()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddMoodFlag" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddMoodFlag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddMoodFlag()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.DeleteTag" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.DeleteTag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DeleteTag()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.ModifyTag" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.ModifyTag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ModifyTag()</span></code></a></p></li>
</ul>
<p>Lyrics</p>
<ul class="simple">
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongLyrics" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongLyrics"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSongLyrics()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetLyricsCrawlerCache" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetLyricsCrawlerCache"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetLyricsCrawlerCache()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.RunLyricsCrawler" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.RunLyricsCrawler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RunLyricsCrawler()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetSongLyrics" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetSongLyrics"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetSongLyrics()</span></code></a></p></li>
</ul>
<p>Uploading</p>
<ul class="simple">
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.InitiateUpload" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.InitiateUpload"><code class="xref py py-meth docutils literal notranslate"><span class="pre">InitiateUpload()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.UploadChunk" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.UploadChunk"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UploadChunk()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetUploads" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetUploads"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetUploads()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AnnotateUpload" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AnnotateUpload"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AnnotateUpload()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.IntegrateUpload" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.IntegrateUpload"><code class="xref py py-meth docutils literal notranslate"><span class="pre">IntegrateUpload()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveUpload" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveUpload"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RemoveUpload()</span></code></a></p></li>
</ul>
<p>Other</p>
<ul class="simple">
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.Find" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.Find"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Find()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAudioStreamState" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAudioStreamState"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetAudioStreamState()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoStreamState" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoStreamState"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetVideoStreamState()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetAudioStreamState" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetAudioStreamState"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetAudioStreamState()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetVideoStreamState" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetVideoStreamState"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetVideoStreamState()</span></code></a></p></li>
<li><p><a class="reference internal" href="#id16" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.PlayNextSong"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PlayNextSong()</span></code></a></p></li>
<li><p><a class="reference internal" href="#id17" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.PlayNextVideo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PlayNextVideo()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetMDBState" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetMDBState"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetMDBState()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetMDBState" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetMDBState"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetMDBState()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTables" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTables"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetTables()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SaveWebUIConfiguration" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.SaveWebUIConfiguration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SaveWebUIConfiguration()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.LoadWebUIConfiguration" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.LoadWebUIConfiguration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">LoadWebUIConfiguration()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.FindNewContent" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.FindNewContent"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FindNewContent()</span></code></a></p></li>
</ul>
</div>
<div class="section" id="artists">
<h3>Artists<a class="headerlink" href="#artists" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface">
<em class="property">class </em><code class="sig-prename descclassname">lib.ws.mdbwsi.</code><code class="sig-name descname">MusicDBWebSocketInterface</code><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtists">
<code class="sig-name descname">GetArtists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetArtists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtists" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of artists.
This list is sorted by the name of the artist.</p>
<p>A list entry contains the following values:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>id:</strong> Artist ID</p></li>
<li><p><strong>name:</strong> Artist name</p></li>
<li><p><strong>path:</strong> Relative path to the artist directory</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of artists</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtistsWithAlbums">
<code class="sig-name descname">GetArtistsWithAlbums</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">applyfilter</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetArtistsWithAlbums"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtistsWithAlbums" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns a list of artists and their albums.
Each entry in this list contains the following two elements:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>artist:</strong> An entry like the list entries of <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtists" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtists"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetArtists()</span></code></a></p></li>
<li><p><strong>albums:</strong> A list of albums that was returned by <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbums" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbums"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetAlbums()</span></code></a> for the related artist.</p></li>
</ul>
</div></blockquote>
<p>Artists without albums or albums that got filters out will not appear in the list.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>The JavaScript API uses the following aliases:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GetArtistsWithAlbums</span></code>: Without arguments, and so without applying the filter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GetFilteredArtistsWithAlbums</span></code>: With applying the filter option.</p></li>
</ul>
<p>So, from JavaScripts point of view this method does not have any parameters.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>applyfilter</strong> (<em>bool</em>) – Default value is <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of artists and their albums</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetFilteredArtistsWithAlbums&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowArtists&quot;</span><span class="p">);</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetFilteredArtistsWithAlbums&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowArtists&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">artist</span> <span class="k">of</span> <span class="nx">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Artist: &quot;</span> <span class="o">+</span> <span class="nx">artist</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
            <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">album</span> <span class="k">of</span> <span class="nx">artist</span><span class="p">.</span><span class="nx">albums</span><span class="p">)</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot; -&gt; &quot;</span> <span class="o">+</span> <span class="nx">album</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetFilteredArtistsWithVideos">
<code class="sig-name descname">GetFilteredArtistsWithVideos</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetFilteredArtistsWithVideos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetFilteredArtistsWithVideos" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns a list of artists and their videos.
The genre-filter gets applied to the videos.
Each entry in this list contains the following two elements:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>artist:</strong> An entry like the list entries of <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtists" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetArtists"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetArtists()</span></code></a></p></li>
<li><p><strong>videos:</strong> A list of videos</p></li>
</ul>
</div></blockquote>
<p>Artists without videos or videos that got filters out will not appear in the list.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of artists and their videos</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetFilteredArtistsWithVideos&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowArtists&quot;</span><span class="p">);</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetFilteredArtistsWithVideos&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowArtists&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">artist</span> <span class="k">of</span> <span class="nx">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Artist: &quot;</span> <span class="o">+</span> <span class="nx">artist</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
            <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">video</span> <span class="k">of</span> <span class="nx">artist</span><span class="p">.</span><span class="nx">videos</span><span class="p">)</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot; -&gt; &quot;</span> <span class="o">+</span> <span class="nx">video</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="albums">
<h3>Albums<a class="headerlink" href="#albums" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="id0">
<em class="property">class </em><code class="sig-prename descclassname">lib.ws.mdbwsi.</code><code class="sig-name descname">MusicDBWebSocketInterface</code><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddAlbumToQueue">
<code class="sig-name descname">AddAlbumToQueue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">albumid</span></em>, <em class="sig-param"><span class="n">position</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.AddAlbumToQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddAlbumToQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>This method adds all songs of an album (from all CDs) at the end of the queue.</p>
<p>The position can be <code class="docutils literal notranslate"><span class="pre">&quot;next&quot;</span></code> if the songs shall be placed behind the current playing song.
So, all new added songs will be played next.
Alternative <code class="docutils literal notranslate"><span class="pre">&quot;last&quot;</span></code> can be used to place the songs at the end of the queue.
In case position is an integer, it is interpreted as an entry ID of the SongQueue.
Then the songs get append to that addressed entry.</p>
<p>If a song is flagged as “hated” or disabled, than it gets discarded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>albumid</strong> (<em>int</em>) – ID of the album that shall be added</p></li>
<li><p><strong>position</strong> (<em>str/int</em>) – <code class="docutils literal notranslate"><span class="pre">&quot;next&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;last&quot;</span></code> or Song-Queue Entry ID - Determines where the songs get added</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;AddAlbumToQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">albumid</span><span class="o">:</span><span class="mf">23</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbum">
<code class="sig-name descname">GetAlbum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">albumid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetAlbum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbum" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns an album and its songs, separated by CDs.</p>
<p>GetAlbum returns a dictionary with the following keys:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>artist:</strong> database entry of the artist of the album</p></li>
<li><p><strong>album:</strong> the database entry of the album itself</p></li>
<li><p><strong>tags:</strong> a list of tags as returned by <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetAlbumTags()</span></code></a></p></li>
<li><p><strong>cds:</strong> a list of CDs that contains a list of songs for each CD. See <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSortedAlbumCDs" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSortedAlbumCDs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSortedAlbumCDs()</span></code></a> for details.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>albumid</strong> (<em>int</em>) – The ID of that album that shall be returned</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary with information of the requested album, its tags and songs</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetAlbum&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowAlbum&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">albumid</span><span class="o">:</span><span class="nx">albumid</span><span class="p">});</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetAlbum&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowAlbum&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Artist: &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">artist</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Album:  &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">album</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">cd</span> <span class="k">of</span> <span class="nx">args</span><span class="p">.</span><span class="nx">cds</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">track</span> <span class="k">of</span> <span class="nx">cd</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="kd">let</span> <span class="nx">song</span><span class="p">,</span> <span class="nx">songtags</span>
                <span class="nx">song</span>     <span class="o">=</span> <span class="nx">track</span><span class="p">.</span><span class="nx">song</span><span class="p">;</span>
                <span class="nx">songtags</span> <span class="o">=</span> <span class="nx">track</span><span class="p">.</span><span class="nx">tags</span><span class="p">;</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot; -&gt; &quot;</span> <span class="o">+</span> <span class="nx">song</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbums">
<code class="sig-name descname">GetAlbums</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">artistid</span></em>, <em class="sig-param"><span class="n">applyfilter</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetAlbums"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbums" title="Permalink to this definition">¶</a></dt>
<dd><p>GetAlbums returns a list of albums of an artist.
The list is sorted by release date of the album, starting with the earliest one.
Each entry in the list has the following two elements:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>album:</strong> An album entry from the database.</p></li>
<li><p><strong>tags:</strong> The returned tag entry by <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetAlbumTags()</span></code></a></p></li>
</ul>
</div></blockquote>
<p>The filter gets applied to only the <em>genre</em> tags.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>artistid</strong> (<em>int</em>) – ID of the artist whose albums shall be returned</p></li>
<li><p><strong>applyfilter</strong> (<em>bool</em>) – Default value is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of albums and their tags</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetAlbums&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowAlbums&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">artistid</span><span class="o">:</span><span class="nx">artistid</span><span class="p">,</span> <span class="nx">applyfilter</span><span class="o">:</span><span class="kc">false</span><span class="p">});</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetAlbums&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowAlbums&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">listentry</span> <span class="k">of</span> <span class="nx">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">album</span><span class="p">,</span> <span class="nx">tags</span><span class="p">;</span>
            <span class="nx">album</span> <span class="o">=</span> <span class="nx">listentry</span><span class="p">.</span><span class="nx">album</span><span class="p">;</span>
            <span class="nx">tags</span>  <span class="o">=</span> <span class="nx">listentry</span><span class="p">.</span><span class="nx">tags</span><span class="p">;</span>

            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Tags of &quot;</span> <span class="o">+</span> <span class="nx">album</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span><span class="p">);</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tags</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetHiddenAlbums">
<code class="sig-name descname">GetHiddenAlbums</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetHiddenAlbums"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetHiddenAlbums" title="Permalink to this definition">¶</a></dt>
<dd><p>GetHiddenAlbums returns a list of all albums that are flagged as <em>hidden</em>.</p>
<p>The list is sorted by artist and release date of the album, starting with the earliest one.
Actually the list is sorted by the albums path.
Because of the naming scheme it leads to push alphabetic artists order and release-date order.</p>
<p>Each entry in the list has the following two elements:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>album:</strong> An album entry from the database.</p></li>
<li><p><strong>tags:</strong> The returned tag entry by <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetAlbumTags()</span></code></a></p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of albums and their tags</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetHiddenAlbums&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowAlbums&quot;</span><span class="p">);</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetHiddenAlbums&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowAlbums&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">listentry</span> <span class="k">of</span> <span class="nx">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">album</span><span class="p">,</span> <span class="nx">tags</span><span class="p">;</span>
            <span class="nx">album</span> <span class="o">=</span> <span class="nx">listentry</span><span class="p">.</span><span class="nx">album</span><span class="p">;</span>
            <span class="nx">tags</span>  <span class="o">=</span> <span class="nx">listentry</span><span class="p">.</span><span class="nx">tags</span><span class="p">;</span>

            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Tags of &quot;</span> <span class="o">+</span> <span class="nx">album</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span><span class="p">);</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tags</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSortedAlbumCDs">
<code class="sig-name descname">GetSortedAlbumCDs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">albumid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetSortedAlbumCDs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSortedAlbumCDs" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns a sorted list of CDs of an album.
Each CD entry is a further sorted list of songs.
Each song-entry is a dictionary with the following keys:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>song:</strong> The database entry of the song</p></li>
<li><p><strong>tags:</strong> a list of tags as returned by <code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSongTags()</span></code></p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>albumid</strong> (<em>int</em>) – ID of the album that CD and songs shall be returned</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A sorted list of CDs, its songs and their tags</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.HideAlbum">
<code class="sig-name descname">HideAlbum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">albumid</span></em>, <em class="sig-param"><span class="n">hide</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.HideAlbum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.HideAlbum" title="Permalink to this definition">¶</a></dt>
<dd><p>Hides or shows an album depending on the <em>hide</em> state.
When <code class="docutils literal notranslate"><span class="pre">hide</span> <span class="pre">==</span> <span class="pre">True</span></code> the album gets hidden,
when <code class="docutils literal notranslate"><span class="pre">hide</span> <span class="pre">==</span> <span class="pre">False</span></code> the hidden state gets reset to make the album visible again.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>albumid</strong> (<em>int</em>) – ID of the album</p></li>
<li><p><strong>hide</strong> (<em>boolean</em>) – Hide or Show the album</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;HideAlbum&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">albumid</span><span class="o">:</span> <span class="mf">1000</span><span class="p">,</span> <span class="nx">hide</span><span class="o">:</span> <span class="kc">false</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetAlbumColor">
<code class="sig-name descname">SetAlbumColor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">albumid</span></em>, <em class="sig-param"><span class="n">colorname</span></em>, <em class="sig-param"><span class="n">color</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.SetAlbumColor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetAlbumColor" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a color scheme for an album.
Valid color names are the following and must be given as string to the <em>colorname</em> parameter.
The color itself must be in HTML-Format: <code class="docutils literal notranslate"><span class="pre">#RRGGBB</span></code>.</p>
<p>The following color-names exist:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;bgcolor&quot;</span></code> -  Background color</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;fgcolor&quot;</span></code> -  Primary foreground color</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;hlcolor&quot;</span></code> -  Secondary foreground color</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>albumid</strong> (<em>int</em>) – ID of the album</p></li>
<li><p><strong>colorname</strong> (<em>str</em>) – Name of the color to set (<code class="docutils literal notranslate"><span class="pre">&quot;fgcolor&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;hlcolor&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;bgcolor&quot;</span></code>)</p></li>
<li><p><strong>color</strong> (<em>str</em>) – Color code in HTML notation: #RRGGBB</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;SetAlbumColor&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">albumid</span><span class="o">:</span><span class="mf">1000</span><span class="p">,</span> <span class="nx">colorname</span><span class="o">:</span><span class="s2">&quot;bgcolor&quot;</span><span class="p">,</span> <span class="nx">color</span><span class="o">:</span><span class="s2">&quot;#42AB23&quot;</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="songs">
<h3>Songs<a class="headerlink" href="#songs" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="id1">
<em class="property">class </em><code class="sig-prename descclassname">lib.ws.mdbwsi.</code><code class="sig-name descname">MusicDBWebSocketInterface</code><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id1" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddRandomSongToQueue">
<code class="sig-name descname">AddRandomSongToQueue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">position</span></em>, <em class="sig-param"><span class="n">albumid</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.AddRandomSongToQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddRandomSongToQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <a class="reference internal" href="#id6" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSongToQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddSongToQueue()</span></code></a>.
Instead of a specific song, a random song gets chosen by the random-song manager <em>Randy</em> (See <a class="reference internal" href="../mdbapi/randy.html"><span class="doc">Randomizer</span></a>).
This is done using the <a class="reference internal" href="../mdbapi/randy.html#mdbapi.randy.Randy.GetSong" title="mdbapi.randy.Randy.GetSong"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mdbapi.randy.Randy.GetSong()</span></code></a> method.</p>
<p>If an album ID is given, the new song will be added from that album
using <a class="reference internal" href="../mdbapi/randy.html#mdbapi.randy.Randy.GetSongFromAlbum" title="mdbapi.randy.Randy.GetSongFromAlbum"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mdbapi.randy.Randy.GetSongFromAlbum()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>position</strong> (<em>str</em>) – <code class="docutils literal notranslate"><span class="pre">&quot;next&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;last&quot;</span></code> - Determines where the song gets added</p></li>
<li><p><strong>albumid</strong> (<em>int</em>) – Optional album ID from that the song shall be</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;AddRandomSongToQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">position</span><span class="o">:</span><span class="s2">&quot;last&quot;</span><span class="p">});</span>
<span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;AddRandomSongToQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">albumid</span><span class="o">:</span><span class="s2">&quot;42&quot;</span><span class="p">,</span> <span class="nx">position</span><span class="o">:</span><span class="s2">&quot;next&quot;</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSongToQueue">
<code class="sig-name descname">AddSongToQueue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">songid</span></em>, <em class="sig-param"><span class="n">position</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.AddSongToQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSongToQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>This method adds a new song to the queue of songs that will be streamed.</p>
<p>The song gets address by its ID.
The position can be <code class="docutils literal notranslate"><span class="pre">&quot;next&quot;</span></code> if the song shall be places behind the current playing song.
So, the new added song will be played next.
Alternative <code class="docutils literal notranslate"><span class="pre">&quot;last&quot;</span></code> can be used to place the song at the end of the queue.
In case position is an integer, it is interpreted as an entry ID of the SongQueue.
Then the song gets append to that entry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>songid</strong> (<em>int</em>) – ID of the song that shall be added</p></li>
<li><p><strong>position</strong> (<em>str/int</em>) – <code class="docutils literal notranslate"><span class="pre">&quot;next&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;last&quot;</span></code> or Song-Queue Entry ID - Determines where the song gets added</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;AddSongToQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">songid</span><span class="o">:</span><span class="mf">1000</span><span class="p">,</span> <span class="nx">position</span><span class="o">:</span><span class="s2">&quot;next&quot;</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.CutSongRelationship">
<code class="sig-name descname">CutSongRelationship</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">songid</span></em>, <em class="sig-param"><span class="n">relatedsongid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.CutSongRelationship"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.CutSongRelationship" title="Permalink to this definition">¶</a></dt>
<dd><p>This method removes the relation between two songs.</p>
<p>After executing this method, the MusicDB server broadcasts the result of <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongRelationship" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongRelationship"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSongRelationship()</span></code></a>. (<code class="docutils literal notranslate"><span class="pre">method</span> <span class="pre">=</span> <span class="pre">&quot;broadcast&quot;,</span> <span class="pre">fncname</span> <span class="pre">=</span> <span class="pre">&quot;GetSongRelationship&quot;</span></code>)
So each client gets informed about the changes made.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>songid</strong> (<em>int</em>) – ID of one song</p></li>
<li><p><strong>relatedsongid</strong> (<em>int</em>) – ID of the related song</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSong">
<code class="sig-name descname">GetSong</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">songid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetSong"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSong" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns the information of a song, its album and artist, and its tags.</p>
<p>The returned dictionary has the following keys:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>song:</strong> the database entry of the song itself.</p></li>
<li><p><strong>artist:</strong> database entry of the artist of the song</p></li>
<li><p><strong>album:</strong> the database entry of the album in that the song is listed</p></li>
<li><p><strong>tags:</strong> a list of tags as returned by <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSongTags()</span></code></a></p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>songid</strong> (<em>int</em>) – ID of the song</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary with information of the song</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetSong&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowSong&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">songid</span><span class="o">:</span><span class="nx">songid</span><span class="p">});</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetSong&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowSong&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Artist: &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">artist</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Album:  &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">album</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Song:   &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">song</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">mood</span> <span class="k">of</span> <span class="nx">args</span><span class="p">.</span><span class="nx">tags</span><span class="p">.</span><span class="nx">moods</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Mood: &quot;</span> <span class="o">+</span> <span class="nx">mood</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongRelationship">
<code class="sig-name descname">GetSongRelationship</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">songid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetSongRelationship"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongRelationship" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns the relationship of a song.
It is a list of songs that were played before or after the song with song ID <em>songid</em>.</p>
<p>The returned dictionary contains the same song ID given as argument to this method,
as well as the corresponding song, album and artist entry of that song.
Additional the requested list of related songs is given.
Each lists entry is a dictionary with the related <code class="docutils literal notranslate"><span class="pre">song</span></code>, <code class="docutils literal notranslate"><span class="pre">album</span></code> and <code class="docutils literal notranslate"><span class="pre">artist</span></code> album from the database.
Furthermore the <code class="docutils literal notranslate"><span class="pre">weight</span></code> is given.
The weight indicates how often the two songs were played together.
Hated and disabled songs will not appear in the list.</p>
<p>The list of songs gets sorted by the keys in the following list: (sorted by priority)</p>
<blockquote>
<div><ul class="simple">
<li><p>Artist Name</p></li>
<li><p>Album Release</p></li>
<li><p>Album Name</p></li>
<li><p>Song CD</p></li>
<li><p>Song Number</p></li>
</ul>
</div></blockquote>
<p>The <code class="docutils literal notranslate"><span class="pre">tags</span></code> of that song will also be returned separated into <code class="docutils literal notranslate"><span class="pre">genre</span></code>, <code class="docutils literal notranslate"><span class="pre">subgenre</span></code> and <code class="docutils literal notranslate"><span class="pre">mood</span></code>.
See <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSongTags()</span></code></a> for details how they are returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>songid</strong> (<em>int</em>) – ID so a song</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of related songs</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetSongRelationship&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowRelations&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">songid</span><span class="o">:</span><span class="nx">songid</span><span class="p">});</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetSongRelationship&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowRelations&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Songs related to the one with ID &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">songid</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot; … from the album &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">album</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">entry</span> <span class="k">of</span> <span class="nx">args</span><span class="p">.</span><span class="nx">songs</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Song &quot;</span> <span class="o">+</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">song</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot; with weight &quot;</span> <span class="o">+</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">weight</span><span class="p">);</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">tags</span><span class="p">.</span><span class="nx">genres</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.MoveSongInQueue">
<code class="sig-name descname">MoveSongInQueue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">entryid</span></em>, <em class="sig-param"><span class="n">afterid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.MoveSongInQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.MoveSongInQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a direct interface to <a class="reference internal" href="../mdbapi/songqueue.html#mdbapi.songqueue.SongQueue.MoveSong" title="mdbapi.songqueue.SongQueue.MoveSong"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mdbapi.songqueue.SongQueue.MoveSong()</span></code></a>.
It moves a song from one position in the queue to another one.</p>
<p>It is not allowed to move the current playing song (index 0).
When this is tried, nothing happens.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entryid</strong> (<em>str</em>) – Position of the song</p></li>
<li><p><strong>afterid</strong> (<em>str</em>) – The position the song shall be moved to</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Assuming the following queue:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 53%" />
<col style="width: 47%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>entry ID</p></th>
<th class="head"><p>song ID</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1337</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>7357</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>2323</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>4242</p></td>
<td><p>4</p></td>
</tr>
</tbody>
</table>
<p>Then the two calls will be applied.
The first one is invalid, because entry ID <code class="docutils literal notranslate"><span class="pre">&quot;1337&quot;</span></code> addresses the current playing song at the top of the queue.
So that one will be ignored.
The next one moves song 2 to the end of the queue.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;MoveSongInQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">entryid</span><span class="o">:</span><span class="s2">&quot;1337&quot;</span><span class="p">,</span> <span class="nx">afterid</span><span class="o">:</span><span class="s2">&quot;2323&quot;</span><span class="p">});</span>
<span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;MoveSongInQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">entryid</span><span class="o">:</span><span class="s2">&quot;7357&quot;</span><span class="p">,</span> <span class="nx">afterid</span><span class="o">:</span><span class="s2">&quot;4242&quot;</span><span class="p">});</span>
</pre></div>
</div>
<p>So after processing the two calls, the queue looks like this:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 53%" />
<col style="width: 47%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>entry ID</p></th>
<th class="head"><p>song ID</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1337</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>2323</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-even"><td><p>4242</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>7357</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.PlayNextSong">
<code class="sig-name descname">PlayNextSong</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.PlayNextSong"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.PlayNextSong" title="Permalink to this definition">¶</a></dt>
<dd><p>This method skips the current playing song.
If there is no song that can be skipped, the Song Queue or Streaming Thread will handle this properly.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;PlayNextSong&quot;</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveSongFromQueue">
<code class="sig-name descname">RemoveSongFromQueue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">entryid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.RemoveSongFromQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveSongFromQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>This method removes a song from song queue.
The song gets identified by the entry ID of the queue entry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entryid</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;RemoveSongFromQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">entryid</span><span class="o">:</span><span class="s2">&quot;82390194629402649&quot;</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.UpdateSongStatistic">
<code class="sig-name descname">UpdateSongStatistic</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">songid</span></em>, <em class="sig-param"><span class="n">statistic</span></em>, <em class="sig-param"><span class="n">modifier</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.UpdateSongStatistic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.UpdateSongStatistic" title="Permalink to this definition">¶</a></dt>
<dd><p>When this method got called direct via the JavaScript API, the MusicDB server broadcasts the result of <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSong" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSong"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSong()</span></code></a>. (<code class="docutils literal notranslate"><span class="pre">method</span> <span class="pre">=</span> <span class="pre">&quot;broadcast&quot;,</span> <span class="pre">fncname</span> <span class="pre">=</span> <span class="pre">&quot;GetSong&quot;</span></code>)
So each client gets informed about the changes made.
This is important to update the HUD if the song is currently playing.</p>
<p>This method is a direct interface to <a class="reference internal" href="../lib/musicdb.html#lib.db.musicdb.MusicDatabase.UpdateSongStatistic" title="lib.db.musicdb.MusicDatabase.UpdateSongStatistic"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lib.db.musicdb.MusicDatabase.UpdateSongStatistic()</span></code></a>. See the related documentation for more details.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="videos">
<h3>Videos<a class="headerlink" href="#videos" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="id2">
<em class="property">class </em><code class="sig-prename descclassname">lib.ws.mdbwsi.</code><code class="sig-name descname">MusicDBWebSocketInterface</code><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id2" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddRandomVideoToQueue">
<code class="sig-name descname">AddRandomVideoToQueue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">position</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.AddRandomVideoToQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddRandomVideoToQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <a class="reference internal" href="#id7" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddVideoToQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddVideoToQueue()</span></code></a>.
Instead of a specific video, a random video gets chosen by the random music manager <em>Randy</em> (See <a class="reference internal" href="../mdbapi/randy.html"><span class="doc">Randomizer</span></a>).
This is done using the <a class="reference internal" href="../mdbapi/randy.html#mdbapi.randy.Randy.GetVideo" title="mdbapi.randy.Randy.GetVideo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mdbapi.randy.Randy.GetVideo()</span></code></a> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>position</strong> (<em>str</em>) – <code class="docutils literal notranslate"><span class="pre">&quot;next&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;last&quot;</span></code> - Determines where the song gets added</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;AddRandomVideoToQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">position</span><span class="o">:</span><span class="s2">&quot;last&quot;</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddVideoToQueue">
<code class="sig-name descname">AddVideoToQueue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">videoid</span></em>, <em class="sig-param"><span class="n">position</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.AddVideoToQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddVideoToQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>This method adds a new video to the queue of videos that will be played.</p>
<p>The video gets address by its ID.
The position can be <code class="docutils literal notranslate"><span class="pre">&quot;next&quot;</span></code> if the video shall be places behind the current playing video.
So, the new added video will be played next.
Alternative <code class="docutils literal notranslate"><span class="pre">&quot;last&quot;</span></code> can be used to place the video at the end of the queue.
In case position is an integer, it is interpreted as an entry ID of the VideoQueue.
Then the video gets append to that entry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>videoid</strong> (<em>int</em>) – ID of the video that shall be added</p></li>
<li><p><strong>position</strong> (<em>str/int</em>) – <code class="docutils literal notranslate"><span class="pre">&quot;next&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;last&quot;</span></code> or Video-Queue Entry ID - Determines where the song gets added</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;AddVideoToQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">videoid</span><span class="o">:</span><span class="mf">1000</span><span class="p">,</span> <span class="nx">position</span><span class="o">:</span><span class="s2">&quot;last&quot;</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.CutVideoRelationship">
<code class="sig-name descname">CutVideoRelationship</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">videoid</span></em>, <em class="sig-param"><span class="n">relatedvideoid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.CutVideoRelationship"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.CutVideoRelationship" title="Permalink to this definition">¶</a></dt>
<dd><p>This method removes the relation between two videos.</p>
<p>After executing this method, the MusicDB server broadcasts the result of <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoRelationship" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoRelationship"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetVideoRelationship()</span></code></a>. (<code class="docutils literal notranslate"><span class="pre">method</span> <span class="pre">=</span> <span class="pre">&quot;broadcast&quot;,</span> <span class="pre">fncname</span> <span class="pre">=</span> <span class="pre">&quot;GetVideoRelationship&quot;</span></code>)
So each client gets informed about the changes made.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>videoid</strong> (<em>int</em>) – ID of one video</p></li>
<li><p><strong>relatedvideoid</strong> (<em>int</em>) – ID of the related video</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideo">
<code class="sig-name descname">GetVideo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">videoid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetVideo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideo" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns a video entry from the Music Database.</p>
<p>GetVideo returns a dictionary with the following keys:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>artist:</strong> A Database entry of the artist of the video</p></li>
<li><p><strong>album:</strong> The database entry of the album of the video, if known. Can be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>song:</strong> The database entry of the song related to the video, if known. Can be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>video:</strong> The video with the <code class="docutils literal notranslate"><span class="pre">videoid</span></code> of the request</p></li>
<li><p><strong>tags:</strong> A list of tags as returned by <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetVideoTags()</span></code></a></p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>videoid</strong> (<em>int</em>) – The ID of that video that shall be returned</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary with information of the requested video</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetVideo&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowVideo&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">videoid</span><span class="o">:</span><span class="mf">1000</span><span class="p">});</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetVideo&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowVideo&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Artist: &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">artist</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Video:  &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">video</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoRelationship">
<code class="sig-name descname">GetVideoRelationship</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">videoid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetVideoRelationship"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoRelationship" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns the relationship of a video to other videos.
It is a list of videos that were played before or after the video with video ID <em>videoid</em>.</p>
<p>The returned dictionary contains the same video ID given as argument to this method, and list of related videos.
Each lists entry is a dictionary with the related <code class="docutils literal notranslate"><span class="pre">video</span></code> and <code class="docutils literal notranslate"><span class="pre">artist</span></code> from the database.
Furthermore the <code class="docutils literal notranslate"><span class="pre">weight</span></code> is given.
The weight indicates how often the two videos were played together.
Hated and disabled videos will not appear in the list.</p>
<p>The list of videos gets sorted by the keys in the following list: (sorted by priority)</p>
<blockquote>
<div><ul class="simple">
<li><p>Artist Name</p></li>
<li><p>Video Release</p></li>
</ul>
</div></blockquote>
<p>The <code class="docutils literal notranslate"><span class="pre">tags</span></code> of that videos will also be returned separated into <code class="docutils literal notranslate"><span class="pre">genre</span></code>, <code class="docutils literal notranslate"><span class="pre">subgenre</span></code> and <code class="docutils literal notranslate"><span class="pre">mood</span></code>.
See <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetVideoTags()</span></code></a> for details how they are returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>videoid</strong> (<em>int</em>) – ID so a video</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of related videos</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetVideoRelationship&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowRelations&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">videoid</span><span class="o">:</span><span class="mf">7357</span><span class="p">});</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetVideoRelationship&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowRelations&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Videos related to the one with ID &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">videoid</span><span class="p">)</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">entry</span> <span class="k">of</span> <span class="nx">args</span><span class="p">.</span><span class="nx">videos</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Video &quot;</span> <span class="o">+</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">video</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot; with weight &quot;</span> <span class="o">+</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">weight</span><span class="p">);</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">tags</span><span class="p">.</span><span class="nx">genres</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideos">
<code class="sig-name descname">GetVideos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">artistid</span></em>, <em class="sig-param"><span class="n">applyfilter</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetVideos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideos" title="Permalink to this definition">¶</a></dt>
<dd><p>GetVideos returns a list of videos of an artist.
The list is sorted by release date of the video, starting with the earliest one.
Each entry in the list has the following two elements:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>video:</strong> A video entry from the database.</p></li>
<li><p><strong>tags:</strong> The returned tag entry by <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetVideoTags()</span></code></a></p></li>
</ul>
</div></blockquote>
<p>The filter gets applied to only the <em>genre</em> tags.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>artistid</strong> (<em>int</em>) – ID of the artist whose videos shall be returned</p></li>
<li><p><strong>applyfilter</strong> (<em>bool</em>) – Default value is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of videos and their tags</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetVideos&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowVideos&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">artistid</span><span class="o">:</span><span class="nx">artistid</span><span class="p">,</span> <span class="nx">applyfilter</span><span class="o">:</span><span class="kc">false</span><span class="p">});</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetVideos&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowVideos&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">listentry</span> <span class="k">of</span> <span class="nx">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">video</span><span class="p">,</span> <span class="nx">tags</span><span class="p">;</span>
            <span class="nx">video</span> <span class="o">=</span> <span class="nx">listentry</span><span class="p">.</span><span class="nx">video</span><span class="p">;</span>
            <span class="nx">tags</span>  <span class="o">=</span> <span class="nx">listentry</span><span class="p">.</span><span class="nx">tags</span><span class="p">;</span>

            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Tags of &quot;</span> <span class="o">+</span> <span class="nx">video</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span><span class="p">);</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tags</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.MoveVideoInQueue">
<code class="sig-name descname">MoveVideoInQueue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">entryid</span></em>, <em class="sig-param"><span class="n">afterid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.MoveVideoInQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.MoveVideoInQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a direct interface to <a class="reference internal" href="../mdbapi/videoqueue.html#mdbapi.videoqueue.VideoQueue.MoveVideo" title="mdbapi.videoqueue.VideoQueue.MoveVideo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mdbapi.videoqueue.VideoQueue.MoveVideo()</span></code></a>.
It moves a video from one position in the queue to another one.</p>
<p>It is not allowed to move the current playing video (index 0).
When this is tried, nothing happens.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entryid</strong> (<em>str</em>) – Position of the video</p></li>
<li><p><strong>afterid</strong> (<em>str</em>) – The position the video shall be moved to</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.PlayNextVideo">
<code class="sig-name descname">PlayNextVideo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.PlayNextVideo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.PlayNextVideo" title="Permalink to this definition">¶</a></dt>
<dd><p>This method skips the current playing video.
If there is no video that can be skipped, the Video Queue or Streaming Thread will handle this properly.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;PlayNextVideo&quot;</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveVideoFromQueue">
<code class="sig-name descname">RemoveVideoFromQueue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">entryid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.RemoveVideoFromQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveVideoFromQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>This method removes a video from the video queue.
The video gets identified by the entry ID of the queue entry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entryid</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;RemoveVideoFromQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">entryid</span><span class="o">:</span><span class="s2">&quot;82390194629402649&quot;</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetVideoColor">
<code class="sig-name descname">SetVideoColor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">videoid</span></em>, <em class="sig-param"><span class="n">colorname</span></em>, <em class="sig-param"><span class="n">color</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.SetVideoColor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetVideoColor" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a color scheme for a video.
Valid color names are the following and must be given as string to the <em>colorname</em> parameter.
The color itself must be in HTML-Format: <code class="docutils literal notranslate"><span class="pre">#RRGGBB</span></code>.</p>
<p>The following color-names exist:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;bgcolor&quot;</span></code> -  Background color</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;fgcolor&quot;</span></code> -  Primary foreground color</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;hlcolor&quot;</span></code> -  Secondary foreground color</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>videoid</strong> (<em>int</em>) – ID of the video</p></li>
<li><p><strong>colorname</strong> (<em>str</em>) – Name of the color to set (<code class="docutils literal notranslate"><span class="pre">&quot;fgcolor&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;hlcolor&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;bgcolor&quot;</span></code>)</p></li>
<li><p><strong>color</strong> (<em>str</em>) – Color code in HTML notation: #RRGGBB</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> on success, otherwise false</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;SetVideoColor&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">videoid</span><span class="o">:</span><span class="mf">1000</span><span class="p">,</span> <span class="nx">colorname</span><span class="o">:</span><span class="s2">&quot;bgcolor&quot;</span><span class="p">,</span> <span class="nx">color</span><span class="o">:</span><span class="s2">&quot;#42AB23&quot;</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetVideoThumbnail">
<code class="sig-name descname">SetVideoThumbnail</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">videoid</span></em>, <em class="sig-param"><span class="n">timestamp</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.SetVideoThumbnail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetVideoThumbnail" title="Permalink to this definition">¶</a></dt>
<dd><p>This method sets a new video thumbnail via <a class="reference internal" href="../mdbapi/videoframes.html#mdbapi.videoframes.VideoFrames.ChangeThumbnail" title="mdbapi.videoframes.VideoFrames.ChangeThumbnail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ChangeThumbnail()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>videoid</strong> (<em>int</em>) – ID of the video to update</p></li>
<li><p><strong>timestamp</strong> (<em>int</em>) – Time stamp of the frame to select (in seconds)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Use frame at 1:10 as thumbnail</span>
<span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;SetVideoThumbnail&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">videoid</span><span class="o">:</span><span class="mf">1000</span><span class="p">,</span> <span class="nx">timestamp</span><span class="o">:</span><span class="mf">70</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetVideoTimeFrame">
<code class="sig-name descname">SetVideoTimeFrame</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">videoid</span></em>, <em class="sig-param"><span class="n">begin</span></em>, <em class="sig-param"><span class="n">end</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.SetVideoTimeFrame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetVideoTimeFrame" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the time frame for a video.
This time frame defines where the player should start playing the video
and where it should end.
Purpose for this is to cut away intros and outros.
The values are floating point numbers an represent the second inside the video file.</p>
<p>In case begin or end is <code class="docutils literal notranslate"><span class="pre">None</span></code> (<code class="docutils literal notranslate"><span class="pre">null</span></code> in JavaScript), they get reset to the default value.
The default for <em>begin</em> is <code class="docutils literal notranslate"><span class="pre">0.0</span></code> and for <em>end</em> is the total play time of the video.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>videoid</strong> (<em>int</em>) – ID of the video</p></li>
<li><p><strong>begin</strong> (<em>int</em>) – Begin of the main content in seconds.</p></li>
<li><p><strong>end</strong> (<em>int</em>) – End of the main content in seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> on success, otherwise false</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;SetVidoTimeFrame&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">videoid</span><span class="o">:</span><span class="mf">1000</span><span class="p">,</span> <span class="nx">begin</span><span class="o">:</span><span class="mf">23</span><span class="p">,</span> <span class="nx">end</span><span class="o">:</span><span class="mf">142</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.UpdateVideoStatistic">
<code class="sig-name descname">UpdateVideoStatistic</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">videoid</span></em>, <em class="sig-param"><span class="n">statistic</span></em>, <em class="sig-param"><span class="n">modifier</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.UpdateVideoStatistic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.UpdateVideoStatistic" title="Permalink to this definition">¶</a></dt>
<dd><p>This video allows setting some statistics and properties for a video.
When this method got called direct via the JavaScript API, the MusicDB server broadcasts the result of <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideo" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetVideo()</span></code></a>. (<code class="docutils literal notranslate"><span class="pre">method</span> <span class="pre">=</span> <span class="pre">&quot;broadcast&quot;,</span> <span class="pre">fncname</span> <span class="pre">=</span> <span class="pre">&quot;GetSong&quot;</span></code>)
So each client gets informed about the changes made and can synchronize itself.</p>
<p>This method is a direct interface to <a class="reference internal" href="../lib/musicdb.html#lib.db.musicdb.MusicDatabase.UpdateVideoStatistic" title="lib.db.musicdb.MusicDatabase.UpdateVideoStatistic"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lib.db.musicdb.MusicDatabase.UpdateVideoStatistic()</span></code></a>. See the related documentation for more details.</p>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.VideoEnded">
<code class="sig-name descname">VideoEnded</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">entryid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.VideoEnded"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.VideoEnded" title="Permalink to this definition">¶</a></dt>
<dd><p>Notify the Video Queue that the current played video with a specific entry id ended.
In case multiple clients are calling this method, the <cite>~mdbapi.videostream.VideoStreamManager</cite> will handle the conflict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entryid</strong> (<em>str</em>) – UUID of the video entry in the song queue</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;VideoEnded&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">entryid</span><span class="o">:</span><span class="s1">&#39;168493523207840521806064336792025247758&#39;</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="queue">
<h3>Queue<a class="headerlink" href="#queue" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="id3">
<em class="property">class </em><code class="sig-prename descclassname">lib.ws.mdbwsi.</code><code class="sig-name descname">MusicDBWebSocketInterface</code><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id3" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="id4">
<code class="sig-name descname">AddAlbumToQueue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">albumid</span></em>, <em class="sig-param"><span class="n">position</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.AddAlbumToQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id4" title="Permalink to this definition">¶</a></dt>
<dd><p>This method adds all songs of an album (from all CDs) at the end of the queue.</p>
<p>The position can be <code class="docutils literal notranslate"><span class="pre">&quot;next&quot;</span></code> if the songs shall be placed behind the current playing song.
So, all new added songs will be played next.
Alternative <code class="docutils literal notranslate"><span class="pre">&quot;last&quot;</span></code> can be used to place the songs at the end of the queue.
In case position is an integer, it is interpreted as an entry ID of the SongQueue.
Then the songs get append to that addressed entry.</p>
<p>If a song is flagged as “hated” or disabled, than it gets discarded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>albumid</strong> (<em>int</em>) – ID of the album that shall be added</p></li>
<li><p><strong>position</strong> (<em>str/int</em>) – <code class="docutils literal notranslate"><span class="pre">&quot;next&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;last&quot;</span></code> or Song-Queue Entry ID - Determines where the songs get added</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;AddAlbumToQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">albumid</span><span class="o">:</span><span class="mf">23</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="id5">
<code class="sig-name descname">AddRandomSongToQueue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">position</span></em>, <em class="sig-param"><span class="n">albumid</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.AddRandomSongToQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id5" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <a class="reference internal" href="#id6" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSongToQueue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddSongToQueue()</span></code></a>.
Instead of a specific song, a random song gets chosen by the random-song manager <em>Randy</em> (See <a class="reference internal" href="../mdbapi/randy.html"><span class="doc">Randomizer</span></a>).
This is done using the <a class="reference internal" href="../mdbapi/randy.html#mdbapi.randy.Randy.GetSong" title="mdbapi.randy.Randy.GetSong"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mdbapi.randy.Randy.GetSong()</span></code></a> method.</p>
<p>If an album ID is given, the new song will be added from that album
using <a class="reference internal" href="../mdbapi/randy.html#mdbapi.randy.Randy.GetSongFromAlbum" title="mdbapi.randy.Randy.GetSongFromAlbum"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mdbapi.randy.Randy.GetSongFromAlbum()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>position</strong> (<em>str</em>) – <code class="docutils literal notranslate"><span class="pre">&quot;next&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;last&quot;</span></code> - Determines where the song gets added</p></li>
<li><p><strong>albumid</strong> (<em>int</em>) – Optional album ID from that the song shall be</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;AddRandomSongToQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">position</span><span class="o">:</span><span class="s2">&quot;last&quot;</span><span class="p">});</span>
<span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;AddRandomSongToQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">albumid</span><span class="o">:</span><span class="s2">&quot;42&quot;</span><span class="p">,</span> <span class="nx">position</span><span class="o">:</span><span class="s2">&quot;next&quot;</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="id6">
<code class="sig-name descname">AddSongToQueue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">songid</span></em>, <em class="sig-param"><span class="n">position</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.AddSongToQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id6" title="Permalink to this definition">¶</a></dt>
<dd><p>This method adds a new song to the queue of songs that will be streamed.</p>
<p>The song gets address by its ID.
The position can be <code class="docutils literal notranslate"><span class="pre">&quot;next&quot;</span></code> if the song shall be places behind the current playing song.
So, the new added song will be played next.
Alternative <code class="docutils literal notranslate"><span class="pre">&quot;last&quot;</span></code> can be used to place the song at the end of the queue.
In case position is an integer, it is interpreted as an entry ID of the SongQueue.
Then the song gets append to that entry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>songid</strong> (<em>int</em>) – ID of the song that shall be added</p></li>
<li><p><strong>position</strong> (<em>str/int</em>) – <code class="docutils literal notranslate"><span class="pre">&quot;next&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;last&quot;</span></code> or Song-Queue Entry ID - Determines where the song gets added</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;AddSongToQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">songid</span><span class="o">:</span><span class="mf">1000</span><span class="p">,</span> <span class="nx">position</span><span class="o">:</span><span class="s2">&quot;next&quot;</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="id7">
<code class="sig-name descname">AddVideoToQueue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">videoid</span></em>, <em class="sig-param"><span class="n">position</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.AddVideoToQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id7" title="Permalink to this definition">¶</a></dt>
<dd><p>This method adds a new video to the queue of videos that will be played.</p>
<p>The video gets address by its ID.
The position can be <code class="docutils literal notranslate"><span class="pre">&quot;next&quot;</span></code> if the video shall be places behind the current playing video.
So, the new added video will be played next.
Alternative <code class="docutils literal notranslate"><span class="pre">&quot;last&quot;</span></code> can be used to place the video at the end of the queue.
In case position is an integer, it is interpreted as an entry ID of the VideoQueue.
Then the video gets append to that entry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>videoid</strong> (<em>int</em>) – ID of the video that shall be added</p></li>
<li><p><strong>position</strong> (<em>str/int</em>) – <code class="docutils literal notranslate"><span class="pre">&quot;next&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;last&quot;</span></code> or Video-Queue Entry ID - Determines where the song gets added</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;AddVideoToQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">videoid</span><span class="o">:</span><span class="mf">1000</span><span class="p">,</span> <span class="nx">position</span><span class="o">:</span><span class="s2">&quot;last&quot;</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongQueue">
<code class="sig-name descname">GetSongQueue</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetSongQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns a list of songs, albums and artists for each song in the song queue.
If there are no songs in the queue, an empty list gets returned.</p>
<p>Each entry of the list contains the following information:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>entryid:</strong> A unique ID to identify the entry in the queue (as string because it is a 128 integer that blows JavaScripts mind)</p></li>
<li><p><strong>israndom:</strong> A boolean value set to <code class="docutils literal notranslate"><span class="pre">true</span></code> when the song got added randomly and not explicitly by the user</p></li>
<li><p><strong>song:</strong> The song entry from the database</p></li>
<li><p><strong>album:</strong> The related album entry from the database</p></li>
<li><p><strong>artist:</strong> The related artist entry from the database</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of song, album and artist information for each song in the song queue</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetSongQueue&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowSongQueue&quot;</span><span class="p">);</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetSongQueue&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowSongQueue&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">entry</span> <span class="k">of</span> <span class="nx">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">song</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot; by &quot;</span> <span class="o">+</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">artist</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoQueue">
<code class="sig-name descname">GetVideoQueue</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetVideoQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns a list of videos, albums and artists for each video in the video queue.
If there are no videos in the queue, an empty list gets returned.
The album or artist can be <code class="docutils literal notranslate"><span class="pre">null</span></code> if there is no associated to the video.</p>
<p>Each entry of the list contains the following information:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>entryid:</strong> A unique ID to identify the entry in the queue (as string because it is a 128 integer that blows JavaScripts mind)</p></li>
<li><p><strong>israndom:</strong> A boolean value set to <code class="docutils literal notranslate"><span class="pre">true</span></code> when the video got added randomly and not explicitly by the user</p></li>
<li><p><strong>video:</strong> The video entry from the database</p></li>
<li><p><strong>album:</strong> The related album entry from the database or <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p></li>
<li><p><strong>artist:</strong> The related artist entry from the database or <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of video, album and artist information for each video in the video queue</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetVideoQueue&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowVideoQueue&quot;</span><span class="p">);</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetVideoQueue&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowVideoQueue&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">entry</span> <span class="k">of</span> <span class="nx">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">video</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot; by &quot;</span> <span class="o">+</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">artist</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="id8">
<code class="sig-name descname">MoveSongInQueue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">entryid</span></em>, <em class="sig-param"><span class="n">afterid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.MoveSongInQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id8" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a direct interface to <a class="reference internal" href="../mdbapi/songqueue.html#mdbapi.songqueue.SongQueue.MoveSong" title="mdbapi.songqueue.SongQueue.MoveSong"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mdbapi.songqueue.SongQueue.MoveSong()</span></code></a>.
It moves a song from one position in the queue to another one.</p>
<p>It is not allowed to move the current playing song (index 0).
When this is tried, nothing happens.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entryid</strong> (<em>str</em>) – Position of the song</p></li>
<li><p><strong>afterid</strong> (<em>str</em>) – The position the song shall be moved to</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Assuming the following queue:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 53%" />
<col style="width: 47%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>entry ID</p></th>
<th class="head"><p>song ID</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1337</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>7357</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>2323</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>4242</p></td>
<td><p>4</p></td>
</tr>
</tbody>
</table>
<p>Then the two calls will be applied.
The first one is invalid, because entry ID <code class="docutils literal notranslate"><span class="pre">&quot;1337&quot;</span></code> addresses the current playing song at the top of the queue.
So that one will be ignored.
The next one moves song 2 to the end of the queue.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;MoveSongInQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">entryid</span><span class="o">:</span><span class="s2">&quot;1337&quot;</span><span class="p">,</span> <span class="nx">afterid</span><span class="o">:</span><span class="s2">&quot;2323&quot;</span><span class="p">});</span>
<span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;MoveSongInQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">entryid</span><span class="o">:</span><span class="s2">&quot;7357&quot;</span><span class="p">,</span> <span class="nx">afterid</span><span class="o">:</span><span class="s2">&quot;4242&quot;</span><span class="p">});</span>
</pre></div>
</div>
<p>So after processing the two calls, the queue looks like this:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 53%" />
<col style="width: 47%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>entry ID</p></th>
<th class="head"><p>song ID</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1337</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>2323</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-even"><td><p>4242</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>7357</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="id9">
<code class="sig-name descname">MoveVideoInQueue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">entryid</span></em>, <em class="sig-param"><span class="n">afterid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.MoveVideoInQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id9" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a direct interface to <a class="reference internal" href="../mdbapi/videoqueue.html#mdbapi.videoqueue.VideoQueue.MoveVideo" title="mdbapi.videoqueue.VideoQueue.MoveVideo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mdbapi.videoqueue.VideoQueue.MoveVideo()</span></code></a>.
It moves a video from one position in the queue to another one.</p>
<p>It is not allowed to move the current playing video (index 0).
When this is tried, nothing happens.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entryid</strong> (<em>str</em>) – Position of the video</p></li>
<li><p><strong>afterid</strong> (<em>str</em>) – The position the video shall be moved to</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="id10">
<code class="sig-name descname">RemoveSongFromQueue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">entryid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.RemoveSongFromQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id10" title="Permalink to this definition">¶</a></dt>
<dd><p>This method removes a song from song queue.
The song gets identified by the entry ID of the queue entry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entryid</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;RemoveSongFromQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">entryid</span><span class="o">:</span><span class="s2">&quot;82390194629402649&quot;</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="id11">
<code class="sig-name descname">RemoveVideoFromQueue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">entryid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.RemoveVideoFromQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id11" title="Permalink to this definition">¶</a></dt>
<dd><p>This method removes a video from the video queue.
The video gets identified by the entry ID of the queue entry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entryid</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;RemoveVideoFromQueue&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">entryid</span><span class="o">:</span><span class="s2">&quot;82390194629402649&quot;</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="tag-related">
<h3>Tag related<a class="headerlink" href="#tag-related" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="id12">
<em class="property">class </em><code class="sig-prename descclassname">lib.ws.mdbwsi.</code><code class="sig-name descname">MusicDBWebSocketInterface</code><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id12" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddGenre">
<code class="sig-name descname">AddGenre</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.AddGenre"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddGenre" title="Permalink to this definition">¶</a></dt>
<dd><p>This method creates a new genre.
If the tag already exists, nothing happens.</p>
<p>After executing this command, <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetTags()</span></code></a> gets executed.
Its return value gets send via broadcast.</p>
<p>If tagging is disabled nothing will be changed.
The broadcast gets send anyway.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – Name of the new genre</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddMoodFlag">
<code class="sig-name descname">AddMoodFlag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">icon</span></em>, <em class="sig-param"><span class="n">color</span></em>, <em class="sig-param"><span class="n">posx</span></em>, <em class="sig-param"><span class="n">posy</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.AddMoodFlag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddMoodFlag" title="Permalink to this definition">¶</a></dt>
<dd><p>This method creates a new Mood Falg.
If the tag already exists, nothing happens.</p>
<p>See <a class="reference internal" href="../lib/musicdb.html#module-lib.db.musicdb" title="lib.db.musicdb"><code class="xref py py-mod docutils literal notranslate"><span class="pre">musicdb</span></code></a> for details about the attributes!</p>
<p>If <em>color</em> is <code class="docutils literal notranslate"><span class="pre">null</span></code>, no color is used for the flag.
This should be the default case, because the mood flags should adopt to the WebUI color scheme.
Otherwise the color must be given in 7-character HTML notation: <code class="docutils literal notranslate"><span class="pre">#RRGGBB</span></code>.</p>
<p>The icon type gets derived from the content of the <em>icon</em> parameter via <code class="xref py py-meth docutils literal notranslate"><span class="pre">AnalyseIcon()</span></code></p>
<p>After executing this command, <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetTags()</span></code></a> gets executed.
Its return value gets send via broadcast.</p>
<p>If tagging is disabled nothing will be changed.
The broadcast gets send anyway.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the new subgenre</p></li>
<li><p><strong>icon</strong> (<em>str</em>) – Icon for that flag</p></li>
<li><p><strong>color</strong> (<em>str</em>) – (optional) HTML Color</p></li>
<li><p><strong>posx</strong> (<em>int</em>) – X-Position in the moods-grid</p></li>
<li><p><strong>posy</strong> (<em>int</em>) – X-Position in the moods-grid</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSubgenre">
<code class="sig-name descname">AddSubgenre</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">parentname</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.AddSubgenre"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AddSubgenre" title="Permalink to this definition">¶</a></dt>
<dd><p>This method creates a new subgenre.
If the tag already exists, nothing happens.</p>
<p>After executing this command, <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetTags()</span></code></a> gets executed.
Its return value gets send via broadcast.</p>
<p>If tagging is disabled nothing will be changed.
The broadcast gets send anyway.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the new subgenre</p></li>
<li><p><strong>parentname</strong> (<em>str</em>) – Name of the main genre</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.DeleteTag">
<code class="sig-name descname">DeleteTag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tagid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.DeleteTag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.DeleteTag" title="Permalink to this definition">¶</a></dt>
<dd><p>This method deletes a tag addressed by its tag ID.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the tag is a Genre, its sub-genres will be deleted as well!</p>
</div>
<p>Before deleting the tag, this tag as well as its child-tags (sub-genre tag) will be removed from all
songs, albums and videos.</p>
<p>After executing this command, <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetTags()</span></code></a> gets executed.
Its return value gets send via broadcast.</p>
<p>If tagging is disabled nothing will be changed.
The broadcast gets send anyway.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the new subgenre</p></li>
<li><p><strong>parentname</strong> (<em>str</em>) – Name of the main genre</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags">
<code class="sig-name descname">GetAlbumTags</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">albumid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetAlbumTags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSongTags()</span></code></a>.
This method returns the tags for an Album.</p>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags">
<code class="sig-name descname">GetSongTags</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">songid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetSongTags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary with the following keys:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>songid:</strong> The same ID as given as argument</p></li>
<li><p><strong>genres:</strong> A list of tags of class <em>Genre</em></p></li>
<li><p><strong>subgenres:</strong> A list of tags of class <em>Subgenre</em></p></li>
<li><p><strong>moods:</strong> A list of tags of class <em>Mood</em></p></li>
</ul>
</div></blockquote>
<p>Each entry of the dict is a list with tags.
Each tag is a dictionary as returned by <a class="reference internal" href="../lib/musicdb.html#lib.db.musicdb.MusicDatabase.GetTargetTags" title="lib.db.musicdb.MusicDatabase.GetTargetTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lib.db.musicdb.MusicDatabase.GetTargetTags()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>songid</strong> (<em>int</em>) – ID of the song for which the tags are requested</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dict of tags sorted by classes</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetSongTags&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowSongTags&quot;</span><span class="p">);</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetSongTags&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowSongTags&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">genres</span><span class="p">,</span> <span class="nx">subgenres</span><span class="p">,</span> <span class="nx">moods</span><span class="p">;</span>
        <span class="nx">genres</span>    <span class="o">=</span> <span class="nx">args</span><span class="p">.</span><span class="nx">genres</span><span class="p">;</span>
        <span class="nx">subgenres</span> <span class="o">=</span> <span class="nx">args</span><span class="p">.</span><span class="nx">subgenres</span><span class="p">;</span>
        <span class="nx">moods</span>     <span class="o">=</span> <span class="nx">args</span><span class="p">.</span><span class="nx">moods</span><span class="p">;</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Tags of the song with the ID &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">songid</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">tag</span> <span class="k">of</span> <span class="nx">genres</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tag</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">tag</span> <span class="k">of</span> <span class="nx">subgenres</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tag</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">tag</span> <span class="k">of</span> <span class="nx">moods</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tag</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTags">
<code class="sig-name descname">GetTags</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetTags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTags" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns all tags that are available, separated by the tag classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary of all classes with lists of all available tags</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetTags&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowTags&quot;</span><span class="p">);</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetTags&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowTags&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">genres</span><span class="p">,</span> <span class="nx">subgenres</span><span class="p">,</span> <span class="nx">moods</span><span class="p">;</span>
        <span class="nx">genres</span>    <span class="o">=</span> <span class="nx">args</span><span class="p">.</span><span class="nx">genres</span><span class="p">;</span>
        <span class="nx">subgenres</span> <span class="o">=</span> <span class="nx">args</span><span class="p">.</span><span class="nx">subgenres</span><span class="p">;</span>
        <span class="nx">moods</span>     <span class="o">=</span> <span class="nx">args</span><span class="p">.</span><span class="nx">moods</span><span class="p">;</span>

        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">tag</span> <span class="k">of</span> <span class="nx">genres</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tag</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">tag</span> <span class="k">of</span> <span class="nx">subgenres</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tag</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">tag</span> <span class="k">of</span> <span class="nx">moods</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tag</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTagsStatistics">
<code class="sig-name descname">GetTagsStatistics</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetTagsStatistics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTagsStatistics" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns the usage statistics as a dictionary with an entry for each tag.
The key is the tag ID.
The value is another dictionary with the following keys:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>tag:</strong> The whole tag entry for the corresponding ID</p></li>
<li><p><strong>songs:</strong> The amount of songs tagged with this tag as integer</p></li>
<li><p><strong>albums:</strong> The amount of albums tagged with this tag as integer</p></li>
<li><p><strong>videos:</strong> The amount of videos tagged with this tag as integer</p></li>
<li><p><strong>children:</strong> Number of child tags as integer</p></li>
</ul>
</div></blockquote>
<p>The level of confidence or if the tag was approved for the song/video/album is not considered.
All set tags are counted.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary with usage-statistics of all tags</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetTagsStatictics&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowTags&quot;</span><span class="p">);</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetTagsStatistics&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowTags&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">entry</span> <span class="k">of</span> <span class="nx">args</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`The tag </span><span class="si">${</span><span class="nx">entry</span><span class="p">.</span><span class="nx">tag</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb"> is assigned to </span><span class="si">${</span><span class="nx">entry</span><span class="p">.</span><span class="nx">songs</span><span class="si">}</span><span class="sb"> songs.`</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoTags">
<code class="sig-name descname">GetVideoTags</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">videoid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetVideoTags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoTags" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSongTags()</span></code></a>.
This method returns the tags for a Video.</p>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.ModifyTag">
<code class="sig-name descname">ModifyTag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tagid</span></em>, <em class="sig-param"><span class="n">attribute</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.ModifyTag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.ModifyTag" title="Permalink to this definition">¶</a></dt>
<dd><p>This method allows to modify most of the attributes of a tag.
The <em>tagid</em> addresses the tag, <em>attribute</em> the attribute.
<em>value</em> is the new attribute set for the tag.</p>
<p>The following attributes are allowed: <code class="docutils literal notranslate"><span class="pre">&quot;name&quot;</span></code> <code class="docutils literal notranslate"><span class="pre">&quot;icon&quot;</span></code> <code class="docutils literal notranslate"><span class="pre">&quot;icontype&quot;</span></code> <code class="docutils literal notranslate"><span class="pre">&quot;color&quot;</span></code> <code class="docutils literal notranslate"><span class="pre">&quot;posx&quot;</span></code> <code class="docutils literal notranslate"><span class="pre">&quot;posy&quot;</span></code>.
See <a class="reference internal" href="../lib/musicdb.html#module-lib.db.musicdb" title="lib.db.musicdb"><code class="xref py py-mod docutils literal notranslate"><span class="pre">musicdb</span></code></a> for details about the attributes!</p>
<p>In case the icon gets modified, the icon-type will be updated automatically via <code class="xref py py-meth docutils literal notranslate"><span class="pre">AnalyseIcon()</span></code></p>
<p>After executing this command, <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetTags()</span></code></a> gets executed.
Its return value gets send via broadcast.</p>
<p>If tagging is disabled nothing will be changed.
The broadcast gets send anyway.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagid</strong> (<em>int</em>) – ID of the tag to modify</p></li>
<li><p><strong>attribute</strong> (<em>str</em>) – The name of the attribute that shall be modified</p></li>
<li><p><strong>newvalue</strong> – The new value. Read the introduction at the top of the document to see what values are possible for a specific attribute</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveAlbumTag">
<code class="sig-name descname">RemoveAlbumTag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">albumid</span></em>, <em class="sig-param"><span class="n">tagid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.RemoveAlbumTag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveAlbumTag" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a tag from an album</p>
<p>If tagging is disabled nothing will be done.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>albumid</strong> (<em>int</em>) – ID of the album</p></li>
<li><p><strong>tagid</strong> (<em>int</em>) – ID of the tag</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;RemoveAlbumTag&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">albumid</span><span class="o">:</span><span class="nx">albumid</span><span class="p">,</span> <span class="nx">tagid</span><span class="o">:</span><span class="nx">tagid</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveSongTag">
<code class="sig-name descname">RemoveSongTag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">songid</span></em>, <em class="sig-param"><span class="n">tagid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.RemoveSongTag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveSongTag" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a tag from a song</p>
<p>If tagging is disabled nothing will be done.</p>
<p>After executing this method, the MusicDB server broadcasts the result of <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSong" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSong"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSong()</span></code></a>. (<code class="docutils literal notranslate"><span class="pre">method</span> <span class="pre">=</span> <span class="pre">&quot;broadcast&quot;,</span> <span class="pre">fncname</span> <span class="pre">=</span> <span class="pre">&quot;GetSong&quot;</span></code>)
So each client gets informed about the changes made.
This is important to update the HUD if the song is currently playing.</p>
<p>After setting the new tag for the song,
the album tags get updated using <a class="reference internal" href="../mdbapi/tags.html#mdbapi.tags.MusicDBTags.DeriveAlbumTags" title="mdbapi.tags.MusicDBTags.DeriveAlbumTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mdbapi.tags.MusicDBTags.DeriveAlbumTags()</span></code></a>.
So when changing a genre or sub genre, then they get suggested as album genre or sub genre</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>songid</strong> (<em>int</em>) – ID of the song</p></li>
<li><p><strong>tagid</strong> (<em>int</em>) – ID of the tag</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;RemoveSongTag&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">songid</span><span class="o">:</span><span class="nx">songid</span><span class="p">,</span> <span class="nx">tagid</span><span class="o">:</span><span class="nx">tagid</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveVideoTag">
<code class="sig-name descname">RemoveVideoTag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">videoid</span></em>, <em class="sig-param"><span class="n">tagid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.RemoveVideoTag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveVideoTag" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a tag from a video.</p>
<p>If tagging is disabled nothing will be done.</p>
<p>After executing this method, the MusicDB server broadcasts the result of <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideo" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetVideo()</span></code></a>. (<code class="docutils literal notranslate"><span class="pre">method</span> <span class="pre">=</span> <span class="pre">&quot;broadcast&quot;,</span> <span class="pre">fncname</span> <span class="pre">=</span> <span class="pre">&quot;GetVideo&quot;</span></code>)
So each client gets informed about the changes made.
This is important to update the HUD if the video is currently playing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>videoid</strong> (<em>int</em>) – ID of the video</p></li>
<li><p><strong>tagid</strong> (<em>int</em>) – ID of the tag</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;RemoveVideoTag&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">videoid</span><span class="o">:</span><span class="nx">videoid</span><span class="p">,</span> <span class="nx">tagid</span><span class="o">:</span><span class="nx">tagid</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetAlbumTag">
<code class="sig-name descname">SetAlbumTag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">albumid</span></em>, <em class="sig-param"><span class="n">tagid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.SetAlbumTag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetAlbumTag" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a tag for an album.
This method sets the approval-level to 1 (Set by User) and confidence to 1.0 for this tag.
So, this method can also be used to approve an AI set tag.</p>
<p>If tagging is disabled nothing will be done.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>albumid</strong> (<em>int</em>) – ID of the album</p></li>
<li><p><strong>tagid</strong> (<em>int</em>) – ID of the tag</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;SetAlbumTag&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">albumid</span><span class="o">:</span><span class="nx">albumid</span><span class="p">,</span> <span class="nx">tagid</span><span class="o">:</span><span class="nx">tagid</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetSongTag">
<code class="sig-name descname">SetSongTag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">songid</span></em>, <em class="sig-param"><span class="n">tagid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.SetSongTag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetSongTag" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a tag for a song.
This method sets the approval-level to 1 (Set by User) and confidence to 1.0 for this tag.
So, this method can also be used to approve an AI set tag.</p>
<p>If tagging is disabled nothing will be done.</p>
<p>After executing this method, the MusicDB server broadcasts the result of <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSong" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSong"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSong()</span></code></a>. (<code class="docutils literal notranslate"><span class="pre">method</span> <span class="pre">=</span> <span class="pre">&quot;broadcast&quot;,</span> <span class="pre">fncname</span> <span class="pre">=</span> <span class="pre">&quot;GetSong&quot;</span></code>)
So each client gets informed about the changes made.
This is important to update the HUD if the song is currently playing.</p>
<p>After setting the new tag for the song,
the album tags get updated using <a class="reference internal" href="../mdbapi/tags.html#mdbapi.tags.MusicDBTags.DeriveAlbumTags" title="mdbapi.tags.MusicDBTags.DeriveAlbumTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mdbapi.tags.MusicDBTags.DeriveAlbumTags()</span></code></a>.
So when changing a genre or sub genre, then they get suggested as album genre or sub genre</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>songid</strong> (<em>int</em>) – ID of the song</p></li>
<li><p><strong>tagid</strong> (<em>int</em>) – ID of the tag</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;SetSongTag&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">songid</span><span class="o">:</span><span class="nx">songid</span><span class="p">,</span> <span class="nx">tagid</span><span class="o">:</span><span class="nx">tagid</span><span class="p">});</span>
</pre></div>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;SetSongTag&quot;</span><span class="p">,</span> <span class="s2">&quot;UpdateTagInput&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">songid</span><span class="o">:</span><span class="nx">songid</span><span class="p">,</span> <span class="nx">tagid</span><span class="o">:</span><span class="nx">tagid</span><span class="p">},</span> <span class="p">{</span><span class="nx">taginputid</span><span class="o">:</span><span class="nx">taginputid</span><span class="p">});</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetSong&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;UpdateTagInput&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Updating &quot;</span> <span class="o">+</span> <span class="nx">pass</span><span class="p">.</span><span class="nx">taginputid</span> <span class="o">+</span> <span class="s2">&quot; for song &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">song</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="nx">Taginput_Update</span><span class="p">(</span><span class="nx">pass</span><span class="p">.</span><span class="nx">taginputid</span><span class="p">,</span> <span class="nx">args</span><span class="p">.</span><span class="nx">tags</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetVideoTag">
<code class="sig-name descname">SetVideoTag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">videoid</span></em>, <em class="sig-param"><span class="n">tagid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.SetVideoTag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetVideoTag" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a tag for a video.
This method sets the approval-level to 1 (Set by User) and confidence to 1.0 for this tag.
So, this method can also be used to approve an AI set tag.</p>
<p>If tagging is disabled nothing will be done.</p>
<p>After executing this method, the MusicDB server broadcasts the result of <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideo" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetVideo()</span></code></a>. (<code class="docutils literal notranslate"><span class="pre">method</span> <span class="pre">=</span> <span class="pre">&quot;broadcast&quot;,</span> <span class="pre">fncname</span> <span class="pre">=</span> <span class="pre">&quot;GetVideo&quot;</span></code>)
So each client gets informed about the changes made.
This is important to update the HUD if the video is currently playing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>videoid</strong> (<em>int</em>) – ID of the video</p></li>
<li><p><strong>tagid</strong> (<em>int</em>) – ID of the tag</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;SetVideoTag&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">videoid</span><span class="o">:</span><span class="nx">videoid</span><span class="p">,</span> <span class="nx">tagid</span><span class="o">:</span><span class="nx">tagid</span><span class="p">});</span>
</pre></div>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;SetVideoTag&quot;</span><span class="p">,</span> <span class="s2">&quot;UpdateTagInput&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">videoid</span><span class="o">:</span><span class="nx">videoid</span><span class="p">,</span> <span class="nx">tagid</span><span class="o">:</span><span class="nx">tagid</span><span class="p">},</span> <span class="p">{</span><span class="nx">taginputid</span><span class="o">:</span><span class="nx">taginputid</span><span class="p">});</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetVideo&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;UpdateTagInput&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Updating &quot;</span> <span class="o">+</span> <span class="nx">pass</span><span class="p">.</span><span class="nx">taginputid</span> <span class="o">+</span> <span class="s2">&quot; for video &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">video</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="nx">Taginput_Update</span><span class="p">(</span><span class="nx">pass</span><span class="p">.</span><span class="nx">taginputid</span><span class="p">,</span> <span class="nx">args</span><span class="p">.</span><span class="nx">tags</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="lyrics">
<h3>Lyrics<a class="headerlink" href="#lyrics" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="id13">
<em class="property">class </em><code class="sig-prename descclassname">lib.ws.mdbwsi.</code><code class="sig-name descname">MusicDBWebSocketInterface</code><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id13" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetLyricsCrawlerCache">
<code class="sig-name descname">GetLyricsCrawlerCache</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">songid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetLyricsCrawlerCache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetLyricsCrawlerCache" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns all cached lyrics for a song.</p>
<p>A dictionary with two entries gets returned, the <em>songid</em> is the same the argument is.
The second key is <em>lyricscache</em> that holds the values from the lyrics cache.
It is a list of dictionaries representing a lyric cache database entry. (See <a class="reference internal" href="../mdbapi/lycra.html"><span class="doc">LyCra - Lyrics Crawler</span></a> for details)
If there are no cached lyrics, the <em>lyricscache</em> entry is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>songid</strong> (<em>int</em>) – ID of the song that lyrics cache shall be returned</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The songid and a list of cached lyrics.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongLyrics">
<code class="sig-name descname">GetSongLyrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">songid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetSongLyrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongLyrics" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns the lyrics of a song.</p>
<p>The returned dictionary contains the same song ID given as argument to this method,
as well as the corresponding song, album and artist entry of that song.
Additional the requested lyrics and the lyricsstate explicitly.
The specification how lyrics are formatted and which states are available can be found in the <a class="reference internal" href="../lib/musicdb.html#module-lib.db.musicdb" title="lib.db.musicdb"><code class="xref py py-mod docutils literal notranslate"><span class="pre">musicdb</span></code></a> documentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>songid</strong> (<em>int</em>) – ID so a song</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The lyrics of the song and additional information</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetSongLyrics&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowLyrics&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">songid</span><span class="o">:</span><span class="nx">songid</span><span class="p">});</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetSongLyrics&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowLyrics&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Song lyrics to the one with ID &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">songid</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot; … from the album &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">album</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">lyrics</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;The lyrics state is &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">lyricsstate</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.RunLyricsCrawler">
<code class="sig-name descname">RunLyricsCrawler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">songid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.RunLyricsCrawler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.RunLyricsCrawler" title="Permalink to this definition">¶</a></dt>
<dd><p>This method starts the process of crawling for lyrics. (See <a class="reference internal" href="../mdbapi/lycra.html"><span class="doc">LyCra - Lyrics Crawler</span></a> for details)</p>
<p>After all available crawler run, the method returns the current lyrics cache.
This is identical to <code class="xref py py-meth docutils literal notranslate"><span class="pre">GetLyricsCrawlerCache()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>songid</strong> (<em>int</em>) – ID of the song that lyrics cache shall be returned</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The songid and a list of cached lyrics.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetSongLyrics">
<code class="sig-name descname">SetSongLyrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">songid</span></em>, <em class="sig-param"><span class="n">lyrics</span></em>, <em class="sig-param"><span class="n">state</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.SetSongLyrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetSongLyrics" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is a direct interface to <a class="reference internal" href="../lib/musicdb.html#lib.db.musicdb.MusicDatabase.SetLyrics" title="lib.db.musicdb.MusicDatabase.SetLyrics"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetLyrics()</span></code></a>.
The specification how lyrics are formatted and which states are available can be found in the <a class="reference internal" href="../lib/musicdb.html#module-lib.db.musicdb" title="lib.db.musicdb"><code class="xref py py-mod docutils literal notranslate"><span class="pre">musicdb</span></code></a> documentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>songid</strong> (<em>int</em>) – ID of the song the lyrics belong to</p></li>
<li><p><strong>lyrics</strong> (<em>str</em>) – The lyrics to store</p></li>
<li><p><strong>lyricsstate</strong> (<em>int</em>) – The new state of the lyrics</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="uploading">
<h3>Uploading<a class="headerlink" href="#uploading" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="id14">
<em class="property">class </em><code class="sig-prename descclassname">lib.ws.mdbwsi.</code><code class="sig-name descname">MusicDBWebSocketInterface</code><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id14" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.AnnotateUpload">
<code class="sig-name descname">AnnotateUpload</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uploadid</span></em>, <em class="sig-param"><span class="n">annotations</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.AnnotateUpload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.AnnotateUpload" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds some information to an uploaded file that can help during the import process.
For example a video or album name can be annotated so that after the upload was complete,
the file already has the correct name for importing.</p>
<p>Annotation is an object that can have multiple keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uploadid</strong> (<em>str</em>) – Unique ID to identify the upload task</p></li>
<li><p><strong>annotations</strong> (<em>dict</em>) – A dictionary with elements to annotate to an upload</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>Nothing</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetUploads">
<code class="sig-name descname">GetUploads</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetUploads"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetUploads" title="Permalink to this definition">¶</a></dt>
<dd><p>This method gets all tasks from the <a class="reference internal" href="../mdbapi/uploadmanager.html#module-mdbapi.uploadmanager" title="mdbapi.uploadmanager"><code class="xref py py-mod docutils literal notranslate"><span class="pre">uploadmanager</span></code></a>.
This list then gets split into three lists:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>videos</em>: A list of all available video uploads</p></li>
<li><p><em>albums</em>: Album uploads</p></li>
<li><p><em>artworks</em>: Artwork uploads</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list with information about all yet unprocessed uploads</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetUploads&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowUploads&quot;</span><span class="p">);</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">albums</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">videos</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">artworks</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.InitiateUpload">
<code class="sig-name descname">InitiateUpload</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uploadid</span></em>, <em class="sig-param"><span class="n">mimetype</span></em>, <em class="sig-param"><span class="n">contenttype</span></em>, <em class="sig-param"><span class="n">filesize</span></em>, <em class="sig-param"><span class="n">checksum</span></em>, <em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.InitiateUpload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.InitiateUpload" title="Permalink to this definition">¶</a></dt>
<dd><p>This method uses <a class="reference internal" href="../mdbapi/uploadmanager.html#mdbapi.uploadmanager.UploadManager.InitiateUpload" title="mdbapi.uploadmanager.UploadManager.InitiateUpload"><code class="xref py py-meth docutils literal notranslate"><span class="pre">InitiateUpload()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uploadid</strong> (<em>str</em>) – Unique ID to identify the upload task</p></li>
<li><p><strong>mimetype</strong> (<em>str</em>) – MIME-Type of the file (example: <code class="docutils literal notranslate"><span class="pre">&quot;image/png&quot;</span></code>)</p></li>
<li><p><strong>contenttype</strong> (<em>str</em>) – Type of the content: (<code class="docutils literal notranslate"><span class="pre">&quot;video&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;album&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;artwork&quot;</span></code>)</p></li>
<li><p><strong>filesize</strong> (<em>int</em>) – Size of the complete file in bytes</p></li>
<li><p><strong>checksum</strong> (<em>str</em>) – SHA-1 check sum of the source file</p></li>
<li><p><strong>sourcefilename</strong> (<em>str</em>) – File name (example: <code class="docutils literal notranslate"><span class="pre">&quot;test.png&quot;</span></code>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>Nothing</em></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// TODO</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.IntegrateUpload">
<code class="sig-name descname">IntegrateUpload</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uploadid</span></em>, <em class="sig-param"><span class="n">triggerimport</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.IntegrateUpload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.IntegrateUpload" title="Permalink to this definition">¶</a></dt>
<dd><p>This method integrated the uploaded files into the music directory.
The whole file tree will be created following the MusicDB naming scheme.</p>
<p>The upload task must be in <code class="docutils literal notranslate"><span class="pre">preprocesses</span></code> state. If not, nothing happens.</p>
<p>When <em>triggerimport</em> is <code class="docutils literal notranslate"><span class="pre">true</span></code>, the upload manager start importing the music.
This happens asynchronously inside the Upload Manager Thread.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uploadid</strong> (<em>str</em>) – ID to identify the upload</p></li>
<li><p><strong>triggerimport</strong> (<em>boolean</em>) – When <code class="docutils literal notranslate"><span class="pre">true</span></code>, the upload manager also imports the music</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveUpload">
<code class="sig-name descname">RemoveUpload</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uploadid</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.RemoveUpload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.RemoveUpload" title="Permalink to this definition">¶</a></dt>
<dd><p>This method triggers removing a specific upload.
This includes the uploaded file as well as the upload task information and annotations.</p>
<p>The upload task can be in any state.
When the remove-operation is triggered, its state gets changed to <code class="docutils literal notranslate"><span class="pre">&quot;remove&quot;</span></code>.</p>
<p>See <a class="reference internal" href="../mdbapi/uploadmanager.html#mdbapi.uploadmanager.UploadManager.RequestRemoveUpload" title="mdbapi.uploadmanager.UploadManager.RequestRemoveUpload"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RequestRemoveUpload()</span></code></a> for details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>uploadid</strong> (<em>str</em>) – ID to identify the upload</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.UploadChunk">
<code class="sig-name descname">UploadChunk</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uploadid</span></em>, <em class="sig-param"><span class="n">chunkdata</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.UploadChunk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.UploadChunk" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uploadid</strong> (<em>str</em>) – Unique ID to identify the upload task</p></li>
<li><p><strong>chunkdata</strong> (<em>str</em>) – Hex-string of the chunk</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="other">
<h3>Other<a class="headerlink" href="#other" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="id15">
<em class="property">class </em><code class="sig-prename descclassname">lib.ws.mdbwsi.</code><code class="sig-name descname">MusicDBWebSocketInterface</code><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id15" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.Find">
<code class="sig-name descname">Find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">searchstring</span></em>, <em class="sig-param"><span class="n">limit</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.Find"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.Find" title="Permalink to this definition">¶</a></dt>
<dd><p>This method starts a search for <em>searchstring</em> on songnames, albumnames and artistnames.
The returned value is a dictionary with the following entries:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt><strong>songs:</strong> A list of songs, each entry is a dictionary with the following information:</dt><dd><ul>
<li><p><strong>song:</strong> The song entry from the database</p></li>
<li><p><strong>album:</strong> The related album entry from the database</p></li>
<li><p><strong>artist:</strong> The related artist entry from the database</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>albums:</strong> A list of albums, each entry is a dictionary with the following information:</dt><dd><ul>
<li><p><strong>album:</strong> The related album entry from the database</p></li>
<li><p><strong>artist:</strong> The related artist entry from the database</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>artists:</strong> A list of artists, each entry is a dictionary with the following information:</dt><dd><ul>
<li><p><strong>artist:</strong> The related artist entry from the database</p></li>
<li><p><strong>albums:</strong> A list of all albums by this artist, ordered by release year</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>The search does not look for exact matching.
It looks for most likeliness.
So, typos or all lowercase input are no problem.</p>
<p>The list of songs will not contain any hated or disabled songs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>searchstring</strong> (<em>str</em>) – The string to search for</p></li>
<li><p><strong>limit</strong> (<em>int</em>) – max number entries that will be returned for each category</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary with the search-results</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;Find&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowResults&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">searchstring</span><span class="o">:</span><span class="s2">&quot;cake&quot;</span><span class="p">,</span> <span class="nx">limit</span><span class="o">:</span><span class="mf">5</span><span class="p">});</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;Find&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowResults&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">entry</span> <span class="k">of</span> <span class="nx">args</span><span class="p">.</span><span class="nx">songs</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">entry</span> <span class="k">of</span> <span class="nx">args</span><span class="p">.</span><span class="nx">albums</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">entry</span> <span class="k">of</span> <span class="nx">args</span><span class="p">.</span><span class="nx">artists</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.FindNewContent">
<code class="sig-name descname">FindNewContent</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.FindNewContent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.FindNewContent" title="Permalink to this definition">¶</a></dt>
<dd><p>This method uses <a class="reference internal" href="../mdbapi/database.html#mdbapi.database.MusicDBDatabase.FindNewPaths" title="mdbapi.database.MusicDBDatabase.FindNewPaths"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FindNewPaths()</span></code></a> to get all new albums and videos.</p>
<p>The lists of albums and videos contain objects with the following keys:</p>
<ul class="simple">
<li><dl class="simple">
<dt>For Videos:</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;path&quot;</span></code>: Path to the new video</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;artistname&quot;</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;videoname&quot;</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;release&quot;</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;extension&quot;</span></code>:</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>For Albums:</dt><dd><ul>
<li><p>???</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">&quot;albums&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;videos&quot;</span></code>. Each list entry is another object with the key listed in the description.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>A dict with two listst</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;FindNewContent&quot;</span><span class="p">,</span> <span class="s2">&quot;ListContent&quot;</span><span class="p">);</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;FindNewContent&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ListContent&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">albums</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">videos</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAudioStreamState">
<code class="sig-name descname">GetAudioStreamState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetAudioStreamState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAudioStreamState" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns the state of the Streaming Thread. (See <a class="reference internal" href="../mdbapi/audiostream.html"><span class="doc">Audio Streaming Server</span></a>)</p>
<p>The state is a dictionary that has always the following information:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>isconnected:</strong> <code class="docutils literal notranslate"><span class="pre">True</span></code> if MusicDB is connected to Icecast, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>isplaying:</strong> <code class="docutils literal notranslate"><span class="pre">True</span></code> if the Streaming Thread is in <em>playing</em>-mode, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>hasqueue:</strong> <code class="docutils literal notranslate"><span class="pre">True</span></code> when there is at least one song in the queue. When <code class="docutils literal notranslate"><span class="pre">False</span></code>, the following song information are <em>not</em> included!</p></li>
</ul>
</div></blockquote>
<p>In case there is a at least one song in the queue, this current streamed song gets returned with the following information:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>song:</strong> The song entry from the database for the song that is currently playing</p></li>
<li><p><strong>album:</strong> The related album entry from the database</p></li>
<li><p><strong>artist:</strong> The related artist entry from the database</p></li>
<li><p><strong>songtags:</strong> a list of tags as returned by <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetSongTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSongTags()</span></code></a></p></li>
<li><p><strong>albumtags:</strong> a list of tags as returned by <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetAlbumTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetAlbumTags()</span></code></a></p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The current state of the streaming thread</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetAudioStreamState&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowStreamState&quot;</span><span class="p">);</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetAudioStreamState&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowStreamtate&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">isconnected</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Connection to Icecast established&quot;</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">hasqueue</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Current playing song: &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">song</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetMDBState">
<code class="sig-name descname">GetMDBState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetMDBState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetMDBState" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns the current global state of the MusicDB WebUIs</p>
<p>Currently, the only state existing is the list of selected genres.</p>
<p>The state is a dictionary with the following information:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>albumfilter:</strong> a list of tag-names of class Genre</p></li>
<li><dl class="simple">
<dt><strong>MusicDB:</strong></dt><dd><ul>
<li><p><em>uimode</em>: Defines if UI is in <code class="docutils literal notranslate"><span class="pre">&quot;audio&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;video&quot;</span></code> mode</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>audiostream</strong></dt><dd><ul>
<li><p><strong>isconnected:</strong> <code class="docutils literal notranslate"><span class="pre">True</span></code> if MusicDB is connected to Icecast, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>isplaying:</strong> <code class="docutils literal notranslate"><span class="pre">True</span></code> if the Streaming Thread is in <em>playing</em>-mode, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>currentsong:</strong> The song entry from the database for the song that is currently playing or <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>videostream</strong></dt><dd><ul>
<li><p><strong>isstreaming:</strong> <code class="docutils literal notranslate"><span class="pre">True</span></code> if MusicDB manages the video stream</p></li>
<li><p><strong>isplaying:</strong> <code class="docutils literal notranslate"><span class="pre">True</span></code> if the Streaming Thread is in <em>playing</em>-mode, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>currentvideo:</strong> The video entry from the database for the video that is currently playing or <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Current global MusicDB WebUI state</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetMDBState&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowMDBState&quot;</span><span class="p">);</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetMDBState&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowMDBState&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">MusicDB</span><span class="p">.</span><span class="nx">uimode</span><span class="p">);</span>

        <span class="kd">let</span> <span class="nx">activetags</span><span class="p">;</span>
        <span class="nx">activetags</span> <span class="o">=</span> <span class="nx">args</span><span class="p">.</span><span class="nx">albumfilter</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">genrename</span> <span class="k">of</span> <span class="nx">activetags</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">genrename</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTables">
<code class="sig-name descname">GetTables</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tablenames</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetTables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetTables" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary that contains for each requested table a key.
Behind this key is a list of dictionaries representing the rows of the requested table.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">tablenames</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, the result is an empty dictionary.</p>
<p>The following list shows all valid names and links to the database calls that returned lists will be returned by this method.:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;songs&quot;</span></code>: <a class="reference internal" href="../lib/musicdb.html#lib.db.musicdb.MusicDatabase.GetAllSongs" title="lib.db.musicdb.MusicDatabase.GetAllSongs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lib.db.musicdb.MusicDatabase.GetAllSongs()</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;albums&quot;</span></code>: <a class="reference internal" href="../lib/musicdb.html#lib.db.musicdb.MusicDatabase.GetAllAlbums" title="lib.db.musicdb.MusicDatabase.GetAllAlbums"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lib.db.musicdb.MusicDatabase.GetAllAlbums()</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;artists&quot;</span></code>: <a class="reference internal" href="../lib/musicdb.html#lib.db.musicdb.MusicDatabase.GetAllArtists" title="lib.db.musicdb.MusicDatabase.GetAllArtists"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lib.db.musicdb.MusicDatabase.GetAllArtists()</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;tags&quot;</span></code>: <a class="reference internal" href="../lib/musicdb.html#lib.db.musicdb.MusicDatabase.GetAllTags" title="lib.db.musicdb.MusicDatabase.GetAllTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lib.db.musicdb.MusicDatabase.GetAllTags()</span></code></a></p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tablenames</strong> (<em>list of strings</em>) – A list of table names.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dict of lists of database entries</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetTables&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowTables&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">position</span><span class="o">:</span><span class="p">[</span><span class="s2">&quot;songs&quot;</span><span class="p">,</span> <span class="s2">&quot;albums&quot;</span><span class="p">]});</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetTables&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowTables&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Tags of the song with the ID &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">songid</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">song</span> <span class="k">of</span> <span class="nx">args</span><span class="p">.</span><span class="nx">songs</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">song</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">album</span> <span class="k">of</span> <span class="nx">args</span><span class="p">.</span><span class="nx">albumss</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">album</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoStreamState">
<code class="sig-name descname">GetVideoStreamState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.GetVideoStreamState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoStreamState" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns the state of the Video Streaming Thread. (See <a class="reference internal" href="../mdbapi/videostream.html"><span class="doc">Video Streaming Server</span></a>)</p>
<p>The state is a dictionary that has always the following information:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>isstreaming:</strong> <code class="docutils literal notranslate"><span class="pre">True</span></code> if MusicDB manages the video stream</p></li>
<li><p><strong>isplaying:</strong> <code class="docutils literal notranslate"><span class="pre">True</span></code> if the Streaming Thread is in <em>playing</em>-mode, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>hasqueue:</strong> <code class="docutils literal notranslate"><span class="pre">True</span></code> when there is at least one song in the queue. When <code class="docutils literal notranslate"><span class="pre">False</span></code>, the following song information are <em>not</em> included!</p></li>
<li><p><strong>currententry:</strong> (string) UUID of the current entry in the queue - the video that gets streamed, or <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p></li>
</ul>
</div></blockquote>
<p>In case there is a at least one song in the queue, this current streamed song gets returned with the following information:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>video:</strong> The video entry from the database for the video that is currently playing</p></li>
<li><p><strong>artist:</strong> The artist entry from the database related to the video</p></li>
<li><p><strong>videotags:</strong> a list of tags as returned by <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoTags" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetVideoTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetVideoTags()</span></code></a></p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The current state of the streaming thread</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;GetVideoStreamState&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowStreamState&quot;</span><span class="p">);</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;GetVideoStreamState&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowStreamtate&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">hasqueue</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Current playing video: &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">video</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.LoadWebUIConfiguration">
<code class="sig-name descname">LoadWebUIConfiguration</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.LoadWebUIConfiguration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.LoadWebUIConfiguration" title="Permalink to this definition">¶</a></dt>
<dd><p>This method loads the configuration for the WebUI from the MusicDB data directory.</p>
<p>The configurations are described at <a class="reference internal" href="../lib/config.html#module-lib.cfg.webui" title="lib.cfg.webui"><code class="xref py py-mod docutils literal notranslate"><span class="pre">webui</span></code></a></p>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Request</span><span class="p">(</span><span class="s2">&quot;LoadWebUIConfiguration&quot;</span><span class="p">,</span> <span class="s2">&quot;ShowConfig&quot;</span><span class="p">);</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;LoadWebUIConfiguration&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;ShowConfig&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Video mode is &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">WebUI</span><span class="p">.</span><span class="nx">videomode</span><span class="p">);</span> <span class="c1">// &quot;enabled&quot; or &quot;disabled&quot;</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Lyrics are &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">WebUI</span><span class="p">.</span><span class="nx">lyrics</span><span class="p">);</span>       <span class="c1">// &quot;enabled&quot; or &quot;disabled&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary with all configurations</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="id16">
<code class="sig-name descname">PlayNextSong</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.PlayNextSong"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id16" title="Permalink to this definition">¶</a></dt>
<dd><p>This method skips the current playing song.
If there is no song that can be skipped, the Song Queue or Streaming Thread will handle this properly.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;PlayNextSong&quot;</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="id17">
<code class="sig-name descname">PlayNextVideo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.PlayNextVideo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id17" title="Permalink to this definition">¶</a></dt>
<dd><p>This method skips the current playing video.
If there is no video that can be skipped, the Video Queue or Streaming Thread will handle this properly.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;PlayNextVideo&quot;</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.SaveWebUIConfiguration">
<code class="sig-name descname">SaveWebUIConfiguration</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.SaveWebUIConfiguration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SaveWebUIConfiguration" title="Permalink to this definition">¶</a></dt>
<dd><p>This method saves the whole configuration back into the MusicDB data directory.
The argument to this method must be a dict with the whole configuration as returned by <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.LoadWebUIConfiguration" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.LoadWebUIConfiguration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">LoadWebUIConfiguration()</span></code></a></p>
<p>The configurations are described at <a class="reference internal" href="../lib/config.html#module-lib.cfg.webui" title="lib.cfg.webui"><code class="xref py py-mod docutils literal notranslate"><span class="pre">webui</span></code></a></p>
<p>This function should be called using the <code class="docutils literal notranslate"><span class="pre">MusicDB_Broadcast</span></code> method to allow propagating the changes
to other connected clients.
When using the request method the new configuration gets returned similar to <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.LoadWebUIConfiguration" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.LoadWebUIConfiguration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">LoadWebUIConfiguration()</span></code></a>.</p>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">webuiconfig</span><span class="p">.</span><span class="nx">WebUI</span><span class="p">.</span><span class="nx">videomode</span> <span class="o">=</span> <span class="s2">&quot;enabled&quot;</span><span class="p">;</span>
<span class="nx">MusicDB_Broadcast</span><span class="p">(</span><span class="s2">&quot;SaveWebUIConfiguration&quot;</span><span class="p">,</span> <span class="s2">&quot;UpdateConfig&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">config</span><span class="o">:</span> <span class="nx">webuiconfig</span><span class="p">});</span>

<span class="c1">// …</span>

<span class="kd">function</span> <span class="nx">onMusicDBMessage</span><span class="p">(</span><span class="nx">fnc</span><span class="p">,</span> <span class="nx">sig</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">fnc</span> <span class="o">==</span> <span class="s2">&quot;SaveWebUIConfiguration&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">sig</span> <span class="o">==</span> <span class="s2">&quot;UpdateConfig&quot;</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Someone changed the configuration:&quot;</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Video mode is &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">WebUI</span><span class="p">.</span><span class="nx">videomode</span><span class="p">);</span> <span class="c1">// &quot;enabled&quot; or &quot;disabled&quot;</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Lyrics are &quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">.</span><span class="nx">WebUI</span><span class="p">.</span><span class="nx">lyrics</span><span class="p">);</span>       <span class="c1">// &quot;enabled&quot; or &quot;disabled&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary with all configurations</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetAudioStreamState">
<code class="sig-name descname">SetAudioStreamState</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.SetAudioStreamState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetAudioStreamState" title="Permalink to this definition">¶</a></dt>
<dd><p>This method can be used to set the  <em>playing</em>-state of the audio stream (see <a class="reference internal" href="../mdbapi/audiostream.html"><span class="doc">Audio Streaming Server</span></a>)</p>
<p>The following arguments are possible:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;play&quot;</span></code>: Set state to <em>playing</em>. If there are songs in the queue, MusicDB starts streaming.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;pause&quot;</span></code>: Set state to <em>pause</em>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;playpause&quot;</span></code>: Toggle between <em>playing</em> and <em>pause</em></p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> (<em>str</em>) – New playing-state for the audio streaming thread. <em>state</em> must be one of the following strings: <code class="docutils literal notranslate"><span class="pre">&quot;playpause&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;play&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;pause&quot;</span></code>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;SetAudioStreamState&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">state</span><span class="o">:</span><span class="s2">&quot;playpause&quot;</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetMDBState">
<code class="sig-name descname">SetMDBState</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">category</span></em>, <em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.SetMDBState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetMDBState" title="Permalink to this definition">¶</a></dt>
<dd><p>This method sets the global state of MDB clients</p>
<p>If the state is not available in the global state settings, it will be created.</p>
<p>When the <em>category</em> is <code class="docutils literal notranslate"><span class="pre">&quot;albumfilter&quot;</span></code>,
then <em>name</em> must be a Genre-Name and <em>value</em> is <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>.
If a genre gets set to true, all albums for that genre are included in the list of returned albums by methods that use the filter.</p>
<p>After executing this method, the MusicDB server broadcasts the result of <a class="reference internal" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.GetMDBState" title="lib.ws.mdbwsi.MusicDBWebSocketInterface.GetMDBState"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetMDBState()</span></code></a>. (<code class="docutils literal notranslate"><span class="pre">method</span> <span class="pre">=</span> <span class="pre">&quot;broadcast&quot;,</span> <span class="pre">fncname</span> <span class="pre">=</span> <span class="pre">&quot;GetMDBState&quot;</span></code>)
So each client gets informed about the new state.</p>
<p>The category must be <code class="docutils literal notranslate"><span class="pre">&quot;albumfilter&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;MusicDB&quot;</span></code> with name <code class="docutils literal notranslate"><span class="pre">&quot;uimode&quot;</span></code>!
To set the album filter, <a class="reference internal" href="../lib/config.html#lib.cfg.config.Config.Set" title="lib.cfg.config.Config.Set"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Set()</span></code></a> is used.
For setting the UI mode, <a class="reference internal" href="../lib/config.html#lib.cfg.mdbstate.MDBState.SetUIMode" title="lib.cfg.mdbstate.MDBState.SetUIMode"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetUIMode()</span></code></a> is called. Details of valid modes are listed there as well.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>category</strong> (<em>str</em>) – Category of the state</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name of the sate</p></li>
<li><p><strong>value</strong> – Value of the state</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;SetMDBState&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">category</span><span class="o">:</span><span class="s2">&quot;albumfilter&quot;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s2">&quot;Metal&quot;</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span><span class="kc">true</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.ws.mdbwsi.MusicDBWebSocketInterface.SetVideoStreamState">
<code class="sig-name descname">SetVideoStreamState</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/ws/mdbwsi.html#MusicDBWebSocketInterface.SetVideoStreamState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.ws.mdbwsi.MusicDBWebSocketInterface.SetVideoStreamState" title="Permalink to this definition">¶</a></dt>
<dd><p>This method can be used to set the <em>streaming</em>-state of the video stream (see <a class="reference internal" href="../mdbapi/videostream.html"><span class="doc">Video Streaming Server</span></a>)</p>
<p>The following arguments are possible:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;play&quot;</span></code>: Set state to <em>playing</em>. If there are songs in the queue, MusicDB starts streaming.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;pause&quot;</span></code>: Set state to <em>pause</em>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;playpause&quot;</span></code>: Toggle between <em>playing</em> and <em>pause</em></p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> (<em>str</em>) – New streaming-state for the video streaming thread. <em>state</em> must be one of the following strings: <code class="docutils literal notranslate"><span class="pre">&quot;playpause&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;play&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;pause&quot;</span></code>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MusicDB_Call</span><span class="p">(</span><span class="s2">&quot;SetVideoStreamState&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">state</span><span class="o">:</span><span class="s2">&quot;playpause&quot;</span><span class="p">});</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018,2019,2020,2021 Ralf Stemmer.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'7.0.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>