

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>MusicDatabase &mdash; MusicDB 7.1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="MusicDB 7.1.0 documentation" href="../index.html"/>
        <link rel="next" title="NamedPipe" href="namedpipe.html"/>
        <link rel="prev" title="MP3 Transcoder" href="mp3transcoder.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> MusicDB
          

          
          </a>

          
            
            
              <div class="version">
                7.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../basics/comparison.html">Comparison to Other Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../basics/comparison.html#introducing-other-tools">Introducing other tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/comparison.html#metrics">Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/comparison.html#comparison">Comparison</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/comparison.html#conclusion">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../basics/concept.html">Philosophy of MusicDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basics/config.html">MusicDB Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../basics/config.html#meta">meta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/config.html#server">server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/config.html#websocket">websocket</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/config.html#tls">TLS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/config.html#database">database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/config.html#music">music</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/config.html#artwork">artwork</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/config.html#videoframes">videoframes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/config.html#uploads">uploads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/config.html#extern">extern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/config.html#tracker">tracker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/config.html#lycra">lycra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/config.html#icecast">Icecast</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/config.html#randy">Randy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/config.html#log">log</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/config.html#debug">debug</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../basics/definitions.html">Definitions in Context of MusicDB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../basics/definitions.html#music-songs-and-videos">Music, Songs and Videos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/definitions.html#artwork-thumbnail-frame-and-preview">Artwork, Thumbnail, Frame and Preview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/definitions.html#flags-vs-tags">Flags vs. Tags</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/definitions.html#music-properties-statistics">Music Properties &amp; Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/definitions.html#mdbstate-vs-streamstate">MDBState vs. StreamState</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../basics/logging.html">Handling log-files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basics/mods.html">MusicDB Commandline Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../basics/mods.html#loading-of-modules">Loading of Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/mods.html#creation-of-new-modules">Creation of new Modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../basics/overview.html">Overview of MusicDB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../basics/overview.html#music-information-purple">Music Information (Purple)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/overview.html#musicdb-data-blue">MusicDB Data (Blue)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../basics/overview.html#music-database">Music Database</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/overview.html#artwork-cache">Artwork Cache</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/overview.html#musicdb-data-configuration">MusicDB Data &amp; Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../basics/overview.html#musicdb-components-green">MusicDB Components (Green)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../basics/overview.html#command-line-modules">Command-Line Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/overview.html#musicdb-webui">MusicDB WebUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/overview.html#musicdb-server">MusicDB Server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../basics/overview.html#external-servers-black">External Servers (Black)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../basics/overview.html#http-server">HTTP Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/overview.html#icecast-server">Icecast Server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../basics/overview.html#consuming-music-orange">Consuming Music (Orange)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../basics/streaming.html">MusicDB Stream</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../basics/streaming.html#general-data-flow">General Data Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/streaming.html#stream-implementation">Stream Implementation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../basics/testvm.html">MusicDB Test VMs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../basics/testvm.html#qemu-installation">qemu Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../basics/testvm.html#basic-setup">Basic Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/testvm.html#disk-images">Disk Images</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../basics/testvm.html#system-setup">System Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../basics/testvm.html#installing-updating-musicdb-test-environment">Installing/Updating MusicDB Test Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/testvm.html#create-dummy-files">Create Dummy Files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../basics/testvm.html#test-systems">Test Systems</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../basics/testvm.html#debian">Debian</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/testvm.html#raspian">Raspian</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/testvm.html#arch-linux">Arch Linux</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../basics/webapi.html">MusicDB Websocket API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../basics/webapi.html#communication">Communication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../basics/webapi.html#packet-format">Packet format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/webapi.html#methods">Methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../basics/webapi.html#client-side-interface">Client side interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../basics/webapi.html#callback-functions">Callback functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/webapi.html#send-data-to-the-server">Send data to the server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../basics/webapi.html#events">Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/webapi.html#module-lib.ws.mdbwsi">Server side API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../basics/webapi.html#available-methods">Available Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/webapi.html#artists">Artists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/webapi.html#albums">Albums</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/webapi.html#songs">Songs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/webapi.html#videos">Videos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/webapi.html#queue">Queue</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/webapi.html#tag-related">Tag related</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/webapi.html#lyrics">Lyrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/webapi.html#uploading">Uploading</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/webapi.html#other">Other</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../basics/workflow.html">Workflow for development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../basics/workflow.html#working-on-code">Working on code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../basics/workflow.html#rebuilding-the-documentation">Rebuilding the Documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../basics/workflow.html#using-git">Using git</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../basics/workflow.html#micro-commits">Micro Commits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/workflow.html#createing-a-hotfix">Createing a Hotfix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics/workflow.html#merging-develop-to-master">Merging Develop to Master</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../basics/workflow.html#releasing-a-new-version">Releasing a New Version</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usage/install.html">Installation &amp; Update</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../usage/install.html#installation-automatic">Installation (Automatic)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#install-dependencies">Install Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#additional-steps-for-ubuntu">Additional Steps for Ubuntu</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#executing-the-install-sh-script">Executing the install.sh Script</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#configuring-musicdb">Configuring MusicDB</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/install.html#configuring-musicdb-webui">Configuring MusicDB WebUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/install.html#id1">Configuring MusicDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/install.html#first-run">First Run</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/install.html#update">Update</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#update-to-a-new-version">Update to a New Version</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/install.html#installation-manually">Installation (Manually)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#system-preparation">System Preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#id2">Install dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#basic-packages">Basic packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#download-musicdb">Download MusicDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#libprinthex">libprinthex</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#id3">id3edit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/install.html#musicdb">musicdb</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usage/music.html">Music</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../usage/music.html#naming">Naming</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/music.html#artist-directory-name">Artist Directory Name</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/music.html#album-directory-name">Album Directory Name</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/music.html#song-file-name">Song File Name</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/music.html#music-video-file-name">Music Video File Name</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/music.html#importing-albums-to-musicdb">Importing Albums to MusicDB</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/music.html#using-the-database-module">Using the database module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/music.html#using-the-repair-module">Using the repair module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/music.html#using-the-add-module">Using the add module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/music.html#updating-songs">Updating Songs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/music.html#importing-videos-to-musicdb">Importing Videos to MusicDB</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usage/scripts.html">Scripts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../usage/scripts.html#musicdb-boot">musicdb-boot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/scripts.html#musicdb-shutdown">musicdb-shutdown</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/scripts.html#musicdb-start">musicdb-start</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/scripts.html#musicdb-stop">musicdb-stop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/scripts.html#update">update</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">CLI Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mod/add.html">add - Add New Album to MusicDB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/add.html#select-album">Select Album</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mod/add.html#repair-file-names">Repair File Names</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../mod/add.html#album-import-form">Album Import Form</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mod/add.html#new-songs-form">New Songs Form</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mod/add.html#online-check">Online Check</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../mod/add.html#import-process">Import Process</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mod/artwork.html">artwork - Artwork Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/artwork.html#class">class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mod/database.html">database - Music DB Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mod/extern.html">extern - Music File Uploader</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/extern.html#class">class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mod/extern.html#automatization">Automatization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mod/genres.html">genres - Genre Manager with CLUI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/genres.html#managing-genres">Managing Genres</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mod/genres.html#updating-caches">Updating Caches</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mod/metadata.html">metadata - Metadata Reader</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mod/mise.html">mise - Micro Search Engine</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/mise.html#class">class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mod/moods.html">moods - Mood Tag Manager with CLUI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/moods.html#mood-list">Mood List</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mod/moods.html#mood-grid">Mood Grid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mod/moods.html#style-guide">Style Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mod/repair.html">repair - Repair Database Entries</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/repair.html#lyrics-check">Lyrics Check</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mod/repair.html#checksum-update">Checksum update</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mod/server.html">server - MusicDB Websocket Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mod/stats.html">stats - MusicDB Song Statistic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mod/tags.html">tags - MusicDB Tag Manager</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/tags.html#main-commands">Main commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mod/tags.html#style-guide">Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mod/tags.html#example-calls">Example calls</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mod/videoframes.html">videoframes - Video Frames and Preview Manager</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mod/videoframes.html#class">class</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">API Classes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/artwork.html">Artwork Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#database">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#path-structure">Path structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../mdbapi/artwork.html#web-browsers">Web Browsers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#scaling">Scaling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#manifest">Manifest</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#algorithm">Algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#musicdbartwork-class">MusicDBArtwork Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/artwork.html#module-lib.cache">ArtworkCache Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/audiostream.html">Audio Streaming Server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/audiostream.html#interface">Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/audiostream.html#streaming-thread">Streaming Thread</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/audiostream.html#command-queue">Command Queue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/audiostream.html#event-management">Event Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/audiostream.html#stream-manager-class">Stream Manager Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/blacklist.html">Blacklist</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/blacklist.html#module-mdbapi.blacklist">Blacklist Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../mdbapi/blacklist.html#id1">Blacklist</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/blacklist.html#blacklist-interface-class">Blacklist Interface Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/database.html">MusicDBDatabase</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/database.html#musicdbdatabase-class">MusicDBDatabase Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/extern.html">MusicDBExtern</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/extern.html#initializing-a-storage">Initializing a Storage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../mdbapi/extern.html#storage-configuration">Storage Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mdbapi/extern.html#the-state-file">The State-File</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/extern.html#updating-a-storage">Updating a Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/extern.html#handling-toxic-environments">Handling Toxic Environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/extern.html#musicdbextern-class">MusicDBExtern Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/lycra.html">LyCra - Lyrics Crawler</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/lycra.html#module-mdbapi.lycra">Lycra API Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/lycra.html#crawler-base-class">Crawler Base Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/lycra.html#module-lib.db.lycradb">Lycra Database</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/mise.html">Micro Search Engine</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/mise.html#musicdbmicrosearchengine-class">MusicDBMicroSearchEngine Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/randy.html">Randomizer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/randy.html#module-mdbapi.randy">Randy Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../mdbapi/randy.html#song-selection-algorithm">Song Selection Algorithm</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../mdbapi/randy.html#database-stage">Database Stage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../mdbapi/randy.html#blacklist-stage">Blacklist Stage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../mdbapi/randy.html#video-selection-algorithm">Video Selection Algorithm</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/randy.html#randy-class">Randy Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/server.html">MusicDB Websocket Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/songqueue.html">MusicDB Song Queue</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/songqueue.html#queue-management">Queue Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/songqueue.html#event-management">Event Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/songqueue.html#song-queue-class">Song Queue Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/tags.html">MusicDBTags</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/tags.html#musicdbtags-class">MusicDBTags Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/tracker.html">Song Tracker</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/tracker.html#tracker-class">Tracker Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/tracker.html#module-lib.db.trackerdb">Tracker Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/tracker.html#trackerdatabase-class">TrackerDatabase Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/uploadmanager.html">Upload Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/uploadmanager.html#uploadmanager-class">UploadManager Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/videoframes.html">Video Frames and Preview Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoframes.html#definitions">Definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoframes.html#database">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoframes.html#path-structure">Path structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoframes.html#https-server">HTTPS Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoframes.html#scaling">Scaling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoframes.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoframes.html#algorithm">Algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoframes.html#videoframes-class">VideoFrames Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/videoqueue.html">MusicDB video Queue</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoqueue.html#queue-management">Queue Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoqueue.html#event-management">Event Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videoqueue.html#video-queue-class">Video Queue Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mdbapi/videostream.html">Video Streaming Server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videostream.html#interface">Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videostream.html#streaming-thread">Streaming Thread</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videostream.html#command-queue">Command Queue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videostream.html#event-management">Event Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mdbapi/videostream.html#stream-manager-class">Stream Manager Class</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Libraries</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="clui.html">Command Line User Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="clui.html#module-lib.clui.text">Text</a></li>
<li class="toctree-l2"><a class="reference internal" href="clui.html#module-lib.clui.frame">Frame</a></li>
<li class="toctree-l2"><a class="reference internal" href="clui.html#module-lib.clui.pane">Pane</a></li>
<li class="toctree-l2"><a class="reference internal" href="clui.html#module-lib.clui.buttonview">ButtonView</a></li>
<li class="toctree-l2"><a class="reference internal" href="clui.html#module-lib.clui.listview">ListView</a></li>
<li class="toctree-l2"><a class="reference internal" href="clui.html#module-lib.clui.dialog">Dialog</a></li>
<li class="toctree-l2"><a class="reference internal" href="clui.html#module-lib.clui.textinput">TextInput</a></li>
<li class="toctree-l2"><a class="reference internal" href="clui.html#module-lib.clui.boolinput">BoolInput</a></li>
<li class="toctree-l2"><a class="reference internal" href="clui.html#module-lib.clui.tabgroup">TabGroup</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="config.html#base-classes">Base Classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="config.html#module-lib.cfg.config">Config</a></li>
<li class="toctree-l3"><a class="reference internal" href="config.html#module-lib.cfg.csv">CSVFile</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="config.html#musicdb-configuration">MusicDB Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#module-lib.cfg.webui">WebUI Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#module-lib.cfg.extern">External Storage Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#module-lib.cfg.mdbstate">MusicDB State</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="database.html">Database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="database.html#database-class">Database Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fileprocessing.html">Fileprocessing Methods</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fileprocessing.html#fileprocessing-class">Fileprocessing Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="filesystem.html">Filesystem Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="filesystem.html#filesystem-class">Filesystem Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="gstreamer.html">GStreamer Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="gstreamer.html#gstreamer-pipeline">GStreamer Pipeline</a><ul>
<li class="toctree-l3"><a class="reference internal" href="gstreamer.html#installation">Installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="gstreamer.html#gstreamerinterface-class">GStreamerInterface Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="icecast.html">Icecast Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="icecast.html#introduction-to-icecast">Introduction to Icecast</a><ul>
<li class="toctree-l3"><a class="reference internal" href="icecast.html#icecast-configuration">Icecast Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="icecast.html#icecast-class">Icecast Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="metatags.html">Meta Tags</a><ul>
<li class="toctree-l2"><a class="reference internal" href="metatags.html#metatags-class">MetaTags Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mp3file.html">MP3 File Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mp3file.html#mp3file-class">MP3File Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mp3stream.html">MP3 Stream Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mp3stream.html#mp3stream-class">MP3Stream Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mp3transcoder.html">MP3 Transcoder</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mp3transcoder.html#gstreamer-pipeline">GStreamer Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="mp3transcoder.html#unix-pipe">UNIX Pipe</a></li>
<li class="toctree-l2"><a class="reference internal" href="mp3transcoder.html#transcoding">Transcoding</a></li>
<li class="toctree-l2"><a class="reference internal" href="mp3transcoder.html#mp3transcoder-class">MP3Transcoder Class</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">MusicDatabase</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#validity-of-columns">Validity of columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-a-column">Adding a Column</a></li>
<li class="toctree-l2"><a class="reference internal" href="#songs">Songs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#song-relates-methods">Song Relates Methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#videos">Videos</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#video-relates-methods">Video Relates Methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#albums">Albums</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#album-related-methods">Album Related Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#artworks">Artworks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#origin">Origin</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#artists">Artists</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lyrics">Lyrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tags">Tags</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tag-definition-table">Tag Definition Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tag-mapping-table">Tag Mapping Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tag-related-methods">Tag Related Methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#musicdatabase-class">MusicDatabase Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="namedpipe.html">NamedPipe</a><ul>
<li class="toctree-l2"><a class="reference internal" href="namedpipe.html#namedpipe-class">NamedPipe Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pidfile.html">PID File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="websockets.html">MusicDB Websocket Protocol</a><ul>
<li class="toctree-l2"><a class="reference internal" href="websockets.html#module-lib.ws.server">Websocket Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="websockets.html#module-lib.ws.websocket">Websocket Protocol</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">JaveScript Classes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../webui/websockets.html">Websocket Connection</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../webui/websockets.html#connection-process">Connection Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../webui/websockets.html#watchdog">Watchdog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../webui/websockets.html#communication-with-the-server">Communication with the server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../webui/websockets.html#sending-data">Sending Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../webui/websockets.html#receiving-data">Receiving Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../webui/websockets.html#minimal-usage">Minimal usage</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../other/impressum.html">Impressum</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#angaben-gemasz-5-tmg">Angaben gemäß § 5 TMG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#kontakt">Kontakt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#verantwortlich-fur-den-inhalt-nach-55-abs-2-rstv">Verantwortlich für den Inhalt nach § 55 Abs. 2 RStV</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#haftung-fur-inhalte">Haftung für Inhalte</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#haftung-fur-links">Haftung für Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#urheberrecht">Urheberrecht</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../other/impressum.html#datenschutzerklarung-privacy-statement">Datenschutzerklärung / Privacy Statement</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#datenschutz">Datenschutz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#cookies">Cookies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#server-log-files">Server-Log-Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#facebook-plugins-like-button">Facebook-Plugins (Like-Button)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#twitter">Twitter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#google">Google+</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#youtube">YouTube</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#ssl-verschlusselung">SSL-Verschlüsselung</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/impressum.html#widerspruch-werbe-mails">Widerspruch Werbe-Mails</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MusicDB</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>MusicDatabase</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/lib/musicdb.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-lib.db.musicdb">
<span id="musicdatabase"></span><h1>MusicDatabase<a class="headerlink" href="#module-lib.db.musicdb" title="Permalink to this headline">¶</a></h1>
<p>This class manages the <em>MusicDB Database</em> the core of <em>MusicDB</em>.
It caches information from the filesystem and provides augmentation of those files.
This database handles the following components:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#songs">Songs</a></p></li>
<li><p><a class="reference internal" href="#videos">Videos</a></p></li>
<li><p><a class="reference internal" href="#albums">Albums</a></p></li>
<li><p><a class="reference internal" href="#artists">Artists</a></p></li>
<li><p><a class="reference internal" href="#artworks">Artworks</a></p></li>
<li><p><a class="reference internal" href="#lyrics">Lyrics</a></p></li>
<li><p><a class="reference internal" href="#tags">Tags</a></p></li>
</ul>
</div></blockquote>
<p>All database entries (= rows) are handled as dictionaries.
The key of the dictionary corresponds to the column name of the database.</p>
<p>If an entry of this dictionary got changed directly, the following methods can be used to store the changes in the database.
This is not the recommended way because the content gets not checked.
The preferred way to change any data is using the related method described in the following sections.</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.WriteArtist" title="lib.db.musicdb.MusicDatabase.WriteArtist"><code class="xref py py-meth docutils literal notranslate"><span class="pre">WriteArtist()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.WriteAlbum" title="lib.db.musicdb.MusicDatabase.WriteAlbum"><code class="xref py py-meth docutils literal notranslate"><span class="pre">WriteAlbum()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.WriteSong" title="lib.db.musicdb.MusicDatabase.WriteSong"><code class="xref py py-meth docutils literal notranslate"><span class="pre">WriteSong()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.WriteVideo" title="lib.db.musicdb.MusicDatabase.WriteVideo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">WriteVideo()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.WriteTag" title="lib.db.musicdb.MusicDatabase.WriteTag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">WriteTag()</span></code></a></p></li>
</ul>
</div></blockquote>
<div class="section" id="validity-of-columns">
<h2>Validity of columns<a class="headerlink" href="#validity-of-columns" title="Permalink to this headline">¶</a></h2>
<p>Some column values are generated when importing data.
The way these values are well defined.
After creating the values, they may be changed by the user or other tools.
Affected are all the following columns:</p>
<blockquote>
<div><ul class="simple">
<li><p>All name-columns</p></li>
<li><p>artworkpath of albums</p></li>
<li><p>thumbnailpath of videos</p></li>
</ul>
</div></blockquote>
<p>For example, the artwork path is generated by the artist and album name.
So when working with albums, instead of using the artwork path value, the path could be regenerated by the artist and album names.
This is not recommended!
In case an other tool changes the artwork path entry, this may lead to a path of a no longer existing artwork file.</p>
</div>
<div class="section" id="adding-a-column">
<h2>Adding a Column<a class="headerlink" href="#adding-a-column" title="Permalink to this headline">¶</a></h2>
<p>When a new column shall be added, the following steps are necessary.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Shutdown the server: <code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">&quot;shutdown&quot;</span> <span class="pre">&gt;</span> <span class="pre">/data/musicdb/musicdb.fifo</span></code></p></li>
<li><p>Backup the database: <code class="docutils literal notranslate"><span class="pre">sqlite3</span> <span class="pre">music.db</span> <span class="pre">.dump</span> <span class="pre">&gt;</span> <span class="pre">backup/music.db.bak</span></code></p></li>
<li><p>Update this file.</p></li>
<li><p>Update the SQL file <em>sql/music.sql</em></p></li>
<li><dl class="simple">
<dt>Modify the database:</dt><dd><ol class="arabic simple">
<li><p>Open: <code class="docutils literal notranslate"><span class="pre">sqlite3</span> <span class="pre">music.db</span></code></p></li>
<li><p>Add column. For example <code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">TABLE</span> <span class="pre">songs</span> <span class="pre">ADD</span> <span class="pre">COLUMN</span> <span class="pre">feature</span> <span class="pre">INTEGER</span> <span class="pre">DEFAULT</span> <span class="pre">0;</span></code></p></li>
<li><p>Quit: <code class="docutils literal notranslate"><span class="pre">.quit</span></code></p></li>
</ol>
</dd>
</dl>
</li>
</ol>
</div></blockquote>
<p>Furthermore be sure that all command line modules and API modules handle the new added column, and so new added feature correct.
For example, methods creating a new entry in the modified table may be adopted.</p>
</div>
<div class="section" id="songs">
<h2>Songs<a class="headerlink" href="#songs" title="Permalink to this headline">¶</a></h2>
<p>The columns of the songs table are the following:</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 23%" />
<col style="width: 26%" />
<col style="width: 15%" />
<col style="width: 15%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>songid</p></td>
<td><p>albumid</p></td>
<td><p>artistid</p></td>
<td><p>name</p></td>
<td><p>path</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 10%" />
<col style="width: 24%" />
<col style="width: 24%" />
<col style="width: 22%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>number</p></td>
<td><p>cd</p></td>
<td><p>disabled</p></td>
<td><p>playtime</p></td>
<td><p>bitrate</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 37%" />
<col style="width: 37%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>likes</p></td>
<td><p>dislikes</p></td>
<td><p>favorite</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 17%" />
<col style="width: 20%" />
<col style="width: 25%" />
<col style="width: 17%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>lyricsstate</p></td>
<td><p>checksum</p></td>
<td><p>lastplayed</p></td>
<td><p>liverecording</p></td>
<td><p>badaudio</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<dl>
<dt>checksum (Text)</dt><dd><p>This is the <em>sha256</em> hash value of the file addressed by <code class="docutils literal notranslate"><span class="pre">path</span></code>.
The checksum will be calculated like shown in the following example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">songpath</span> <span class="o">=</span> <span class="n">song</span><span class="p">[</span><span class="s2">&quot;path&quot;</span><span class="p">]</span>
<span class="n">songfile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">songpath</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">songpath</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">songfile</span><span class="p">:</span>
    <span class="n">checksum</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="n">songfile</span><span class="o">.</span><span class="n">read</span><span class="p">())</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>

<span class="n">song</span><span class="p">[</span><span class="s2">&quot;checksum&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">checksum</span>
</pre></div>
</div>
<p>The hash function will not be changed in future.
This is OK as long as the hash value will not be used for security related things!</p>
<p>It can happen, that the value is empty (<code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>).
This only means that the checksum of the song was not calculated yet.
In this case, just calculate it, and write it into the database.</p>
</dd>
<dt>lastplayed (Integer)</dt><dd><p>This value holds the information, when the song was played the last time.
The time gets represented as an integer (unixtime).</p>
</dd>
</dl>
<div class="section" id="song-relates-methods">
<h3>Song Relates Methods<a class="headerlink" href="#song-relates-methods" title="Permalink to this headline">¶</a></h3>
<p>The following methods exist to handle song entries in the database:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.AddSong" title="lib.db.musicdb.MusicDatabase.AddSong"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddSong()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.AddFullSong" title="lib.db.musicdb.MusicDatabase.AddFullSong"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddFullSong()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetSongById" title="lib.db.musicdb.MusicDatabase.GetSongById"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSongById()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetSongByPath" title="lib.db.musicdb.MusicDatabase.GetSongByPath"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSongByPath()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetSongsByArtistId" title="lib.db.musicdb.MusicDatabase.GetSongsByArtistId"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSongsByArtistId()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetSongsByAlbumId" title="lib.db.musicdb.MusicDatabase.GetSongsByAlbumId"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSongsByAlbumId()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetAllSongs" title="lib.db.musicdb.MusicDatabase.GetAllSongs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetAllSongs()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetSongs" title="lib.db.musicdb.MusicDatabase.GetSongs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSongs()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetRandomSong" title="lib.db.musicdb.MusicDatabase.GetRandomSong"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetRandomSong()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetSongIdsByAlbumIds" title="lib.db.musicdb.MusicDatabase.GetSongIdsByAlbumIds"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSongIdsByAlbumIds()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.UpdateSongStatistic" title="lib.db.musicdb.MusicDatabase.UpdateSongStatistic"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateSongStatistic()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.RemoveSong" title="lib.db.musicdb.MusicDatabase.RemoveSong"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RemoveSong()</span></code></a></p></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="videos">
<h2>Videos<a class="headerlink" href="#videos" title="Permalink to this headline">¶</a></h2>
<p>The columns of the videos table are the following:</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 17%" />
<col style="width: 19%" />
<col style="width: 21%" />
<col style="width: 13%" />
<col style="width: 13%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>videoid</p></td>
<td><p>songid</p></td>
<td><p>albumid</p></td>
<td><p>artistid</p></td>
<td><p>name</p></td>
<td><p>path</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 23%" />
<col style="width: 18%" />
<col style="width: 20%" />
<col style="width: 16%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>disabled</p></td>
<td><p>playtime</p></td>
<td><p>origin</p></td>
<td><p>release</p></td>
<td><p>added</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 39%" />
<col style="width: 39%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>codec</p></td>
<td><p>xresolution</p></td>
<td><p>yresolution</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 38%" />
<col style="width: 33%" />
<col style="width: 29%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>framesdirectory</p></td>
<td><p>thumbnailfile</p></td>
<td><p>previewfile</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 19%" />
<col style="width: 19%" />
<col style="width: 29%" />
<col style="width: 19%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>likes</p></td>
<td><p>dislikes</p></td>
<td><p>favorite</p></td>
<td><p>liverecording</p></td>
<td><p>badaudio</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 34%" />
<col style="width: 37%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>checksum</p></td>
<td><p>lastplayed</p></td>
<td><p>lyricsvideo</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 22%" />
<col style="width: 22%" />
<col style="width: 20%" />
<col style="width: 15%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>bgcolor</p></td>
<td><p>fgcolor</p></td>
<td><p>hlcolor</p></td>
<td><p>vbegin</p></td>
<td><p>vend</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<dl>
<dt>songid, albumid (Integer)</dt><dd><p>These are references to an album the videos was included in,
and/or the song the video belongs to.
In case the album and/or song is not included in the collection,
these values can be <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
</dd>
<dt>added (Integer)</dt><dd><p>Unix-Time when the video was added to the database</p>
</dd>
<dt>release (Integer)</dt><dd><p>Year when the video was released. This year may be different to the
release year of the album or song</p>
</dd>
<dt>codec (Text)</dt><dd><p>Like <code class="docutils literal notranslate"><span class="pre">&quot;h264&quot;</span></code></p>
</dd>
<dt>checksum (Text)</dt><dd><p>This is the <em>sha256</em> hash value of the file addressed by <code class="docutils literal notranslate"><span class="pre">path</span></code>.
The checksum will be calculated like shown in the following example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">videopath</span> <span class="o">=</span> <span class="n">video</span><span class="p">[</span><span class="s2">&quot;path&quot;</span><span class="p">]</span>
<span class="n">videofile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">videopath</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">videopath</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">videofile</span><span class="p">:</span>
    <span class="n">checksum</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="n">videofile</span><span class="o">.</span><span class="n">read</span><span class="p">())</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>

<span class="n">video</span><span class="p">[</span><span class="s2">&quot;checksum&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">checksum</span>
</pre></div>
</div>
<p>The hash function will not be changed in future.
This is OK as long as the hash value will not be used for security related things!</p>
<p>It can happen, that the value is empty (<code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>).
This only means that the checksum of the song was not calculated yet.
In this case, just calculate it, and write it into the database.</p>
</dd>
<dt>lastplayed (Integer)</dt><dd><p>This value holds the information, when the song was played the last time.
The time gets represented as an integer (unixtime).</p>
</dd>
</dl>
<div class="section" id="video-relates-methods">
<h3>Video Relates Methods<a class="headerlink" href="#video-relates-methods" title="Permalink to this headline">¶</a></h3>
<p>The following methods exist to handle video entries in the database:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.AddVideo" title="lib.db.musicdb.MusicDatabase.AddVideo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddVideo()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.AddFullVideo" title="lib.db.musicdb.MusicDatabase.AddFullVideo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddFullVideo()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetVideoByPath" title="lib.db.musicdb.MusicDatabase.GetVideoByPath"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetVideoByPath()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetVideoById" title="lib.db.musicdb.MusicDatabase.GetVideoById"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetVideoById()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetVideos" title="lib.db.musicdb.MusicDatabase.GetVideos"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetVideos()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetVideosByArtistId" title="lib.db.musicdb.MusicDatabase.GetVideosByArtistId"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetVideosByArtistId()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.UpdateVideoStatistic" title="lib.db.musicdb.MusicDatabase.UpdateVideoStatistic"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateVideoStatistic()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.SetColorThemeByVideoId" title="lib.db.musicdb.MusicDatabase.SetColorThemeByVideoId"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetColorThemeByVideoId()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.SetVideoTimeFrame" title="lib.db.musicdb.MusicDatabase.SetVideoTimeFrame"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetVideoTimeFrame()</span></code></a></p></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="albums">
<h2>Albums<a class="headerlink" href="#albums" title="Permalink to this headline">¶</a></h2>
<p>Data structure:</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 14%" />
<col style="width: 9%" />
<col style="width: 9%" />
<col style="width: 17%" />
<col style="width: 14%" />
<col style="width: 11%" />
<col style="width: 13%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>albumid</p></td>
<td><p>artistid</p></td>
<td><p>name</p></td>
<td><p>path</p></td>
<td><p>numofsongs</p></td>
<td><p>numofcds</p></td>
<td><p>origin</p></td>
<td><p>release</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 13%" />
<col style="width: 15%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>artworkpath</p></td>
<td><p>bgcolor</p></td>
<td><p>fgcolor</p></td>
<td><p>hlcolor</p></td>
<td><p>added</p></td>
<td><p>hidden</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<dl class="simple">
<dt>added (Integer)</dt><dd><p>This is the time the album got added to the collection as unixtime rounded to an integer (full seconds)</p>
</dd>
<dt>hidden (Integer)</dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">1</span></code>, the album will not be included in some SQL query results. See the documentation of the specific methods to identify if hidden albums are included or not.</p>
</dd>
</dl>
<div class="section" id="album-related-methods">
<h3>Album Related Methods<a class="headerlink" href="#album-related-methods" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.AddAlbum" title="lib.db.musicdb.MusicDatabase.AddAlbum"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddAlbum()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetAlbumByPath" title="lib.db.musicdb.MusicDatabase.GetAlbumByPath"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetAlbumByPath()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetAlbumById" title="lib.db.musicdb.MusicDatabase.GetAlbumById"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetAlbumById()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetAllAlbums" title="lib.db.musicdb.MusicDatabase.GetAllAlbums"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetAllAlbums()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetAlbumsByArtistId" title="lib.db.musicdb.MusicDatabase.GetAlbumsByArtistId"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetAlbumsByArtistId()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetAlbums" title="lib.db.musicdb.MusicDatabase.GetAlbums"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetAlbums()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetAllAlbumIds" title="lib.db.musicdb.MusicDatabase.GetAllAlbumIds"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetAllAlbumIds()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.RemoveAlbum" title="lib.db.musicdb.MusicDatabase.RemoveAlbum"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RemoveAlbum()</span></code></a></p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="artworks">
<h3>Artworks<a class="headerlink" href="#artworks" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.SetArtwork" title="lib.db.musicdb.MusicDatabase.SetArtwork"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetArtwork()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.SetArtworkColorByAlbumId" title="lib.db.musicdb.MusicDatabase.SetArtworkColorByAlbumId"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetArtworkColorByAlbumId()</span></code></a></p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="origin">
<h3>Origin<a class="headerlink" href="#origin" title="Permalink to this headline">¶</a></h3>
<p>Valid values:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;iTunes&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;bandcamp&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;music163&quot;</span></code> aka 网易云音乐</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;CD&quot;</span></code> as fallback for unknown <em>flac</em> files</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;internet&quot;</span></code> as fallback for any other unknown files</p></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="artists">
<h2>Artists<a class="headerlink" href="#artists" title="Permalink to this headline">¶</a></h2>
<p>Database structure:</p>
<blockquote>
<div><blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 45%" />
<col style="width: 27%" />
<col style="width: 27%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>artistid</p></td>
<td><p>name</p></td>
<td><p>path</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<ul class="simple">
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.AddArtist" title="lib.db.musicdb.MusicDatabase.AddArtist"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddArtist()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetAllArtists" title="lib.db.musicdb.MusicDatabase.GetAllArtists"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetAllArtists()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetArtistByPath" title="lib.db.musicdb.MusicDatabase.GetArtistByPath"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetArtistByPath()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetArtistById" title="lib.db.musicdb.MusicDatabase.GetArtistById"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetArtistById()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.RemoveArtist" title="lib.db.musicdb.MusicDatabase.RemoveArtist"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RemoveArtist()</span></code></a></p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="lyrics">
<h2>Lyrics<a class="headerlink" href="#lyrics" title="Permalink to this headline">¶</a></h2>
<p>Lyrics state is part of the <em>songs</em> table.
The lyrics itself are stored in the <em>lyrics</em> table with the following layout:</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>songid</p></td>
<td><p>lyrics</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Lyrics are stored in a simple markup language:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">::</span> <span class="pre">ref</span></code> starts a section for the refrain</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">::</span> <span class="pre">comment</span></code> starts a section for comments that are not part of the lyrics</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">::</span></code> ends a section</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;&lt;…&gt;&gt;</span></code> “highlight” text - use secondary color for printing this text</p></li>
</ul>
</div></blockquote>
<p>A lyrics entry could look like the following example:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">::</span> <span class="n">comment</span>
<span class="n">Just</span> <span class="n">a</span> <span class="n">dummy</span> <span class="n">text</span>
<span class="p">::</span>

<span class="n">Lorem</span> <span class="n">ipsum</span> <span class="n">dolor</span> <span class="n">sit</span> <span class="n">amet</span><span class="p">,</span>
<span class="n">consetetur</span> <span class="n">sadipscing</span> <span class="n">elitr</span><span class="p">,</span>
<span class="n">sed</span> <span class="n">diam</span> <span class="n">nonumy</span> <span class="n">eirmod</span> <span class="n">tempor</span>
<span class="n">invidunt</span> <span class="n">ut</span> <span class="n">labore</span> <span class="n">et</span> <span class="n">dolore</span>
<span class="n">magna</span> <span class="n">aliquyam</span> <span class="n">erat</span><span class="p">,</span>
<span class="n">sed</span> <span class="n">diam</span> <span class="n">voluptua</span><span class="o">.</span>

<span class="p">::</span> <span class="n">ref</span>
<span class="n">At</span> <span class="n">vero</span> <span class="n">eos</span> <span class="n">et</span> <span class="n">accusam</span> <span class="n">et</span> <span class="n">justo</span> <span class="n">duo</span> <span class="n">dolores</span> <span class="n">et</span> <span class="n">ea</span> <span class="n">rebum</span><span class="o">.</span>
<span class="n">Stet</span> <span class="n">clita</span> <span class="n">kasd</span> <span class="n">gubergren</span><span class="p">,</span>
<span class="n">no</span> <span class="n">sea</span> <span class="n">takimata</span> <span class="n">sanctus</span> <span class="n">est</span> <span class="n">Lorem</span> <span class="n">ipsum</span> <span class="n">dolor</span> <span class="n">sit</span> <span class="n">amet</span><span class="o">.</span>
<span class="p">::</span>

<span class="o">&lt;&lt;</span> <span class="p">(</span><span class="mi">5</span> <span class="n">times</span><span class="p">)</span> <span class="o">&gt;&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetLyrics" title="lib.db.musicdb.MusicDatabase.GetLyrics"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetLyrics()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.SetLyrics" title="lib.db.musicdb.MusicDatabase.SetLyrics"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetLyrics()</span></code></a></p></li>
</ul>
</div></blockquote>
<p>The <em>lyrics</em> column can have the following states:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SONG_LYRICSSTATE_EMPTY</span></code> - There are no lyrics set yet</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SONG_LYRICSSTATE_FROMFILE</span></code> - The lyrics set come from the metatags of the song file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SONG_LYRICSSTATE_FROMNET</span></code> - The lyrics were grabbed from the internet by a crawler</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SONG_LYRICSSTATE_FROMUSER</span></code> - The lyrics were reviewed by the user. This noted the highest state of quality for lyrics.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SONG_LYRICSSTATE_NONE</span></code> - There are no lyrics for this song - it is an instrumental song.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="tags">
<h2>Tags<a class="headerlink" href="#tags" title="Permalink to this headline">¶</a></h2>
<p>In this section, the tag management is described.
A <em>Toxi</em> scheme is used to implement the tag system in MusicDB.
This means there are n+2 tables:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>A Table with the definition of a tag,</p></li>
<li><p>a table that maps the tag to an entity,</p></li>
<li><p>and <em>n</em> tables with entities with a global unique identifier.</p></li>
</ol>
</div></blockquote>
<p>MusicDB does not have global unique identifier for artists, albums an genres, so instead of one mapping table, there are two.
One for the songs, and one for the albums.
Tags for Artists are not expected.
If there will be a need later on, it an easy be implemented by adding a third mapping table and/or introducing new classes of tags.
A tag must be identifiable by the combination of its name and class.</p>
<div class="section" id="tag-definition-table">
<h3>Tag Definition Table<a class="headerlink" href="#tag-definition-table" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 9%" />
<col style="width: 11%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 9%" />
<col style="width: 11%" />
<col style="width: 9%" />
<col style="width: 9%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>4</p></td>
<td><p>5</p></td>
<td><p>6</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-even"><td><p>TagID</p></td>
<td><p>Name</p></td>
<td><p>Class</p></td>
<td><p>ParentID</p></td>
<td><p>IconType</p></td>
<td><p>Icon</p></td>
<td><p>Color</p></td>
<td><p>PosX</p></td>
<td><p>PosY</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<dl class="simple">
<dt>TagID (Integer)</dt><dd><p>ID of the tag that gets generated by the database</p>
</dd>
<dt>Name (String)</dt><dd><p>Name of the tag. It will be used inside the MusicDB code or by the UI as it is stored in the database.
So, the name is set as it shall be displayed.
It must also be a unique name inside its class.</p>
</dd>
<dt>Class (Integer)</dt><dd><p>ID of the class:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code> - Genre</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code> - Subgenre</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code> - Mood</p></li>
</ul>
</dd>
<dt>ParentID (Integer / None)</dt><dd><p>ID of a related tag. In case of subgenre, the main genres ID would be the ParentID.
<strong>Important:</strong> A parent tag must always be of class <em>Genre</em>. And only <em>Subgenre</em> can and must have a parent!</p>
</dd>
<dt>IconType (Integer / None)</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">None</span></code> the icon-column will be ignored. Otherwise it defines the type of icon:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code> - Unicode character</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code> - HTML tag for special fonts: <code class="docutils literal notranslate"><span class="pre">&lt;i</span> <span class="pre">class=&quot;fa</span> <span class="pre">fa-beer&quot;&gt;&lt;/i&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code> - png image <strong>Future feature - specification incomplete</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code> - svg image <strong>Future feature - specification incomplete</strong></p></li>
</ul>
</dd>
<dt>Icon (Text / None)</dt><dd><p>A shorter version of the name. The Icon must be compatible to the specified type.</p>
</dd>
<dt>Color (Text / None)</dt><dd><p>A HTML-like color code that can be used to highlight a very special tag. Do not use this feature too much, it can break the UI visual design.</p>
</dd>
<dt>PosX, PosY (Integer / None)</dt><dd><p>The (X;Y) Position of the Name or the Icon in a grid if the tags were presented as grid in an UI.
The tag position gets stored in the global database to make sure that every UI provides a similar layout of the tags to make it more usable.
<code class="docutils literal notranslate"><span class="pre">(0;0)</span></code> is the upper left corner.
If not a grid but a list gets described, <code class="docutils literal notranslate"><span class="pre">posx</span></code> determines the position and <code class="docutils literal notranslate"><span class="pre">posy</span></code> is set to <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
</dd>
</dl>
</div>
<div class="section" id="tag-mapping-table">
<h3>Tag Mapping Table<a class="headerlink" href="#tag-mapping-table" title="Permalink to this headline">¶</a></h3>
<p>The mapping-tables have all the same layout</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 19%" />
<col style="width: 19%" />
<col style="width: 23%" />
<col style="width: 19%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>EntryID</p></td>
<td><p>SongID</p></td>
<td><p>TagID</p></td>
<td><p>Confidence</p></td>
<td><p>Approval</p></td>
</tr>
<tr class="row-odd"><td><p>EntryID</p></td>
<td><p>AlbumID</p></td>
<td><p>TagID</p></td>
<td><p>Confidence</p></td>
<td><p>Approval</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<dl class="simple">
<dt>EntryID (Integer)</dt><dd><p>ID of the entry in the mapping-table</p>
</dd>
<dt>TagID (Integer)</dt><dd><p>ID of the tag in the Tag-Definition-Table</p>
</dd>
<dt>xxxID (Integer)</dt><dd><p>ID of the song or album entry in the related tables</p>
</dd>
<dt>Confidence (Floating point, Default: 1.0)</dt><dd><p>Confidence that the tag is correct.
This is important in case an AI set the tag (See <em>Approval</em>).
Otherwise this column can be ignored. - Ignoring means setting it to <code class="docutils literal notranslate"><span class="pre">1.0</span></code>!</p>
</dd>
<dt>Approval (Integer, Default: 1)</dt><dd><p>Three stages to approve the tag.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">0</span></code> - Set by AI. This tag may be wrong. The <em>Confidence</em> value is relevant in this case.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code> - Set by the User. <em>Confidence</em> must be set to <code class="docutils literal notranslate"><span class="pre">1.0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code> - Can be used for training. This Song/Album is a good representation for this tag. It can be used to train an AI.</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="tag-related-methods">
<h3>Tag Related Methods<a class="headerlink" href="#tag-related-methods" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.CreateTag" title="lib.db.musicdb.MusicDatabase.CreateTag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CreateTag()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetAllTags" title="lib.db.musicdb.MusicDatabase.GetAllTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetAllTags()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetTagByName" title="lib.db.musicdb.MusicDatabase.GetTagByName"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetTagByName()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.DeleteTag" title="lib.db.musicdb.MusicDatabase.DeleteTag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DeleteTag()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.ModifyTag" title="lib.db.musicdb.MusicDatabase.ModifyTag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ModifyTag()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.SetTargetTag" title="lib.db.musicdb.MusicDatabase.SetTargetTag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetTargetTag()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.RemoveTargetTag" title="lib.db.musicdb.MusicDatabase.RemoveTargetTag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RemoveTargetTag()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetTargetTags" title="lib.db.musicdb.MusicDatabase.GetTargetTags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetTargetTags()</span></code></a></p></li>
<li><p><a class="reference internal" href="#lib.db.musicdb.MusicDatabase.SplitTagsByClass" title="lib.db.musicdb.MusicDatabase.SplitTagsByClass"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SplitTagsByClass()</span></code></a></p></li>
</ul>
</div></blockquote>
<p>The following tag classes exist:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MusicDatabase.TAG_CLASS_GENRE</span></code>: Main genres like Metal, Electro, Classic, …</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MusicDatabase.TAG_CLASS_SUBGENRE</span></code>: Subgenre like Dark Metal, New Wave, …</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MusicDatabase.TAG_CLASS_MOOD</span></code>: Moods like Lucky, Sad, …</p></li>
</ul>
</div></blockquote>
<p>A target can be “song”, “video” or “album”.</p>
</div>
</div>
<div class="section" id="musicdatabase-class">
<h2>MusicDatabase Class<a class="headerlink" href="#musicdatabase-class" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="lib.db.musicdb.MusicDatabase">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lib.db.musicdb.</span></code><code class="sig-name descname"><span class="pre">MusicDatabase</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is the interface to the Music Database.
It is derived from <a class="reference internal" href="database.html#lib.db.database.Database" title="lib.db.database.Database"><code class="xref py py-class docutils literal notranslate"><span class="pre">lib.db.database.Database</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – path to the music database</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – When the version of the database does not match the expected version. (Updating MusicDB may failed)</p>
</dd>
</dl>
<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.AddAlbum">
<code class="sig-name descname"><span class="pre">AddAlbum</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">artistid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.AddAlbum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.AddAlbum" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new entry for an album.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>artistid</strong> – ID of the artist who is related to the album</p></li>
<li><p><strong>name</strong> (<em>str</em>) – name of album</p></li>
<li><p><strong>path</strong> (<em>str</em>) – relative path of the album</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – When <em>path</em> or <em>name</em> is not of type string, and <em>artistid</em> not a string or an integer</p></li>
<li><p><strong>ValueError</strong> – When <em>artistid</em> is not a decimal number</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.AddArtist">
<code class="sig-name descname"><span class="pre">AddArtist</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.AddArtist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.AddArtist" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new artist into the artists table</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – name of the artist</p></li>
<li><p><strong>path</strong> (<em>str</em>) – relative path of the artist directory</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>TypeError</strong> – If <em>path</em> is not of type <code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.AddFullSong">
<code class="sig-name descname"><span class="pre">AddFullSong</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">song</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.AddFullSong"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.AddFullSong" title="Permalink to this definition">¶</a></dt>
<dd><p>This method creates a new entry for a song and adds all its attributes into the database.
Creating the song is done by calling <a class="reference internal" href="#lib.db.musicdb.MusicDatabase.AddSong" title="lib.db.musicdb.MusicDatabase.AddSong"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddSong()</span></code></a>.
When the song was added a new song ID is generated by the database engine.
The new entry gets read from the database.
Then, the new ID is set as song ID to the dictionary given as argument.
After that, the whole song dictionary gets written to the database via <a class="reference internal" href="#lib.db.musicdb.MusicDatabase.WriteSong" title="lib.db.musicdb.MusicDatabase.WriteSong"><code class="xref py py-meth docutils literal notranslate"><span class="pre">WriteSong()</span></code></a></p>
<p>In case adding the song fails on half the way, the new added entry gets deleted.
As long as nothing references the song entry, it is no problem to remove it.
So, when this method returns <code class="docutils literal notranslate"><span class="pre">False</span></code> Nothing changed in the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>song</strong> – A complete dictionary with all keys of a MusicDB Song entry for the database</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> on success, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code> which indicates that nothing changed in the database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.AddFullVideo">
<code class="sig-name descname"><span class="pre">AddFullVideo</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">video</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.AddFullVideo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.AddFullVideo" title="Permalink to this definition">¶</a></dt>
<dd><p>This method creates a new entry for a video and adds all its attributes into the database.
Creating the song is video by calling <a class="reference internal" href="#lib.db.musicdb.MusicDatabase.AddVideo" title="lib.db.musicdb.MusicDatabase.AddVideo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AddVideo()</span></code></a>.
When the video was added a new song ID is generated by the database engine.
The new entry gets read from the database.
Then, the new ID is set as song ID to the dictionary given as argument.
After that, the whole song dictionary gets written to the database via <a class="reference internal" href="#lib.db.musicdb.MusicDatabase.WriteVideo" title="lib.db.musicdb.MusicDatabase.WriteVideo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">WriteVideo()</span></code></a></p>
<p>In case adding the video fails on half the way, the new added entry gets deleted.
As long as nothing references the video entry, it is no problem to remove it.
So, when this method returns <code class="docutils literal notranslate"><span class="pre">False</span></code> Nothing changed in the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>video</strong> – A <strong>complete</strong> dictionary with all keys of a MusicDB Song entry for the database</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> on success, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code> which indicates that nothing changed in the database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.AddSong">
<code class="sig-name descname"><span class="pre">AddSong</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">artistid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">albumid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.AddSong"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.AddSong" title="Permalink to this definition">¶</a></dt>
<dd><p>This method creates a new database entry for a song and sets the most important values.</p>
<p>If a song with the same path is already in the database, its <em>artistid</em>, <em>albumid</em> and <em>name</em> gets compared to the arguments.
If they match, everything is fine and the method returns.
If they differ, an AssertionError gets raised.
Adding an existing song is a bug!
Even if this method allows it under some conditions, this should not be exploited!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>artistid</strong> (<em>int</em>) – ID of the artist of this song</p></li>
<li><p><strong>albumid</strong> (<em>int</em>) – ID of the album of this song</p></li>
<li><p><strong>name</strong> (<em>string</em>) – Name of the song</p></li>
<li><p><strong>path</strong> (<em>string</em>) – Path of the song file relative to the music root directory</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – If one of the arguments is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>ValueError</strong> – If song is already in the database <strong>and</strong> does not match the other parameters</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.AddVideo">
<code class="sig-name descname"><span class="pre">AddVideo</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">artistid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.AddVideo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.AddVideo" title="Permalink to this definition">¶</a></dt>
<dd><p>This method creates a new database entry for a video and sets the most important values (Artistid, name and path).</p>
<p>If a video with the same path is already in the database, its <em>artistid</em>, <em>path</em> and <em>name</em> gets compared to the arguments.
If they match, everything is fine and the method returns.
If they differ, an AssertionError gets raised.
Adding an existing video is a bug!
Even if this method allows it under some conditions, this should not be exploited!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>artistid</strong> (<em>int</em>) – ID of the artist of this video</p></li>
<li><p><strong>name</strong> (<em>string</em>) – Name of the video</p></li>
<li><p><strong>path</strong> (<em>string</em>) – Path of the video file relative to the music root directory</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – If one of the arguments is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>ValueError</strong> – If song is already in the database <strong>and</strong> does not match the other parameters</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.CreateTag">
<code class="sig-name descname"><span class="pre">CreateTag</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tagclass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parentid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.CreateTag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.CreateTag" title="Permalink to this definition">¶</a></dt>
<dd><p>This method creates a new tag in the tags-table.</p>
<p>If the tag already exists in its class, it will not be created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagname</strong> (<em>str</em>) – Name of the new tag. This is also the name that gets displayed in the GUI.</p></li>
<li><p><strong>tagclass</strong> (<em>int</em>) – Defines the class of the tag.</p></li>
<li><p><strong>parentid</strong> (<em>int</em>) – Optional parent relation to other tags - Mandatory for subgenre</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – if <em>tagname</em> is not a string or <em>parentid</em> does not have the value it should have regarding the specification</p></li>
<li><p><strong>ValueError</strong> – When <em>tagclass</em> has an invalid value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.DeleteTag">
<code class="sig-name descname"><span class="pre">DeleteTag</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tagclass</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.DeleteTag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.DeleteTag" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.db.musicdb.MusicDatabase.DeleteTagByName" title="lib.db.musicdb.MusicDatabase.DeleteTagByName"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DeleteTagByName()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.DeleteTagById">
<code class="sig-name descname"><span class="pre">DeleteTagById</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.DeleteTagById"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.DeleteTagById" title="Permalink to this definition">¶</a></dt>
<dd><p>This method deletes a tag addressed by its tag ID.
Before deleting the tag, this tag as well as its child-tags (sub-genre tag) will be removed from all
songs, albums and videos.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method has a very different behavior compared to <a class="reference internal" href="#lib.db.musicdb.MusicDatabase.DeleteTagByName" title="lib.db.musicdb.MusicDatabase.DeleteTagByName"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DeleteTagByName()</span></code></a>!</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tagid</strong> (<em>int</em>) – ID of the tag to delete</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>TypeError</strong> – When <em>tagid</em> is not an integer</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.DeleteTagByName">
<code class="sig-name descname"><span class="pre">DeleteTagByName</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tagclass</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.DeleteTagByName"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.DeleteTagByName" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes an entry from the tags-table with the name <em>tagname</em> and that belongs to <em>tagclass</em>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method does NOT delete child tags or the relation between the tag and songs or albums.
You should only delete new created tags that are not used!</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagname</strong> (<em>str</em>) – Name of the tag that shall be deleted.</p></li>
<li><p><strong>tagclass</strong> (<em>int</em>) – Class of the name the tag belongs to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – If <em>tagname</em> is not of type <code class="docutils literal notranslate"><span class="pre">str</span></code></p></li>
<li><p><strong>ValueError</strong> – If <em>tagclass</em> is not a valid class ID.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetAlbumById">
<code class="sig-name descname"><span class="pre">GetAlbumById</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">albumid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetAlbumById"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetAlbumById" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an album entry if available.
It also returns the entry, when the album is hidden!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>albumid</strong> – entry ID of the album in the album table</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An album entry or <code class="docutils literal notranslate"><span class="pre">None</span></code> it the album does not exits</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – If <em>albumid</em> is not set</p></li>
<li><p><strong>AssertionError</strong> – If there is more than one album with the given ID</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetAlbumByPath">
<code class="sig-name descname"><span class="pre">GetAlbumByPath</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetAlbumByPath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetAlbumByPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an album entry if available.
It also returns the entry when the album is hidden!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – relative path of an album</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An album entry or <code class="docutils literal notranslate"><span class="pre">None</span></code> it the album does not exits.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – If <em>path</em> is not of type <code class="docutils literal notranslate"><span class="pre">str</span></code></p></li>
<li><p><strong>AssertionError</strong> – If there is more than one album with the given path</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetAlbums">
<code class="sig-name descname"><span class="pre">GetAlbums</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">artistid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">withsongs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hidden</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'no'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetAlbums"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetAlbums" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns a list with all albums in the database, or all albums of an artist if <em>artistid</em> is not <code class="docutils literal notranslate"><span class="pre">None</span></code>.
If the <em>withsongs</em> parameter is <code class="docutils literal notranslate"><span class="pre">True</span></code>, for each album all songs will be included.
They are added as list into each album entry under the key <code class="docutils literal notranslate"><span class="pre">songs</span></code></p>
<p>The <em>hidden</em> parameter is a string that can have the following values to describe how hidden albums should be handled:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;no&quot;</span></code>: No hidden albums included</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;include&quot;</span></code>: Hidden and not hidden albums returned</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;only&quot;</span></code>: Only return hidden albums</p></li>
</ul>
</div></blockquote>
<p>Hidden albums are <em>not</em> included!</p>
<p class="rubric">Example</p>
<p>The following example prints all songs of the artist with the ID <code class="docutils literal notranslate"><span class="pre">1000</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">albums</span> <span class="o">=</span> <span class="n">musicdb</span><span class="o">.</span><span class="n">GetAlbums</span><span class="p">(</span><span class="n">artistid</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">withsongs</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="k">for</span> <span class="n">album</span> <span class="ow">in</span> <span class="n">albums</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">song</span> <span class="ow">in</span> <span class="n">album</span><span class="p">[</span><span class="s2">&quot;songs&quot;</span><span class="p">]:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">song</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>artistid</strong> – ID for an artist whose albums shall be returned. If <code class="docutils literal notranslate"><span class="pre">None</span></code> the albums get not filtered by <em>artistid</em>.</p></li>
<li><p><strong>withsongs</strong> (<em>bool</em>) – also return all songs of the album.</p></li>
<li><p><strong>hidden</strong> (<em>str</em>) – optional modify for handling hidden albums</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list with all non-hidden albums.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – If <em>withsongs</em> is not of type <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>TypeError</strong> – If <em>hidden</em> is not a string</p></li>
<li><p><strong>ValueError</strong> – When <em>hidden</em> has not one of the above listed values</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetAlbumsByArtistId">
<code class="sig-name descname"><span class="pre">GetAlbumsByArtistId</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">artistid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetAlbumsByArtistId"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetAlbumsByArtistId" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetAlbums" title="lib.db.musicdb.MusicDatabase.GetAlbums"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetAlbums()</span></code></a> (<code class="docutils literal notranslate"><span class="pre">GetAlbums(artistid,</span> <span class="pre">withsongs=False,</span> <span class="pre">hidden=&quot;no&quot;)</span></code>)</p>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetAllAlbumIds">
<code class="sig-name descname"><span class="pre">GetAllAlbumIds</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">includehidden</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetAllAlbumIds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetAllAlbumIds" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all album Ids.</p>
<p>If the optional <code class="docutils literal notranslate"><span class="pre">includehidden</span></code> argument is not set to <code class="docutils literal notranslate"><span class="pre">true</span></code>,
hidden albums are <em>not</em> included!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>includehidden</strong> (<em>bool</em>) – When true, hidden albums are also included</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns a list of all album IDs</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetAllAlbums">
<code class="sig-name descname"><span class="pre">GetAllAlbums</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetAllAlbums"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetAllAlbums" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetAlbums" title="lib.db.musicdb.MusicDatabase.GetAlbums"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetAlbums()</span></code></a> (<code class="docutils literal notranslate"><span class="pre">GetAlbums(artistid=None,</span> <span class="pre">withsongs=False,</span> <span class="pre">hidden=&quot;include&quot;)</span></code>)</p>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetAllArtists">
<code class="sig-name descname"><span class="pre">GetAllArtists</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetAllArtists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetAllArtists" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all artists in the artists table.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of all artists</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetAllSongs">
<code class="sig-name descname"><span class="pre">GetAllSongs</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetAllSongs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetAllSongs" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetSongs" title="lib.db.musicdb.MusicDatabase.GetSongs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSongs()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetAllTags">
<code class="sig-name descname"><span class="pre">GetAllTags</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagclass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetAllTags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetAllTags" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns a list of tags from the tags table.
If <em>tagclass</em> is set, only tags of the specified class gets returned.
Otherwise all tags.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tagclass</strong> (<em>int</em>) – Optional, to only get tags of the given class</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of tags</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If <em>tagclass</em> is set (not <code class="docutils literal notranslate"><span class="pre">None</span></code>) with an invalid value</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetArtistById">
<code class="sig-name descname"><span class="pre">GetArtistById</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">artistid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetArtistById"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetArtistById" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the artist by its ID</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>artistid</strong> – ID of the artist in the artist table</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The database entry of the artist or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there is no entry for this artist directory</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – When <em>artistid</em> is not an integer or a string</p></li>
<li><p><strong>ValueError</strong> – When <em>artistid</em> is a string that cannot be interpreted as a decimal number</p></li>
<li><p><strong>AssertionError</strong> – When there is more than one entry with the same ID (This should never happen)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetArtistByPath">
<code class="sig-name descname"><span class="pre">GetArtistByPath</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetArtistByPath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetArtistByPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the artist by the relative path of the music directory.
This is usually only a directroy name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>parth</strong> (<em>str</em>) – relative path of an artist</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The database entry of the artist or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there is no entry for this artist directory</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – When <em>path</em> is not a string</p></li>
<li><p><strong>AssertionError</strong> – When there is no artist with the given path</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetLyrics">
<code class="sig-name descname"><span class="pre">GetLyrics</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">songid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetLyrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetLyrics" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns the lyrics of a song.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>songid</strong> (<em>int</em>) – ID of the song for that the lyrics shall be returned</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The lyrics of a song or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there are no lyrics for the song.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – When <em>sonid</em> is not an integer or string</p></li>
<li><p><strong>AssertionError</strong> – If there were multiple lyrics entries for the given song ID</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetRandomSong">
<code class="sig-name descname"><span class="pre">GetRandomSong</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filterlist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodisabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nohated</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">albumid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetRandomSong"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetRandomSong" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns a random song that fulfills several constraints.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">filterlist</span></code> can be either a set of genre tag IDs or a set of genre names.
When <code class="docutils literal notranslate"><span class="pre">filterlist</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> no filter gets applied.
Otherwise only albums of the genres in the list will be considered.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">albumid</span></code> is not <code class="docutils literal notranslate"><span class="pre">None</span></code>, then the process of getting valid albums will be skipped.
Instead the predefined album will be used.
In that case <code class="docutils literal notranslate"><span class="pre">filterlist</span></code> gets ignored.</p>
<p>Getting a random song is done by the following steps, visualized in the flow chart below:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Get album IDs of all albums in the database</p></li>
<li><p>Translate <em>filterlist</em> into a list of tag IDs</p></li>
<li><p>For each album, get its tags and compare that with the set of tag IDs from the filter. (If there is no filter list set, all album IDs are selected)</p></li>
<li><p>Get all song IDs that are related to the filtered album IDs by calling <a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetSongIdsByAlbumIds" title="lib.db.musicdb.MusicDatabase.GetSongIdsByAlbumIds"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSongIdsByAlbumIds()</span></code></a></p></li>
<li><p>Select a random song ID and get its song entry from the database</p></li>
</ol>
</div></blockquote>
<div class="graphviz"><object data="../_images/graphviz-2108fd3faa0dcb66ec1499c51df6e1514bc6874c.svg" type="image/svg+xml" class="graphviz">
<p class="warning">digraph hierarchy {
    size=&quot;5,8&quot;
    start           [label=&quot;Start&quot;];
    hasalbumid      [shape=diamond, label=&quot;albumid == None&quot;];
    getallalbums    [shape=box,     label=&quot;Get all Album IDs&quot;]
    getalltags      [shape=box,     label=&quot;Get list of Tag IDs\nfrom filterlist&quot;]
    hasfilterlist   [shape=diamond, label=&quot;Is there a filter list&quot;];
    removealbums    [shape=box,     label=&quot;Remove albums without\ntags of filter&quot;]
    getallsongs     [shape=box,     label=&quot;Get all songs of selected albums&quot;]
    selectsong      [shape=box,     label=&quot;Select random song&quot;]


    start           -&gt; hasalbumid;

    hasalbumid      -&gt; getallsongs      [label=&quot;No&quot;];
    hasalbumid      -&gt; getallalbums     [label=&quot;Yes&quot;];
    getallalbums    -&gt; getalltags

    getalltags      -&gt; hasfilterlist
    hasfilterlist   -&gt; removealbums     [label=&quot;Yes&quot;];
    hasfilterlist   -&gt; getallsongs      [label=&quot;No&quot;];

    removealbums    -&gt; removealbums     [label=&quot;For each album&quot;]
    removealbums    -&gt; getallsongs

    getallsongs     -&gt; selectsong
}</p></object></div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filterlist</strong> – Optional, default value is <code class="docutils literal notranslate"><span class="pre">[]</span></code>. A list of genre names or genre tag IDs that limits the search set. The tags have <em>OR</em> relations.</p></li>
<li><p><strong>nodisabled</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code> no disables songs will be selected</p></li>
<li><p><strong>nohated</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code> no hated songs will be selected</p></li>
<li><p><strong>minlen</strong> (<em>int</em>) – If set, no songs with less than <em>minlen</em> seconds will be selected</p></li>
<li><p><strong>maxlen</strong> (<em>int</em>) – If set, no songs with more than <em>maxlen</em> seconds will be selected</p></li>
<li><p><strong>albumid</strong> (<em>int</em>) – Use album with ID <code class="docutils literal notranslate"><span class="pre">albumid</span></code> instead of a random album</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A random MusicDB Song dictionary that fulfills the constraints,
or <code class="docutils literal notranslate"><span class="pre">None</span></code> when there is no song fulfilling the constraints</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – When <em>nodisabled</em> or <em>nohated</em> are not of type <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>TypeError</strong> – When <em>minlen</em> or <em>maxlen</em> is not <code class="docutils literal notranslate"><span class="pre">None</span></code> and not of type integer</p></li>
<li><p><strong>TypeError</strong> – When <em>filterlist</em> is not a list and not <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetRandomVideo">
<code class="sig-name descname"><span class="pre">GetRandomVideo</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filterlist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodisabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nohated</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetRandomVideo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetRandomVideo" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns a random video that fulfills several constraints.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">filterlist</span></code> can be either a set of genre tag IDs or a set of genre names.
When <code class="docutils literal notranslate"><span class="pre">filterlist</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> no filter gets applied.
Otherwise only videos of the genres in the list will be considered.</p>
<p>Getting a random video is done by the following steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Get video IDs of all videos in the database</p></li>
<li><p>Translate <em>filterlist</em> into a list of tag IDs</p></li>
<li><p>For each video, get its tags and compare that with the set of tag IDs from the filter. (If there is no filter list set, all video IDs are selected)</p></li>
<li><p>Select a random video</p></li>
</ol>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filterlist</strong> – Optional, default value is <code class="docutils literal notranslate"><span class="pre">[]</span></code>. A list of genre names or genre tag IDs that limits the search set. The tags have <em>OR</em> relations.</p></li>
<li><p><strong>nodisabled</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code> no disables songs will be selected</p></li>
<li><p><strong>nohated</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code> no hated songs will be selected</p></li>
<li><p><strong>minlen</strong> (<em>int</em>) – If set, no videos with less than <em>minlen</em> seconds will be selected</p></li>
<li><p><strong>maxlen</strong> (<em>int</em>) – If set, no videos with more than <em>maxlen</em> seconds will be selected</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A random MusicDB Video dictionary that fulfills the constraints,
or <code class="docutils literal notranslate"><span class="pre">None</span></code> when there is no song fulfilling the constraints</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – When <em>nodisabled</em> or <em>nohated</em> are not of type <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>TypeError</strong> – When <em>minlen</em> or <em>maxlen</em> is not <code class="docutils literal notranslate"><span class="pre">None</span></code> and not of type integer</p></li>
<li><p><strong>TypeError</strong> – When <em>filterlist</em> is not a list and not <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>ValueError</strong> – When minlen is less than <code class="docutils literal notranslate"><span class="pre">0</span></code></p></li>
<li><p><strong>ValueError</strong> – When maxlen is less than <code class="docutils literal notranslate"><span class="pre">0</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetSongById">
<code class="sig-name descname"><span class="pre">GetSongById</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">songid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetSongById"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetSongById" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a song from the database that matches the <em>songid</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>songid</strong> (<em>int</em>) – ID of the song that shall be returned</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A MusicDB Song dictionary or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there is no song with that ID</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – If <em>songid</em> is not an integer or a string</p></li>
<li><p><strong>AssertionError</strong> – If there is more than one song with the same ID</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetSongByPath">
<code class="sig-name descname"><span class="pre">GetSongByPath</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetSongByPath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetSongByPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a song from the database that matches the <em>path</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – A song path relative to the music root directory</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A MusicDB Song dictionary or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there is no song with that path</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – If <em>path</em> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>AssertionError</strong> – If there is more than one song with the same path</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetSongIdsByAlbumIds">
<code class="sig-name descname"><span class="pre">GetSongIdsByAlbumIds</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">albumids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodisabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nohated</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetSongIdsByAlbumIds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetSongIdsByAlbumIds" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns a list of songs that belong to the albums addressed by their IDs in the <em>albumids</em> list.
The songs of the returned IDs also fulfill the constraints given by the other parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>albumids</strong> – A list of album IDs that songs are considered to get</p></li>
<li><p><strong>nodisabled</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code> no disables songs will be selected</p></li>
<li><p><strong>nohated</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code> no hated songs will be selected</p></li>
<li><p><strong>minlen</strong> (<em>int</em>) – If set, no songs with less than <em>minlen</em> seconds will be selected</p></li>
<li><p><strong>maxlen</strong> (<em>int</em>) – If set, no songs with more than <em>maxlen</em> seconds will be selected</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of song IDs</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – When <em>nodisabled</em> or <em>nohated</em> are not of type <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>TypeError</strong> – When <em>minlen</em> or <em>maxlen</em> is not <code class="docutils literal notranslate"><span class="pre">None</span></code> and not of type integer</p></li>
<li><p><strong>ValueError</strong> – When minlen is less than <code class="docutils literal notranslate"><span class="pre">0</span></code></p></li>
<li><p><strong>ValueError</strong> – When maxlen is less than <code class="docutils literal notranslate"><span class="pre">0</span></code></p></li>
<li><p><strong>TypeError</strong> – When <em>albumuids</em> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetSongs">
<code class="sig-name descname"><span class="pre">GetSongs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">albumid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetSongs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetSongs" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns all songs in the database if <em>albumid</em> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, or all songs of an album if <em>albumid</em> is set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>albumid</strong> (<em>int</em>) – ID of an album or <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of MusicDB Songs</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetSongsByAlbumId">
<code class="sig-name descname"><span class="pre">GetSongsByAlbumId</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">albumid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetSongsByAlbumId"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetSongsByAlbumId" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.db.musicdb.MusicDatabase.GetSongs" title="lib.db.musicdb.MusicDatabase.GetSongs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetSongs()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetSongsByArtistId">
<code class="sig-name descname"><span class="pre">GetSongsByArtistId</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">artistid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetSongsByArtistId"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetSongsByArtistId" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns all song entries of an Artist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>artistid</strong> (<em>int</em>) – ID of an artist</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of MusicDB Songs</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>TypeError</strong> – If artistid is not a decimal number of type integer or sting</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetTagByName">
<code class="sig-name descname"><span class="pre">GetTagByName</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tagclass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetTagByName"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetTagByName" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns a tag entry addressed by the tagname and tagclass.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagname</strong> (<em>str</em>) – Name of the tag that shall be returned</p></li>
<li><p><strong>tagclass</strong> (<em>int</em>) – ID of the tagclass - Default is the main genre class.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The row of the specified tag, or <code class="docutils literal notranslate"><span class="pre">None</span></code> if no tag was found</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError</strong> – If no name or valid tagclass was given</p></li>
<li><p><strong>TypeError</strong> – If <em>tagname</em> is not a string</p></li>
<li><p><strong>AssertionError</strong> – If more than one tag was found - This should never happen!</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetTagStatistics">
<code class="sig-name descname"><span class="pre">GetTagStatistics</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetTagStatistics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetTagStatistics" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns three integers telling how often the given tag is used for songs, albums and videos.
It is also checked how many other tags used the tagid as parent tag.</p>
<p>The level of confidence or if the tag was approved for the song/video/album is not considered.
All set tags are counted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tagid</strong> (<em>int</em>) – ID of the tag to count</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>songs(int), albums(int), videos(int), children(int)</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>TypeError</strong> – When <em>tagid</em> is not an integer</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetTargetTags">
<code class="sig-name descname"><span class="pre">GetTargetTags</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targetid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tagclass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetTargetTags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetTargetTags" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all tags of a target.
A target can be a song (<code class="docutils literal notranslate"><span class="pre">target</span> <span class="pre">=</span> <span class="pre">&quot;song&quot;</span></code>) an album (<code class="docutils literal notranslate"><span class="pre">target</span> <span class="pre">=</span> <span class="pre">&quot;album&quot;</span></code>) or a video (<code class="docutils literal notranslate"><span class="pre">target</span> <span class="pre">=</span> <span class="pre">&quot;video&quot;</span></code>).
This list contains all classes of tags if <em>tagclass</em> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, otherwise only of type <em>tagclass</em>.</p>
<p>The returned list is the target-tag-mapping augmented with the tag-entry.
So, each element in the list is a merged dictionary of the table row of the mapping and the tag itself.
The <code class="docutils literal notranslate"><span class="pre">id</span></code> entry in the dictionary is the ID of the Tag and identical to the entry <code class="docutils literal notranslate"><span class="pre">tagid</span></code>.
The ID of the ID of the entry in the mapping-table is <code class="docutils literal notranslate"><span class="pre">entryid</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<em>str</em>) – Target that shall be tagged (<code class="docutils literal notranslate"><span class="pre">&quot;song&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;album&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;video&quot;</span></code>)</p></li>
<li><p><strong>targetid</strong> (<em>int</em>) – ID of the target that tags shall be returned (song, album or video ID)</p></li>
<li><p><strong>tagclass</strong> (<em>int</em>) – If not <code class="docutils literal notranslate"><span class="pre">None</span></code> only tags of a specific class will be returned</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of tags or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there are no tags</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – If <em>targetid</em> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>ValueError</strong> – If <em>tagclass</em> is set to an invalid value (<code class="docutils literal notranslate"><span class="pre">None</span></code> is valid)</p></li>
<li><p><strong>ValueError</strong> – If <em>target</em> not in <em>{“song”, “album”, “video”}</em></p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">tags</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="n">GetTargetTags</span><span class="p">(</span><span class="s2">&quot;song&quot;</span><span class="p">,</span> <span class="n">songid</span><span class="p">)</span>
<span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">tags</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tagname: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="n">tag</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;; &quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Approval: </span><span class="si">%i</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tag</span><span class="p">[</span><span class="s2">&quot;approval&quot;</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Approval: </span><span class="si">%f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tag</span><span class="p">[</span><span class="s2">&quot;confidence&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetVideoById">
<code class="sig-name descname"><span class="pre">GetVideoById</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">videoid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetVideoById"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetVideoById" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an video entry if available</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>videoid</strong> – entry ID of the video in the video table</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An video entry or <code class="docutils literal notranslate"><span class="pre">None</span></code> it the video does not exits</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – If <code class="docutils literal notranslate"><span class="pre">videoid</span></code> is not set</p></li>
<li><p><strong>AssertionError</strong> – If there is more than one video with the given ID</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetVideoByPath">
<code class="sig-name descname"><span class="pre">GetVideoByPath</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetVideoByPath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetVideoByPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a video from the database that matches the <em>path</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – A video path relative to the music root directory</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A MusicDB Video dictionary or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there is no video with that path</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – If <em>path</em> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>AssertionError</strong> – If there is more than one video with the same path</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetVideos">
<code class="sig-name descname"><span class="pre">GetVideos</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetVideos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetVideos" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns an unsorted list with all videos.</p>
<p class="rubric">Example</p>
<p>The following example prints all videos</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">albums</span> <span class="o">=</span> <span class="n">musicdb</span><span class="o">.</span><span class="n">GetVideos</span><span class="p">()</span>
<span class="k">for</span> <span class="n">video</span> <span class="ow">in</span> <span class="n">videos</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">video</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list with all videos in the database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.GetVideosByArtistId">
<code class="sig-name descname"><span class="pre">GetVideosByArtistId</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">artistid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.GetVideosByArtistId"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.GetVideosByArtistId" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns an unsorted list with all videos of an artist.</p>
<p class="rubric">Example</p>
<p>The following example prints all videos of the artist with the ID <code class="docutils literal notranslate"><span class="pre">1000</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">albums</span> <span class="o">=</span> <span class="n">musicdb</span><span class="o">.</span><span class="n">GetVideosByArtistId</span><span class="p">(</span><span class="n">artistid</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">)</span>
<span class="k">for</span> <span class="n">video</span> <span class="ow">in</span> <span class="n">videos</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">video</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>artistid</strong> – ID for an artist whose videos shall be returned.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list with all videos of an artist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.ModifyTag">
<code class="sig-name descname"><span class="pre">ModifyTag</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tagclass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columnname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newvalue</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.ModifyTag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.ModifyTag" title="Permalink to this definition">¶</a></dt>
<dd><p>This method allows to modify most of the attributes of a tag.
The <em>tagname</em> and <em>tagclass</em> addresses the tag, <em>columnname</em> the attribute.
<em>newvalue</em> is the new attribute set for the tag.</p>
<p>In case the icon gets modified, take care that the icon type is up to date. (update order does not matter).</p>
<p>For colors, <code class="docutils literal notranslate"><span class="pre">None</span></code> is a valid type to remove color</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagname</strong> (<em>str</em>) – Name of the tag that shall be modified</p></li>
<li><p><strong>tagclass</strong> (<em>int</em>) – Class of the tag</p></li>
<li><p><strong>columnname</strong> (<em>str</em>) – The name of the attribute that shall be modified</p></li>
<li><p><strong>newvalue</strong> – The new value. Read the introduction at the top of the document to see what values are possible for a specific attribute</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – if <em>tagname</em> is not a string or <em>parentid</em> does not have the value it should have regarding the specification</p></li>
<li><p><strong>TypeError</strong> – When <em>color</em> is not a string and not <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>ValueError</strong> – When <em>tagclass</em> has an invalid value</p></li>
<li><p><strong>ValueError</strong> – If columnname is not “name”, “parentid”, “icontype”, “icon”, “color”, “posx”, “posy”</p></li>
<li><p><strong>ValueError</strong> – If columnname is “color” and <em>newvalue</em> is not a valid #RRGGBB-Formated string</p></li>
<li><p><strong>ValueError</strong> – If columnname is “icontype” and <em>newvalue</em> is not valid</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.ModifyTagById">
<code class="sig-name descname"><span class="pre">ModifyTagById</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columnname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newvalue</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.ModifyTagById"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.ModifyTagById" title="Permalink to this definition">¶</a></dt>
<dd><p>This method allows to modify most of the attributes of a tag.
The <em>tagid</em> addresses the tag, <em>columnname</em> the attribute.
<em>newvalue</em> is the new attribute set for the tag.</p>
<p>In case the icon gets modified, take care that the icon type is up to date. (update order does not matter).</p>
<p>For colors, <code class="docutils literal notranslate"><span class="pre">None</span></code> is a valid type to remove color</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagid</strong> (<em>int</em>) – ID of the tag to modify</p></li>
<li><p><strong>columnname</strong> (<em>str</em>) – The name of the attribute that shall be modified</p></li>
<li><p><strong>newvalue</strong> – The new value. Read the introduction at the top of the document to see what values are possible for a specific attribute</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – if <em>tagid</em> is not an integer</p></li>
<li><p><strong>TypeError</strong> – When <em>color</em> is not a string and not <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>ValueError</strong> – If columnname is not “name”, “parentid”, “icontype”, “icon”, “color”, “posx”, “posy”</p></li>
<li><p><strong>ValueError</strong> – If columnname is “color” and <em>newvalue</em> is not a valid #RRGGBB-Formated string</p></li>
<li><p><strong>ValueError</strong> – If columnname is “icontype” and <em>newvalue</em> is not valid</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.RemoveAlbum">
<code class="sig-name descname"><span class="pre">RemoveAlbum</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">albumid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.RemoveAlbum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.RemoveAlbum" title="Permalink to this definition">¶</a></dt>
<dd><p>This method removes an album entry and all related data from all tables.</p>
<p>The removed data are:</p>
<blockquote>
<div><ul class="simple">
<li><p>The complete row in the album-table for this album</p></li>
<li><p>All tags of this album (not the tag definition)</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>albumid</strong> (<em>int</em>) – ID of the album</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>TypeError</strong> – When <em>albumid</em> is not an integer or string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.RemoveArtist">
<code class="sig-name descname"><span class="pre">RemoveArtist</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">artistid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.RemoveArtist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.RemoveArtist" title="Permalink to this definition">¶</a></dt>
<dd><p>This method removes an artist entry and all related data from all tables.</p>
<p>The removed data are:</p>
<blockquote>
<div><ul class="simple">
<li><p>The complete row in the artist-table for this artist</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>artistid</strong> (<em>int</em>) – ID of the artist</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>TypeError</strong> – When <em>artistid</em> is not an integer or string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.RemoveSong">
<code class="sig-name descname"><span class="pre">RemoveSong</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">songid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.RemoveSong"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.RemoveSong" title="Permalink to this definition">¶</a></dt>
<dd><p>This method removes a song entry and all related data from all tables.</p>
<p>The removed data are:</p>
<blockquote>
<div><ul class="simple">
<li><p>The complete row in the songs-table for this song</p></li>
<li><p>The lyrics of this song</p></li>
<li><p>All tags of this song (not the tag definition)</p></li>
<li><p>Decrementation of the albums <em>numofsongs</em> value. (not the <em>numofcds</em> entry!)</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>songid</strong> (<em>int</em>) – ID of the song</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>TypeError</strong> – When <em>songid</em> is not an integer or string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.RemoveTargetTag">
<code class="sig-name descname"><span class="pre">RemoveTargetTag</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targetid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tagid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.RemoveTargetTag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.RemoveTargetTag" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes an association between a target and a tag in the tag map.
In short: Removes a tag from a song, a video or an album.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<em>str</em>) – Target that shall be tagged (<code class="docutils literal notranslate"><span class="pre">&quot;song&quot;</span></code> for a song, <code class="docutils literal notranslate"><span class="pre">&quot;video&quot;</span></code> for a video, <code class="docutils literal notranslate"><span class="pre">&quot;album&quot;</span></code> for an album)</p></li>
<li><p><strong>targetid</strong> (<em>int</em>) – ID of the target that shall be tagged. (a song ID, video ID or an album ID)</p></li>
<li><p><strong>tagid</strong> (<em>int</em>) – ID of the tag that shall be associated with the target</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError</strong> – If <code class="docutils literal notranslate"><span class="pre">target</span></code> not in <code class="docutils literal notranslate"><span class="pre">{&quot;song&quot;,</span> <span class="pre">&quot;video&quot;,</span> <span class="pre">&quot;album&quot;}</span></code></p></li>
<li><p><strong>TypeError</strong> – If <code class="docutils literal notranslate"><span class="pre">songid</span> <span class="pre">==</span> <span class="pre">None</span> <span class="pre">or</span> <span class="pre">tagid</span> <span class="pre">==</span> <span class="pre">None</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.SetAlbumHiddenState">
<code class="sig-name descname"><span class="pre">SetAlbumHiddenState</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">albumid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hiddenstate</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.SetAlbumHiddenState"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.SetAlbumHiddenState" title="Permalink to this definition">¶</a></dt>
<dd><p>Hides or shows an album depending on the <em>hide</em> state.
When <code class="docutils literal notranslate"><span class="pre">hidden</span> <span class="pre">==</span> <span class="pre">True</span></code> the album gets hidden,
when <code class="docutils literal notranslate"><span class="pre">hidden</span> <span class="pre">==</span> <span class="pre">False</span></code> the hidden state gets reset to make the album visible again.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>albumid</strong> (<em>int</em>) – ID of the album</p></li>
<li><p><strong>hidden</strong> (<em>bool</em>) – Hide or Show the album</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>TypeError</strong> – If <em>albumid</em> is not an integer and <em>hiddenstate</em> not a bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.SetArtwork">
<code class="sig-name descname"><span class="pre">SetArtwork</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">albumid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">artworkpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.SetArtwork"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.SetArtwork" title="Permalink to this definition">¶</a></dt>
<dd><p>This method updates the <em>artworkpath</em> entry of the MusicDB Database for an album.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>albumid</strong> – ID of the album that artwork path shall be updated</p></li>
<li><p><strong>artworkpath</strong> (<em>str</em>) – New relative artwork path for the album</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – When <em>albumid</em> is not an integer or a string</p></li>
<li><p><strong>TypeError</strong> – If <em>artworkpath</em> is not of type <code class="docutils literal notranslate"><span class="pre">str</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.SetArtworkColorByAlbumId">
<code class="sig-name descname"><span class="pre">SetArtworkColorByAlbumId</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">albumid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.SetArtworkColorByAlbumId"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.SetArtworkColorByAlbumId" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is for setting a color for an album.
Valid color names are the following and must be given as string to the <em>colorname</em> parameter.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;bgcolor&quot;</span></code> -  Background color</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;fgcolor&quot;</span></code> -  Primary foreground color</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;hlcolor&quot;</span></code> -  Secondary foreground color</p></li>
</ul>
</div></blockquote>
<p>The color itself must be in HTML-Format: <code class="docutils literal notranslate"><span class="pre">#RRGGBB</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>albumid</strong> – The ID of the album that color shall be set</p></li>
<li><p><strong>colorname</strong> (<em>str</em>) – Name of the color that shall be set</p></li>
<li><p><strong>color</strong> (<em>str</em>) – Color in HTML format</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – If one of the arguments is None</p></li>
<li><p><strong>ValueError</strong> – If <em>colorname</em> not <code class="docutils literal notranslate"><span class="pre">&quot;bgcolor&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;fgcolor&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;hlcolor&quot;</span></code></p></li>
<li><p><strong>ValueError</strong> – If color length is not <code class="docutils literal notranslate"><span class="pre">7</span></code> and first character not <code class="docutils literal notranslate"><span class="pre">&quot;#&quot;</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.SetColorThemeByVideoId">
<code class="sig-name descname"><span class="pre">SetColorThemeByVideoId</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">videoid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.SetColorThemeByVideoId"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.SetColorThemeByVideoId" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is for setting a color for a video.
Valid color names are the following and must be given as string to the <em>colorname</em> parameter.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;bgcolor&quot;</span></code> -  Background color</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;fgcolor&quot;</span></code> -  Primary foreground color</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;hlcolor&quot;</span></code> -  Secondary foreground color</p></li>
</ul>
</div></blockquote>
<p>The color itself must be in HTML-Format: <code class="docutils literal notranslate"><span class="pre">#RRGGBB</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>videoid</strong> – The ID of the video that color shall be set</p></li>
<li><p><strong>colorname</strong> (<em>str</em>) – Name of the color that shall be set</p></li>
<li><p><strong>color</strong> (<em>str</em>) – Color in HTML format</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – If one of the arguments is None</p></li>
<li><p><strong>ValueError</strong> – If <em>colorname</em> not <code class="docutils literal notranslate"><span class="pre">&quot;bgcolor&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;fgcolor&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;hlcolor&quot;</span></code></p></li>
<li><p><strong>ValueError</strong> – If color length is not <code class="docutils literal notranslate"><span class="pre">7</span></code> and first character not <code class="docutils literal notranslate"><span class="pre">&quot;#&quot;</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.SetLyrics">
<code class="sig-name descname"><span class="pre">SetLyrics</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">songid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lyrics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lyricsstate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.SetLyrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.SetLyrics" title="Permalink to this definition">¶</a></dt>
<dd><p>This method can be used to store or to update lyrics of a song.
It stores the lyrics in the lyrics table and updates the lyrics state in the songs table for a given song.</p>
<p>If there are no lyrics for the song, or lyrics shall be removed, the lyrics argument must be <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>.
In this case the lyrics state gets forced to <code class="docutils literal notranslate"><span class="pre">SONG_LYRICSSTATE_EMPTY</span></code>.
Only excepetion is, when the <em>lyricsstate</em> is <code class="docutils literal notranslate"><span class="pre">SONG_LYRICSSTATE_NONE</span></code> which indicates that the song does not have lyrics at all.
For example, instrumental songs or intros.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>songid</strong> (<em>int</em>) – ID of the song the lyrics belong to</p></li>
<li><p><strong>lyrics</strong> (<em>str</em>) – The lyrics to store</p></li>
<li><p><strong>lyricsstate</strong> (<em>int</em>) – The new state of the lyrics. Default is “From User” (<code class="docutils literal notranslate"><span class="pre">SONG_LYRICSSTATE_FROMUSER</span></code>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Always <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – When <em>sonid</em> is not an integer or string</p></li>
<li><p><strong>TypeError</strong> – If lyrics state is not a number.</p></li>
<li><p><strong>ValueError</strong> – If lyrics state is not in <code class="docutils literal notranslate"><span class="pre">SONG_LYRICSSTATE_*</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.SetTargetTag">
<code class="sig-name descname"><span class="pre">SetTargetTag</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targetid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tagid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">approval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confidence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.SetTargetTag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.SetTargetTag" title="Permalink to this definition">¶</a></dt>
<dd><p>This method sets a tag for a target.
A target can be a song (<code class="docutils literal notranslate"><span class="pre">target</span> <span class="pre">=</span> <span class="pre">&quot;song&quot;</span></code>), a video (<code class="docutils literal notranslate"><span class="pre">target</span> <span class="pre">=</span> <span class="pre">&quot;video&quot;</span></code>) or an album (<code class="docutils literal notranslate"><span class="pre">target</span> <span class="pre">=</span> <span class="pre">&quot;album&quot;</span></code>).</p>
<p>The defaults for this method assume that the tag got set by a user.</p>
<blockquote>
<div><ul class="simple">
<li><p>If <em>approval</em> equals <code class="docutils literal notranslate"><span class="pre">1</span></code> or <code class="docutils literal notranslate"><span class="pre">2</span></code>, the confidence gets set to <code class="docutils literal notranslate"><span class="pre">1.0</span></code>.</p></li>
<li><p>If <em>approval</em> equals <code class="docutils literal notranslate"><span class="pre">0</span></code> a <em>confidence</em> must be given, otherwise an <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code> gets thrown.</p></li>
</ul>
</div></blockquote>
<p>If the tag was already set, the <em>approval</em> and <em>confidence</em> values get updated.
But only if the new approval level is greater or equal to the already set one.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<em>str</em>) – Target that shall be tagged (<code class="docutils literal notranslate"><span class="pre">&quot;song&quot;</span></code> for a song, <code class="docutils literal notranslate"><span class="pre">&quot;video&quot;</span></code> for a video, <code class="docutils literal notranslate"><span class="pre">&quot;album&quot;</span></code> for an album)</p></li>
<li><p><strong>targetid</strong> (<em>int</em>) – ID of the target that shall be tagged. (a song ID, videoid or an album ID)</p></li>
<li><p><strong>tagid</strong> (<em>int</em>) – ID of the tag that shall be associated with the target</p></li>
<li><p><strong>approval</strong> (<em>int</em>) – Approval of the association. Default is <code class="docutils literal notranslate"><span class="pre">1</span></code> - “Set by User”</p></li>
<li><p><strong>confidence</strong> (<em>float</em>) – Confidence of the association in case <em>approval</em> is <code class="docutils literal notranslate"><span class="pre">0</span></code> - “Set by AI”</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError</strong> – If <code class="docutils literal notranslate"><span class="pre">target</span></code> not in <code class="docutils literal notranslate"><span class="pre">{&quot;song&quot;,</span> <span class="pre">&quot;album&quot;,</span> <span class="pre">&quot;video&quot;}</span></code></p></li>
<li><p><strong>TypeError</strong> – If <code class="docutils literal notranslate"><span class="pre">approval</span> <span class="pre">==</span> <span class="pre">0</span> <span class="pre">and</span> <span class="pre">confidence</span> <span class="pre">==</span> <span class="pre">None</span></code></p></li>
<li><p><strong>ValueError</strong> – If <code class="docutils literal notranslate"><span class="pre">approval</span></code> not in <code class="docutils literal notranslate"><span class="pre">{0,1,2}</span></code></p></li>
<li><p><strong>ValueError</strong> – If <code class="docutils literal notranslate"><span class="pre">targetid</span> <span class="pre">==</span> <span class="pre">None</span> <span class="pre">or</span> <span class="pre">tagid</span> <span class="pre">==</span> <span class="pre">None</span></code></p></li>
<li><p><strong>AssertionError</strong> – If there already exists more than one entry</p></li>
<li><p><strong>ValueError</strong> – When there is no tag existing with the given tagid</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.SetVideoFrames">
<code class="sig-name descname"><span class="pre">SetVideoFrames</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">videoid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">framesdirectory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thumbnailfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">previewfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.SetVideoFrames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.SetVideoFrames" title="Permalink to this definition">¶</a></dt>
<dd><p>This method updates the frames directory, thumbnail file and preview file entry in the database
for a video with the ID <code class="docutils literal notranslate"><span class="pre">videoid</span></code>.</p>
<p>The files and directory can be <code class="docutils literal notranslate"><span class="pre">None</span></code>.
In this case the values will not be changed.
The video ID must be a valid ID of a video existing in the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>videoid</strong> (<em>int</em>) – ID of the video that database entry shall be updated</p></li>
<li><p><strong>framesdirectory</strong> (<em>str</em><em>, </em><em>NoneType</em>) – Path of the video specific sub directory containing all frames/preview files. Relative to the video frames root directory</p></li>
<li><p><strong>thumbnailfile</strong> (<em>str</em><em>, </em><em>NoneType</em>) – File name of the frame that shall be used as thumbnail, relative to <code class="docutils literal notranslate"><span class="pre">framesdir</span></code></p></li>
<li><p><strong>previewfile</strong> (<em>str</em><em>, </em><em>NoneType</em>) – File name of the preview animation, relative to <code class="docutils literal notranslate"><span class="pre">framesdir</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> on success, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>TypeError</strong> – when the types of the arguments mismatch</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.SetVideoTimeFrame">
<code class="sig-name descname"><span class="pre">SetVideoTimeFrame</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">videoid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">begin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.SetVideoTimeFrame"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.SetVideoTimeFrame" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the time frame for a video.
This time frame defines where the player should start playing the video
and where it should end.
The values are floating point numbers an represent the second inside the video file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>videoid</strong> (<em>int</em>) – ID of the video</p></li>
<li><p><strong>begin</strong> (<em>int</em>) – Begin of the main content in seconds.</p></li>
<li><p><strong>end</strong> (<em>int</em>) – End of the main content in seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> on success, otherwise false</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – If begin or end if not int</p></li>
<li><p><strong>ValueError</strong> – If begin &gt; end</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.SplitTagsByClass">
<code class="sig-name descname"><span class="pre">SplitTagsByClass</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tags</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.SplitTagsByClass"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.SplitTagsByClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits a list of tags into several lists, each of a specific class.</p>
<p>If the <em>tags</em> parameter is <code class="docutils literal notranslate"><span class="pre">None</span></code>, this method returns <code class="docutils literal notranslate"><span class="pre">[]</span></code> for each class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tags</strong> (<em>list</em>) – A list of tags</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>genres, subgenres, moods</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>three lists, each of a specific class</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – If a tag contains an invalid class ID</p>
</dd>
</dl>
<p>Exampe:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">tags</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="n">GetTagretTags</span><span class="p">(</span><span class="s2">&quot;song&quot;</span><span class="p">,</span> <span class="n">songid</span><span class="p">)</span>
<span class="n">genres</span><span class="p">,</span> <span class="n">subgenres</span><span class="p">,</span> <span class="n">moods</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="n">SplitTagsByClass</span><span class="p">(</span><span class="n">tags</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.UpdateMusicProperty">
<code class="sig-name descname"><span class="pre">UpdateMusicProperty</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">musicid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">musictype</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.UpdateMusicProperty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.UpdateMusicProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>This method updates a songs or videos property and statistic, depending on the value of <code class="docutils literal notranslate"><span class="pre">musictype</span></code>.</p>
<p>Statistics are:</p>
<blockquote>
<div><ul class="simple">
<li><p>Statistics: <code class="docutils literal notranslate"><span class="pre">&quot;likes&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;dislikes&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;lastplayed&quot;</span></code></p></li>
<li><p>Properties: <code class="docutils literal notranslate"><span class="pre">&quot;favorite&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;disabled&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;liverecording&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;badaudio&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;lyricsvideo&quot;</span></code> (for videos only)</p></li>
</ul>
</div></blockquote>
<p>Possible values are:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;inc&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;love&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;yes&quot;</span></code>: Increment value or set to <code class="docutils literal notranslate"><span class="pre">1</span></code> for boolean properties</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;dec&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;hate&quot;</span></code>: Decrement value</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;reset&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;no&quot;</span></code>: Set value to <code class="docutils literal notranslate"><span class="pre">0</span></code></p></li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">favorite</span></code> can have three states:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-1</span></code>: Hated song</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">0</span></code>: Normal song</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: Loved song</p></li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">likes</span></code> and <code class="docutils literal notranslate"><span class="pre">dislikes</span></code> can be incremented and decremented.</p>
<p><code class="docutils literal notranslate"><span class="pre">lastplayed</span></code> expects the unix time as integer given as value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>musicid</strong> (<em>int</em>) – ID of the song or video</p></li>
<li><p><strong>stat</strong> (<em>str</em>) – Name of the statistics to update</p></li>
<li><p><strong>value</strong> (<em>str/int</em>) – How to update</p></li>
<li><p><strong>musictype</strong> (<em>str</em>) – <code class="docutils literal notranslate"><span class="pre">&quot;song&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;video&quot;</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – When <em>songid</em> is not an integer or string</p></li>
<li><p><strong>ValueError</strong> – if stats or value have an invalid value. Deprecated statistics do not raise an exception.</p></li>
<li><p><strong>TypeError</strong> – When <code class="docutils literal notranslate"><span class="pre">stat</span> <span class="pre">==</span> <span class="pre">&quot;lastplayed&quot;</span></code> but <code class="docutils literal notranslate"><span class="pre">value</span></code> is not an integer</p></li>
<li><p><strong>ValueError</strong> – When an expected unix time is less than 0</p></li>
<li><p><strong>ValueError</strong> – When <code class="docutils literal notranslate"><span class="pre">musictype</span></code> is not <code class="docutils literal notranslate"><span class="pre">&quot;song&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;video&quot;</span></code></p></li>
<li><p><strong>ValueError</strong> – For an unknown property or statistic</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.UpdateSongStatistic">
<code class="sig-name descname"><span class="pre">UpdateSongStatistic</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">songid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.UpdateSongStatistic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.UpdateSongStatistic" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias to <a class="reference internal" href="#lib.db.musicdb.MusicDatabase.UpdateMusicProperty" title="lib.db.musicdb.MusicDatabase.UpdateMusicProperty"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateMusicProperty()</span></code></a> with last parameter <code class="docutils literal notranslate"><span class="pre">musictype</span> <span class="pre">=</span> <span class="pre">&quot;song&quot;</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.UpdateVideoStatistic">
<code class="sig-name descname"><span class="pre">UpdateVideoStatistic</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">videoid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.UpdateVideoStatistic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.UpdateVideoStatistic" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias to <a class="reference internal" href="#lib.db.musicdb.MusicDatabase.UpdateMusicProperty" title="lib.db.musicdb.MusicDatabase.UpdateMusicProperty"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateMusicProperty()</span></code></a> with last parameter <code class="docutils literal notranslate"><span class="pre">musictype</span> <span class="pre">=</span> <span class="pre">&quot;video&quot;</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.WriteAlbum">
<code class="sig-name descname"><span class="pre">WriteAlbum</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">album</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.WriteAlbum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.WriteAlbum" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the whole row for an album.</p>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.WriteArtist">
<code class="sig-name descname"><span class="pre">WriteArtist</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">artist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.WriteArtist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.WriteArtist" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the whole row for an artist.</p>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.WriteSong">
<code class="sig-name descname"><span class="pre">WriteSong</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">song</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.WriteSong"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.WriteSong" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the whole row for a song.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>song</strong> – A dictionary representing a whole row in the songs table</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.WriteTag">
<code class="sig-name descname"><span class="pre">WriteTag</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.WriteTag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.WriteTag" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the whole row for a tag.</p>
</dd></dl>

<dl class="py method">
<dt id="lib.db.musicdb.MusicDatabase.WriteVideo">
<code class="sig-name descname"><span class="pre">WriteVideo</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">video</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lib/db/musicdb.html#MusicDatabase.WriteVideo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lib.db.musicdb.MusicDatabase.WriteVideo" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the whole row for a video.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>video</strong> – A dictionary representing a whole row in the videos table</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018,2019,2020,2021 Ralf Stemmer.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'7.1.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>